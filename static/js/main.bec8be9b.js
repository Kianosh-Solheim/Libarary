/*! For license information please see main.bec8be9b.js.LICENSE.txt */
(()=>{var e={4:(e,t,r)=>{"use strict";var n=r(853),i=r(43),o=r(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(c(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var k=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case E:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(r){}}return null}var D=Array.isArray,P=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},F=[],B=-1;function j(e){return{current:e}}function U(e){0>B||(e.current=F[B],F[B]=null,B--)}function V(e,t){B++,F[B]=e.current,e.current=t}var z=j(null),H=j(null),W=j(null),G=j(null);function X(e,t){switch(V(W,t),V(H,e),V(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(z),V(z,e)}function K(){U(z),U(H),U(W)}function q(e){null!==e.memoizedState&&V(G,e);var t=z.current,r=oh(t,e.type);t!==r&&(V(H,e),V(z,r))}function Y(e){H.current===e&&(U(z),U(H)),G.current===e&&(U(G),qh._currentValue=L)}var Z=Object.prototype.hasOwnProperty,$=n.unstable_scheduleCallback,Q=n.unstable_cancelCallback,J=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ie=n.unstable_UserBlockingPriority,oe=n.unstable_NormalPriority,ae=n.unstable_LowPriority,se=n.unstable_IdlePriority,ce=n.log,le=n.unstable_setDisableYieldValue,ue=null,he=null;function fe(e){if("function"===typeof ce&&le(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var de=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&n;return 0!==s?0!==(n=s&~o)?i=ye(n):0!==(a&=s)?i=ye(a):r||0!==(r=s&~e)&&(i=ye(r)):0!==(s=n&~o)?i=ye(s):0!==a?i=ye(a):r||0!==(r=n&~e)&&(i=ye(r)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(r=t&-t)||32===o&&0!==(4194048&r))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ce(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-de(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Ie(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-de(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function xe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ke(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:uf(e.type)}var Oe=Math.random().toString(36).slice(2),Re="__reactFiber$"+Oe,De="__reactProps$"+Oe,Pe="__reactContainer$"+Oe,Me="__reactEvents$"+Oe,Le="__reactListeners$"+Oe,Fe="__reactHandles$"+Oe,Be="__reactResources$"+Oe,je="__reactMarker$"+Oe;function Ue(e){delete e[Re],delete e[De],delete e[Me],delete e[Le],delete e[Fe]}function Ve(e){var t=e[Re];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pe]||r[Re]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=wh(e);null!==e;){if(r=e[Re])return r;e=wh(e)}return t}r=(e=r).parentNode}return null}function ze(e){if(e=e[Re]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function We(e){var t=e[Be];return t||(t=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[je]=!0}var Xe=new Set,Ke={};function qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var Ze,$e,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,r){if(i=t,Z.call(et,i)||!Z.call(Je,i)&&(Qe.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var i}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function it(e){if(void 0===Ze)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",$e=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+$e}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var n=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(o){n=o}e.call(r.prototype)}}else{try{throw Error()}catch(a){n=a}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(s){if(s&&n&&"string"===typeof s.stack)return[s.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var c=a.split("\n"),l=s.split("\n");for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===l.length)for(n=c.length-1,i=l.length-1;1<=n&&0<=i&&c[n]!==l[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==l[i]){if(1!==n||1!==i)do{if(n--,0>--i||c[n]!==l[i]){var u="\n"+c[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?it(r):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function ct(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function dt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,r,n,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,lt(t)):null!=r?yt(e,a,lt(r)):null!=n&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+lt(s):e.removeAttribute("name")}function vt(e,t,r,n,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=r){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:i)&&"symbol"!==typeof n&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,r){"number"===t&&dt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function wt(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(a(92));if(D(n)){if(1<n.length)throw Error(a(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function _t(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||St.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function At(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&Ct(e,i,n)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Dt=null;function Pt(e){var t=ze(e);if(t&&(e=t.stateNode)){var r=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[De]||null;if(!i)throw Error(a(90));mt(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ft(n)}break e;case"textarea":bt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&wt(e,!!r.multiple,t,!1)}}}var Mt=!1;function Lt(e,t,r){if(Mt)return e(t,r);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Rt||null!==Dt)&&(Vl(),Rt&&(t=Rt,e=Dt,Dt=Rt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function Ft(e,t){var r=e.stateNode;if(null===r)return null;var n=r[De]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),jt=!1;if(Bt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Pf){jt=!1}var Vt=null,zt=null,Ht=null;function Wt(){if(Ht)return Ht;var e,t,r=zt,n=r.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Kt(){return!1}function qt(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:Kt,this.isPropagationStopped=Kt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var Yt,Zt,$t,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=qt(Qt),er=f({},Qt,{view:0,detail:0}),tr=qt(er),rr=f({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Zt=e.screenY-$t.screenY):Zt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),nr=qt(rr),ir=qt(f({},rr,{dataTransfer:0})),or=qt(f({},er,{relatedTarget:0})),ar=qt(f({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),sr=qt(f({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cr=qt(f({},Qt,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hr[e])&&!!t[e]}function dr(){return fr}var pr=qt(f({},er,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gr=qt(f({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mr=qt(f({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr})),vr=qt(f({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yr=qt(f({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wr=qt(f({},Qt,{newState:0,oldState:0})),br=[9,13,27,32],Er=Bt&&"CompositionEvent"in window,_r=null;Bt&&"documentMode"in document&&(_r=document.documentMode);var Sr=Bt&&"TextEvent"in window&&!_r,Cr=Bt&&(!Er||_r&&8<_r&&11>=_r),Ar=String.fromCharCode(32),Tr=!1;function Ir(e,t){switch(e){case"keyup":return-1!==br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var kr=!1;var Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nr[e.type]:"textarea"===t}function Rr(e,t,r,n){Rt?Dt?Dt.push(n):Dt=[n]:Rt=n,0<(t=Wu(t,"onChange")).length&&(r=new Jt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dr=null,Pr=null;function Mr(e){Lu(e,0)}function Lr(e){if(ft(He(e)))return e}function Fr(e,t){if("change"===e)return t}var Br=!1;if(Bt){var jr;if(Bt){var Ur="oninput"in document;if(!Ur){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Ur="function"===typeof Vr.oninput}jr=Ur}else jr=!1;Br=jr&&(!document.documentMode||9<document.documentMode)}function zr(){Dr&&(Dr.detachEvent("onpropertychange",Hr),Pr=Dr=null)}function Hr(e){if("value"===e.propertyName&&Lr(Pr)){var t=[];Rr(t,Pr,e,Ot(e)),Lt(Mr,t)}}function Wr(e,t,r){"focusin"===e?(zr(),Pr=r,(Dr=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&zr()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lr(Pr)}function Xr(e,t){if("click"===e)return Lr(t)}function Kr(e,t){if("input"===e||"change"===e)return Lr(t)}var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Z.call(t,i)||!qr(e[i],t[i]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $r(e,t){var r,n=Zr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zr(n)}}function Qr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(e){for(var t=dt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=dt((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Bt&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,on=null,an=!1;function sn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;an||null==rn||rn!==dt(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},on&&Yr(on,n)||(on=n,0<(n=Wu(nn,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function cn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},un={},hn={};function fn(e){if(un[e])return un[e];if(!ln[e])return e;var t,r=ln[e];for(t in r)if(r.hasOwnProperty(t)&&t in hn)return un[e]=r[t];return e}Bt&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var dn=fn("animationend"),pn=fn("animationiteration"),gn=fn("animationstart"),mn=fn("transitionrun"),vn=fn("transitionstart"),yn=fn("transitioncancel"),wn=fn("transitionend"),bn=new Map,En="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){bn.set(e,t),qe(t,[e])}En.push("scrollEnd");var Sn=new WeakMap;function Cn(e,t){if("object"===typeof e&&null!==e){var r=Sn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:ct(t)},Sn.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var An=[],Tn=0,In=0;function xn(){for(var e=Tn,t=In=Tn=0;t<e;){var r=An[t];An[t++]=null;var n=An[t];An[t++]=null;var i=An[t];An[t++]=null;var o=An[t];if(An[t++]=null,null!==n&&null!==i){var a=n.pending;null===a?i.next=i:(i.next=a.next,a.next=i),n.pending=i}0!==o&&Rn(r,i,o)}}function kn(e,t,r,n){An[Tn++]=e,An[Tn++]=t,An[Tn++]=r,An[Tn++]=n,In|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Nn(e,t,r,n){return kn(e,t,r,n),Dn(e)}function On(e,t){return kn(e,null,null,t),Dn(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var i=!1,o=e.return;null!==o;)o.childLanes|=r,null!==(n=o.alternate)&&(n.childLanes|=r),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-de(r),null===(n=(e=o.hiddenUpdates)[i])?e[i]=[t]:n.push(t),t.lane=536870912|r),o):null}function Dn(e){if(50<Rl)throw Rl=0,Dl=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pn={};function Mn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,r,n){return new Mn(e,t,r,n)}function Fn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bn(e,t){var r=e.alternate;return null===r?((r=Ln(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function jn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,r,n,i,o){var s=0;if(n=e,"function"===typeof e)Fn(e)&&(s=1);else if("string"===typeof e)s=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Ln(31,r,t,i)).elementType=I,e.lanes=o,e;case m:return Vn(r.children,i,o,t);case v:s=8,i|=24;break;case y:return(e=Ln(12,r,t,2|i)).elementType=y,e.lanes=o,e;case S:return(e=Ln(13,r,t,i)).elementType=S,e.lanes=o,e;case C:return(e=Ln(19,r,t,i)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:case E:s=10;break e;case b:s=9;break e;case _:s=11;break e;case A:s=14;break e;case T:s=16,n=null;break e}s=29,r=Error(a(130,null===e?"null":typeof e,"")),n=null}return(t=Ln(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Vn(e,t,r,n){return(e=Ln(7,e,n,t)).lanes=r,e}function zn(e,t,r){return(e=Ln(6,e,null,t)).lanes=r,e}function Hn(e,t,r){return(t=Ln(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wn=[],Gn=0,Xn=null,Kn=0,qn=[],Yn=0,Zn=null,$n=1,Qn="";function Jn(e,t){Wn[Gn++]=Kn,Wn[Gn++]=Xn,Xn=e,Kn=t}function ei(e,t,r){qn[Yn++]=$n,qn[Yn++]=Qn,qn[Yn++]=Zn,Zn=e;var n=$n;e=Qn;var i=32-de(n)-1;n&=~(1<<i),r+=1;var o=32-de(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,$n=1<<32-de(t)+i|r<<i|n,Qn=o+e}else $n=1<<o|r<<i|n,Qn=e}function ti(e){null!==e.return&&(Jn(e,1),ei(e,1,0))}function ri(e){for(;e===Xn;)Xn=Wn[--Gn],Wn[Gn]=null,Kn=Wn[--Gn],Wn[Gn]=null;for(;e===Zn;)Zn=qn[--Yn],qn[Yn]=null,Qn=qn[--Yn],qn[Yn]=null,$n=qn[--Yn],qn[Yn]=null}var ni=null,ii=null,oi=!1,ai=null,si=!1,ci=Error(a(519));function li(e){throw gi(Cn(Error(a(418,"")),e)),ci}function ui(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Re]=e,t[De]=n,r){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(r=0;r<Pu.length;r++)Fu(Pu[r],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),Et(t,n.value,n.defaultValue,n.children),ht(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Zu(t.textContent,r)?(null!=n.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=n.onScroll&&Fu("scroll",t),null!=n.onScrollEnd&&Fu("scrollend",t),null!=n.onClick&&(t.onclick=$u),t=!0):t=!1,t||li(e)}function hi(e){for(ni=e.return;ni;)switch(ni.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ni=ni.return}}function fi(e){if(e!==ni)return!1;if(!oi)return hi(e),oi=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&li(e),hi(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){ii=vh(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}ii=null}}else 27===r?(r=ii,dh(e.type)?(e=yh,yh=null,ii=e):ii=r):ii=ni?vh(e.stateNode.nextSibling):null;return!0}function di(){ii=ni=null,oi=!1}function pi(){var e=ai;return null!==e&&(null===wl?wl=e:wl.push.apply(wl,e),ai=null),e}function gi(e){null===ai?ai=[e]:ai.push(e)}var mi=j(null),vi=null,yi=null;function wi(e,t,r){V(mi,t._currentValue),t._currentValue=r}function bi(e){e._currentValue=mi.current,U(mi)}function Ei(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _i(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var c=o;o=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ei(o.return,r,e),n||(s=null);break e}o=c.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=r,null!==(o=s.alternate)&&(o.lanes|=r),Ei(s,r,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,r,n){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var c=i.type;qr(i.pendingProps.value,s.value)||(null!==e?e.push(c):e=[c])}}else if(i===G.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(qh):e=[qh])}i=i.return}null!==e&&_i(t,e,r,n),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!qr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return xi(vi,e)}function Ii(e,t){return null===vi&&Ai(e),xi(e,t)}function xi(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===yi){if(null===e)throw Error(a(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return r}var ki="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ni=n.unstable_scheduleCallback,Oi=n.unstable_NormalPriority,Ri={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Di(){return{controller:new ki,data:new Map,refCount:0}}function Pi(e){e.refCount--,0===e.refCount&&Ni(Oi,function(){e.controller.abort()})}var Mi=null,Li=0,Fi=0,Bi=null;function ji(){if(0===--Li&&null!==Mi){null!==Bi&&(Bi.status="fulfilled");var e=Mi;Mi=null,Fi=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var r=Mi=[];Li=0,Fi=ku(),Bi={status:"pending",value:void 0,then:function(e){r.push(e)}}}Li++,t.then(ji,ji)}(0,t),null!==Ui&&Ui(e,t)};var Vi=j(null);function zi(){var e=Vi.current;return null!==e?e:nl.pooledCache}function Hi(e,t){V(Vi,null===t?Vi.current:t.pool)}function Wi(){var e=zi();return null===e?null:{parent:Ri._currentValue,pool:e}}var Gi=Error(a(460)),Xi=Error(a(474)),Ki=Error(a(542)),qi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function $i(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Zi,Zi),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zi,Zi);else{if(null!==(e=nl)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Qi=t,Gi}}var Qi=null;function Ji(){if(null===Qi)throw Error(a(459));var e=Qi;return Qi=null,e}function eo(e){if(e===Gi||e===Ki)throw Error(a(483))}var to=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function no(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Dn(e),Rn(e,null,r),t}return kn(e,n,t,r),Dn(e)}function ao(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ie(e,r)}}function so(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var co=!1;function lo(){if(co){if(null!==Bi)throw Bi}}function uo(e,t,r,n){co=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(a=0,u=l=c=null,s=o;;){var d=-536870913&s.lane,p=d!==s.lane;if(p?(ol&d)===d:(n&d)===d){0!==d&&d===Fi&&(co=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;d=t;var v=r;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(v,h,d);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=m.payload)?g.call(v,h,d):g)||void 0===d)break e;h=f({},h,d);break e;case 2:to=!0}}null!==(d=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=h):u=u.next=p,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),dl|=a,e.lanes=a,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function fo(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ho(r[e],t)}var po=j(null),go=j(0);function mo(e,t){V(go,e=hl),V(po,t),hl=e|t.baseLanes}function vo(){V(go,hl),V(po,po.current)}function yo(){hl=go.current,U(po),U(go)}var wo=0,bo=null,Eo=null,_o=null,So=!1,Co=!1,Ao=!1,To=0,Io=0,xo=null,ko=0;function No(){throw Error(a(321))}function Oo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function Ro(e,t,r,n,i,o){return wo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Xa:Ka,Ao=!1,o=r(n,i),Ao=!1,Co&&(o=Po(t,r,n,i)),Do(e),o}function Do(e){P.H=Ga;var t=null!==Eo&&null!==Eo.next;if(wo=0,_o=Eo=bo=null,So=!1,Io=0,xo=null,t)throw Error(a(300));null===e||Is||null!==(e=e.dependencies)&&Ci(e)&&(Is=!0)}function Po(e,t,r,n){bo=e;var i=0;do{if(Co&&(xo=null),Io=0,Co=!1,25<=i)throw Error(a(301));if(i+=1,_o=Eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}P.H=qa,o=t(r,n)}while(Co);return o}function Mo(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?Vo(t):t,e=e.useState()[0],(null!==Eo?Eo.memoizedState:null)!==e&&(bo.flags|=1024),t}function Lo(){var e=0!==To;return To=0,e}function Fo(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Bo(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}wo=0,_o=Eo=bo=null,Co=!1,Io=To=0,xo=null}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_o?bo.memoizedState=_o=e:_o=_o.next=e,_o}function Uo(){if(null===Eo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=Eo.next;var t=null===_o?bo.memoizedState:_o.next;if(null!==t)_o=t,Eo=e;else{if(null===e){if(null===bo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Eo=e).memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},null===_o?bo.memoizedState=_o=e:_o=_o.next=e}return _o}function Vo(e){var t=Io;return Io+=1,null===xo&&(xo=[]),e=$i(xo,e,t),t=bo,null===(null===_o?t.memoizedState:_o.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Xa:Ka),e}function zo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vo(e);if(e.$$typeof===E)return Ti(e)}throw Error(a(438,String(e)))}function Ho(e){var t=null,r=bo.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=bo.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=x;return t.index++,r}function Wo(e,t){return"function"===typeof t?t(e):t}function Go(e){return Xo(Uo(),Eo,e)}function Xo(e,t,r){var n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=r;var i=e.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,n.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var c=s=null,l=null,u=t=i.next,h=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(ol&f)===f:(wo&f)===f){var d=u.revertLane;if(0===d)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Fi&&(h=!0);else{if((wo&d)===d){u=u.next,d===Fi&&(h=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,s=o):l=l.next=f,bo.lanes|=d,dl|=d}f=u.action,Ao&&r(o,f),o=u.hasEagerState?u.eagerState:r(o,f)}else d={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,s=o):l=l.next=d,bo.lanes|=f,dl|=f;u=u.next}while(null!==u&&u!==t);if(null===l?s=o:l.next=c,!qr(o,e.memoizedState)&&(Is=!0,h&&null!==(r=Bi)))throw r;e.memoizedState=o,e.baseState=s,e.baseQueue=l,n.lastRenderedState=o}return null===i&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ko(e){var t=Uo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);qr(o,t.memoizedState)||(Is=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function qo(e,t,r){var n=bo,i=Uo(),o=oi;if(o){if(void 0===r)throw Error(a(407));r=r()}else r=t();var s=!qr((Eo||i).memoizedState,r);if(s&&(i.memoizedState=r,Is=!0),i=i.queue,va(2048,8,$o.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==_o&&1&_o.memoizedState.tag){if(n.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Zo.bind(null,n,i,r,t),null),null===nl)throw Error(a(349));o||0!==(124&wo)||Yo(n,t,r)}return r}function Yo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Zo(e,t,r,n){t.value=r,t.getSnapshot=n,Qo(t)&&Jo(e)}function $o(e,t,r){return r(function(){Qo(t)&&Jo(e)})}function Qo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch(n){return!0}}function Jo(e){var t=On(e,2);null!==t&&Ll(t,e,2)}function ea(e){var t=jo();if("function"===typeof e){var r=e;if(e=r(),Ao){fe(!0);try{r()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ta(e,t,r,n){return e.baseState=r,Xo(e,Eo,"function"===typeof n?n:Wo)}function ra(e,t,r,n,i){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==P.T?r(!0):o.isTransition=!1,n(o),null===(r=t.pending)?(o.next=t.pending=o,na(t,o)):(o.next=r.next,t.pending=r.next=o)}}function na(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var o=P.T,a={};P.T=a;try{var s=r(i,n),c=P.S;null!==c&&c(a,s),ia(e,t,s)}catch(l){aa(e,t,l)}finally{P.T=o}}else try{ia(e,t,o=r(i,n))}catch(u){aa(e,t,u)}}function ia(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){oa(e,t,r)},function(r){return aa(e,t,r)}):oa(e,t,r)}function oa(e,t,r){t.status="fulfilled",t.value=r,sa(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,na(e,r)))}function aa(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,sa(t),t=t.next}while(t!==n)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ca(e,t){return t}function la(e,t){if(oi){var r=nl.formState;if(null!==r){e:{var n=bo;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vh(i.nextSibling),n="F!"===i.data;break e}}li(n)}n=!1}n&&(t=r[0])}}return(r=jo()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},r.queue=n,r=ja.bind(null,bo,n),n.dispatch=r,n=ea(!1),o=Va.bind(null,bo,!1,n.queue),i={state:t,dispatch:null,action:e,pending:null},(n=jo()).queue=i,r=ra.bind(null,bo,i,o,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function ua(e){return ha(Uo(),Eo,e)}function ha(e,t,r){if(t=Xo(e,t,ca)[0],e=Go(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Vo(t)}catch(a){if(a===Gi)throw Ki;throw a}else n=t;var i=(t=Uo()).queue,o=i.dispatch;return r!==t.memoizedState&&(bo.flags|=2048,pa(9,{destroy:void 0,resource:void 0},fa.bind(null,i,r),null)),[n,o,e]}function fa(e,t){e.action=t}function da(e){var t=Uo(),r=Eo;if(null!==r)return ha(t,r,e);Uo(),t=t.memoizedState;var n=(r=Uo()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function pa(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ga(){return Uo().memoizedState}function ma(e,t,r,n){var i=jo();n=void 0===n?null:n,bo.flags|=e,i.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},r,n)}function va(e,t,r,n){var i=Uo();n=void 0===n?null:n;var o=i.memoizedState.inst;null!==Eo&&null!==n&&Oo(n,Eo.memoizedState.deps)?i.memoizedState=pa(t,o,r,n):(bo.flags|=e,i.memoizedState=pa(1|t,o,r,n))}function ya(e,t){ma(8390656,8,e,t)}function wa(e,t){va(2048,8,e,t)}function ba(e,t){return va(4,2,e,t)}function Ea(e,t){return va(4,4,e,t)}function _a(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,va(4,4,_a.bind(null,t,e),r)}function Ca(){}function Aa(e,t){var r=Uo();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Oo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ta(e,t){var r=Uo();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Oo(t,n[1]))return n[0];if(n=e(),Ao){fe(!0);try{e()}finally{fe(!1)}}return r.memoizedState=[n,t],n}function Ia(e,t,r){return void 0===r||0!==(1073741824&wo)?e.memoizedState=t:(e.memoizedState=r,e=Ml(),bo.lanes|=e,dl|=e,r)}function xa(e,t,r,n){return qr(r,t)?r:null!==po.current?(e=Ia(e,r,n),qr(e,t)||(Is=!0),e):0===(42&wo)?(Is=!0,e.memoizedState=r):(e=Ml(),bo.lanes|=e,dl|=e,t)}function ka(e,t,r,n,i){var o=M.p;M.p=0!==o&&8>o?o:8;var a=P.T,s={};P.T=s,Va(e,!1,t,r);try{var c=i(),l=P.S;if(null!==l&&l(s,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)Ua(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(c,n),Pl());else Ua(e,t,n,Pl())}catch(u){Ua(e,t,{then:function(){},status:"rejected",reason:u},Pl())}finally{M.p=o,P.T=a}}function Na(){}function Oa(e,t,r,n){if(5!==e.tag)throw Error(a(476));var i=Ra(e).queue;ka(e,i,t,L,null===r?Na:function(){return Da(e),r(n)})}function Ra(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:L},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Da(e){Ua(e,Ra(e).next.queue,{},Pl())}function Pa(){return Ti(qh)}function Ma(){return Uo().memoizedState}function La(){return Uo().memoizedState}function Fa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Pl(),n=oo(t,e=io(r),r);return null!==n&&(Ll(n,t,r),ao(n,t,r)),t={cache:Di()},void(e.payload=t)}t=t.return}}function Ba(e,t,r){var n=Pl();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},za(e)?Ha(t,r):null!==(r=Nn(e,t,r,n))&&(Ll(r,e,n),Wa(r,t,n))}function ja(e,t,r){Ua(e,t,r,Pl())}function Ua(e,t,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(za(e))Ha(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,qr(s,a))return kn(e,t,i,0),null===nl&&xn(),!1}catch(c){}if(null!==(r=Nn(e,t,i,n)))return Ll(r,e,n),Wa(r,t,n),!0}return!1}function Va(e,t,r,n){if(n={lane:2,revertLane:ku(),action:n,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=Nn(e,r,n,2))&&Ll(t,e,2)}function za(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function Ha(e,t){Co=So=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wa(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ie(e,r)}}var Ga={readContext:Ti,use:zo,useCallback:No,useContext:No,useEffect:No,useImperativeHandle:No,useLayoutEffect:No,useInsertionEffect:No,useMemo:No,useReducer:No,useRef:No,useState:No,useDebugValue:No,useDeferredValue:No,useTransition:No,useSyncExternalStore:No,useId:No,useHostTransitionStatus:No,useFormState:No,useActionState:No,useOptimistic:No,useMemoCache:No,useCacheRefresh:No},Xa={readContext:Ti,use:zo,useCallback:function(e,t){return jo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ya,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,ma(4194308,4,_a.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var r=jo();t=void 0===t?null:t;var n=e();if(Ao){fe(!0);try{e()}finally{fe(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=jo();if(void 0!==r){var i=r(t);if(Ao){fe(!0);try{r(t)}finally{fe(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Ba.bind(null,bo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},jo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,r=ja.bind(null,bo,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Ca,useDeferredValue:function(e,t){return Ia(jo(),e,t)},useTransition:function(){var e=ea(!1);return e=ka.bind(null,bo,e.queue,!0,!1),jo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=bo,i=jo();if(oi){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===nl)throw Error(a(349));0!==(124&ol)||Yo(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,ya($o.bind(null,n,o,e),[e]),n.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Zo.bind(null,n,o,r,t),null),r},useId:function(){var e=jo(),t=nl.identifierPrefix;if(oi){var r=Qn;t="\xab"+t+"R"+(r=($n&~(1<<32-de($n)-1)).toString(32)+r),0<(r=To++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=ko++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Pa,useFormState:la,useActionState:la,useOptimistic:function(e){var t=jo();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Va.bind(null,bo,!0,r),r.dispatch=t,[e,t]},useMemoCache:Ho,useCacheRefresh:function(){return jo().memoizedState=Fa.bind(null,bo)}},Ka={readContext:Ti,use:zo,useCallback:Aa,useContext:Ti,useEffect:wa,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:Ea,useMemo:Ta,useReducer:Go,useRef:ga,useState:function(){return Go(Wo)},useDebugValue:Ca,useDeferredValue:function(e,t){return xa(Uo(),Eo.memoizedState,e,t)},useTransition:function(){var e=Go(Wo)[0],t=Uo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:qo,useId:Ma,useHostTransitionStatus:Pa,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Uo(),0,e,t)},useMemoCache:Ho,useCacheRefresh:La},qa={readContext:Ti,use:zo,useCallback:Aa,useContext:Ti,useEffect:wa,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:Ea,useMemo:Ta,useReducer:Ko,useRef:ga,useState:function(){return Ko(Wo)},useDebugValue:Ca,useDeferredValue:function(e,t){var r=Uo();return null===Eo?Ia(r,e,t):xa(r,Eo.memoizedState,e,t)},useTransition:function(){var e=Ko(Wo)[0],t=Uo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:qo,useId:Ma,useHostTransitionStatus:Pa,useFormState:da,useActionState:da,useOptimistic:function(e,t){var r=Uo();return null!==Eo?ta(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:La},Ya=null,Za=0;function $a(e){var t=Za;return Za+=1,null===Ya&&(Ya=[]),$i(Ya,e,t)}function Qa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===d)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Bn(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=zn(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var o=r.type;return o===m?h(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&es(o)===t.type)?(Qa(t=i(t,r.props),r),t.return=e,t):(Qa(t=Un(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Hn(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Qa(r=Un(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=Hn(t,e.mode,r)).return=e,t;case T:return f(e,t=(0,t._init)(t._payload),r)}if(D(t)||N(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return f(e,$a(t),r);if(t.$$typeof===E)return f(e,Ii(e,t),r);Ja(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===i?l(e,t,r,n):null;case g:return r.key===i?u(e,t,r,n):null;case T:return d(e,t,r=(i=r._init)(r._payload),n)}if(D(r)||N(r))return null!==i?null:h(e,t,r,n,null);if("function"===typeof r.then)return d(e,t,$a(r),n);if(r.$$typeof===E)return d(e,t,Ii(e,r),n);Ja(e,r)}return null}function v(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case g:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case T:return v(e,t,r,n=(0,n._init)(n._payload),i)}if(D(n)||N(n))return h(t,e=e.get(r)||null,n,i,null);if("function"===typeof n.then)return v(e,t,r,$a(n),i);if(n.$$typeof===E)return v(e,t,r,Ii(t,n),i);Ja(t,n)}return null}function y(c,l,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var w=u.key;null!==l;){if(l.key===w){if((w=u.type)===m){if(7===l.tag){r(c,l.sibling),(h=i(l,u.props.children)).return=c,c=h;break e}}else if(l.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===T&&es(w)===l.type){r(c,l.sibling),Qa(h=i(l,u.props),u),h.return=c,c=h;break e}r(c,l);break}t(c,l),l=l.sibling}u.type===m?((h=Vn(u.props.children,c.mode,h,u.key)).return=c,c=h):(Qa(h=Un(u.type,u.key,u.props,null,c.mode,h),u),h.return=c,c=h)}return s(c);case g:e:{for(w=u.key;null!==l;){if(l.key===w){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){r(c,l.sibling),(h=i(l,u.children||[])).return=c,c=h;break e}r(c,l);break}t(c,l),l=l.sibling}(h=Hn(u,c.mode,h)).return=c,c=h}return s(c);case T:return y(c,l,u=(w=u._init)(u._payload),h)}if(D(u))return function(i,a,s,c){for(var l=null,u=null,h=a,p=a=0,g=null;null!==h&&p<s.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=d(i,h,s[p],c);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,p),null===u?l=m:u.sibling=m,u=m,h=g}if(p===s.length)return r(i,h),oi&&Jn(i,p),l;if(null===h){for(;p<s.length;p++)null!==(h=f(i,s[p],c))&&(a=o(h,a,p),null===u?l=h:u.sibling=h,u=h);return oi&&Jn(i,p),l}for(h=n(h);p<s.length;p++)null!==(g=v(h,i,p,s[p],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=o(g,a,p),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),oi&&Jn(i,p),l}(c,l,u,h);if(N(u)){if("function"!==typeof(w=N(u)))throw Error(a(150));return function(i,s,c,l){if(null==c)throw Error(a(151));for(var u=null,h=null,p=s,g=s=0,m=null,y=c.next();null!==p&&!y.done;g++,y=c.next()){p.index>g?(m=p,p=null):m=p.sibling;var w=d(i,p,y.value,l);if(null===w){null===p&&(p=m);break}e&&p&&null===w.alternate&&t(i,p),s=o(w,s,g),null===h?u=w:h.sibling=w,h=w,p=m}if(y.done)return r(i,p),oi&&Jn(i,g),u;if(null===p){for(;!y.done;g++,y=c.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return oi&&Jn(i,g),u}for(p=n(p);!y.done;g++,y=c.next())null!==(y=v(p,i,g,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&p.forEach(function(e){return t(i,e)}),oi&&Jn(i,g),u}(c,l,u=w.call(u),h)}if("function"===typeof u.then)return y(c,l,$a(u),h);if(u.$$typeof===E)return y(c,l,Ii(c,u),h);Ja(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(r(c,l.sibling),(h=i(l,u)).return=c,c=h):(r(c,l),(h=zn(u,c.mode,h)).return=c,c=h),s(c)):r(c,l)}return function(e,t,r,n){try{Za=0;var i=y(e,t,r,n);return Ya=null,i}catch(a){if(a===Gi||a===Ki)throw a;var o=Ln(29,a,null,e.mode);return o.lanes=n,o.return=e,o}}}var rs=ts(!0),ns=ts(!1),is=j(null),os=null;function as(e){var t=e.alternate;V(us,1&us.current),V(is,e),null===os&&(null===t||null!==po.current||null!==t.memoizedState)&&(os=e)}function ss(e){if(22===e.tag){if(V(us,us.current),V(is,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else cs()}function cs(){V(us,us.current),V(is,is.current)}function ls(e){U(is),os===e&&(os=null),U(us)}var us=j(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||mh(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fs(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:f({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ds={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pl(),i=io(n);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=oo(e,i,n))&&(Ll(t,e,n),ao(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pl(),i=io(n);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=oo(e,i,n))&&(Ll(t,e,n),ao(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pl(),n=io(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=oo(e,n,r))&&(Ll(t,e,r),ao(t,e,r))}};function ps(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,n)||!Yr(i,o))}function gs(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ds.enqueueReplaceState(t,t.state,null)}function ms(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var i in r===t&&(r=f({},r)),e)void 0===r[i]&&(r[i]=e[i]);return r}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function ws(e){console.error(e)}function bs(e){vs(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function _s(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ss(e,t,r){return(r=io(r)).tag=3,r.payload={element:null},r.callback=function(){Es(e,t)},r}function Cs(e){return(e=io(e)).tag=3,e}function As(e,t,r,n){var i=r.type.getDerivedStateFromError;if("function"===typeof i){var o=n.value;e.payload=function(){return i(o)},e.callback=function(){_s(t,r,n)}}var a=r.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){_s(t,r,n),"function"!==typeof i&&(null===Cl?Cl=new Set([this]):Cl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Ts=Error(a(461)),Is=!1;function xs(e,t,r,n){t.child=null===e?ns(t,null,r,n):rs(t,e.child,r,n)}function ks(e,t,r,n,i){r=r.render;var o=t.ref;if("ref"in n){var a={};for(var s in n)"ref"!==s&&(a[s]=n[s])}else a=n;return Ai(t),n=Ro(e,t,r,a,o,i),s=Lo(),null===e||Is?(oi&&s&&ti(t),t.flags|=1,xs(e,t,n,i),t.child):(Fo(e,t,i),Ys(e,t,i))}function Ns(e,t,r,n,i){if(null===e){var o=r.type;return"function"!==typeof o||Fn(o)||void 0!==o.defaultProps||null!==r.compare?((e=Un(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Os(e,t,o,n,i))}if(o=e.child,!Zs(e,i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(a,n)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=Bn(o,n)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(Yr(o,n)&&e.ref===t.ref){if(Is=!1,t.pendingProps=n=o,!Zs(e,i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return Ms(e,t,r,n,i)}function Rs(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==o?o.baseLanes|r:r,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~n}else t.childLanes=0,t.child=null;return Ds(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Ds(e,t,null!==o?o.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==o?o.cachePool:null),null!==o?mo(t,o):vo(),ss(t)}else null!==o?(Hi(0,o.cachePool),mo(t,o),cs(),t.memoizedState=null):(null!==e&&Hi(0,null),vo(),cs());return xs(e,t,i,r),t.child}function Ds(e,t,r,n){var i=zi();return i=null===i?null:{parent:Ri._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},null!==e&&Hi(0,null),vo(),ss(t),null!==e&&Si(e,t,n,!0),null}function Ps(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(a(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Ms(e,t,r,n,i){return Ai(t),r=Ro(e,t,r,n,void 0,i),n=Lo(),null===e||Is?(oi&&n&&ti(t),t.flags|=1,xs(e,t,r,i),t.child):(Fo(e,t,i),Ys(e,t,i))}function Ls(e,t,r,n,i,o){return Ai(t),t.updateQueue=null,r=Po(t,n,r,i),Do(e),n=Lo(),null===e||Is?(oi&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(Fo(e,t,o),Ys(e,t,o))}function Fs(e,t,r,n,i){if(Ai(t),null===t.stateNode){var o=Pn,a=r.contextType;"object"===typeof a&&null!==a&&(o=Ti(a)),o=new r(n,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ds,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=n,o.state=t.memoizedState,o.refs={},ro(t),a=r.contextType,o.context="object"===typeof a&&null!==a?Ti(a):Pn,o.state=t.memoizedState,"function"===typeof(a=r.getDerivedStateFromProps)&&(fs(t,r,a,n),o.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ds.enqueueReplaceState(o,o.state,null),uo(t,n,o,i),lo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,c=ms(r,s);o.props=c;var l=o.context,u=r.contextType;a=Pn,"object"===typeof u&&null!==u&&(a=Ti(u));var h=r.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||l!==a)&&gs(t,o,n,a),to=!1;var f=t.memoizedState;o.state=f,uo(t,n,o,i),lo(),l=t.memoizedState,s||f!==l||to?("function"===typeof h&&(fs(t,r,h,n),l=t.memoizedState),(c=to||ps(t,r,c,n,f,l,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=a,n=c):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,no(e,t),u=ms(r,a=t.memoizedProps),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,c=Pn,"object"===typeof l&&null!==l&&(c=Ti(l)),(l="function"===typeof(s=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||f!==c)&&gs(t,o,n,c),to=!1,f=t.memoizedState,o.state=f,uo(t,n,o,i),lo();var d=t.memoizedState;a!==h||f!==d||to||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof s&&(fs(t,r,s,n),d=t.memoizedState),(u=to||ps(t,r,u,n,f,d,c)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Ps(e,t),n=0!==(128&t.flags),o||n?(o=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&n?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,r,i)):xs(e,t,r,i),t.memoizedState=o.state,e=t.child):e=Ys(e,t,i),e}function Bs(e,t,r,n){return di(),t.flags|=256,xs(e,t,r,n),t.child}var js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Wi()}}function Vs(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=ml),e}function zs(e,t,r){var n,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((n=s)||(n=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),n&&(o=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?as(t):cs(),oi){var c,l=ii;if(c=l){e:{for(c=l,l=si;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=vh(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Zn?{id:$n,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},(c=Ln(18,null,null,0)).stateNode=l,c.return=t,t.child=c,ni=t,ii=null,c=!0):c=!1}c||li(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return mh(l)?t.lanes=32:t.lanes=536870912,null;ls(t)}return l=i.children,i=i.fallback,o?(cs(),l=Ws({mode:"hidden",children:l},o=t.mode),i=Vn(i,o,r,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(o=t.child).memoizedState=Us(r),o.childLanes=Vs(e,n,r),t.memoizedState=js,i):(as(t),Hs(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Gs(e,t,r)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),o=i.fallback,l=t.mode,i=Ws({mode:"visible",children:i.children},l),(o=Vn(o,l,r,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,rs(t,e.child,null,r),(i=t.child).memoizedState=Us(r),i.childLanes=Vs(e,n,r),t.memoizedState=js,t=o);else if(as(t),mh(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var u=n.dgst;n=u,(i=Error(a(419))).stack="",i.digest=n,gi({value:i,source:null,stack:null}),t=Gs(e,t,r)}else if(Is||Si(e,t,r,!1),n=0!==(r&e.childLanes),Is||n){if(null!==(n=nl)&&(0!==(i=0!==((i=0!==(42&(i=r&-r))?1:xe(i))&(n.suspendedLanes|r))?0:i)&&i!==c.retryLane))throw c.retryLane=i,On(e,i),Ll(n,e,i),Ts;"$?"===l.data||Kl(),t=Gs(e,t,r)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ii=vh(l.nextSibling),ni=t,oi=!0,ai=null,si=!1,null!==e&&(qn[Yn++]=$n,qn[Yn++]=Qn,qn[Yn++]=Zn,$n=e.id,Qn=e.overflow,Zn=t),(t=Hs(t,i.children)).flags|=4096);return t}return o?(cs(),o=i.fallback,l=t.mode,u=(c=e.child).sibling,(i=Bn(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?o=Bn(u,o):(o=Vn(o,l,r,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(l=e.child.memoizedState)?l=Us(r):(null!==(c=l.cachePool)?(u=Ri._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Wi(),l={baseLanes:l.baseLanes|r,cachePool:c}),o.memoizedState=l,o.childLanes=Vs(e,n,r),t.memoizedState=js,i):(as(t),e=(r=e.child).sibling,(r=Bn(r,{mode:"visible",children:i.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Hs(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Ln(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gs(e,t,r){return rs(t,e.child,null,r),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ei(e.return,t,r)}function Ks(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function qs(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(xs(e,t,n.children,r),0!==(2&(n=us.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xs(e,r,t);else if(19===e.tag)Xs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(us,n),i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===hs(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ks(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ks(t,!0,r,null,o);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),dl|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Si(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Bn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Bn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Zs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function $s(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Is=!0;else{if(!Zs(e,r)&&0===(128&t.flags))return Is=!1,function(e,t,r){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),wi(0,Ri,e.memoizedState.cache),di();break;case 27:case 5:q(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(as(t),t.flags|=128,null):0!==(r&t.child.childLanes)?zs(e,t,r):(as(t),null!==(e=Ys(e,t,r))?e.sibling:null);as(t);break;case 19:var i=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Si(e,t,r,!1),n=0!==(r&t.childLanes)),i){if(n)return qs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(us,us.current),n)break;return null;case 22:case 23:return t.lanes=0,Rs(e,t,r);case 24:wi(0,Ri,e.memoizedState.cache)}return Ys(e,t,r)}(e,t,r);Is=0!==(131072&e.flags)}else Is=!1,oi&&0!==(1048576&t.flags)&&ei(t,Kn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((i=n.$$typeof)===_){t.tag=11,t=ks(null,t,n,e,r);break e}if(i===A){t.tag=14,t=Ns(null,t,n,e,r);break e}}throw t=R(n)||n,Error(a(306,t,""))}Fn(n)?(e=ms(n,e),t.tag=1,t=Fs(null,t,n,e,r)):(t.tag=0,t=Ms(null,t,n,e,r))}return t;case 0:return Ms(e,t,t.type,t.pendingProps,r);case 1:return Fs(e,t,n=t.type,i=ms(n,t.pendingProps),r);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(a(387));n=t.pendingProps;var o=t.memoizedState;i=o.element,no(e,t),uo(t,n,null,r);var s=t.memoizedState;if(n=s.cache,wi(0,Ri,n),n!==o.cache&&_i(t,[Ri],r,!0),lo(),n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Bs(e,t,n,r);break e}if(n!==i){gi(i=Cn(Error(a(424)),t)),t=Bs(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ni=t,oi=!0,ai=null,si=!0,r=ns(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(di(),n===i){t=Ys(e,t,r);break e}xs(e,t,n,r)}t=t.child}return t;case 26:return Ps(e,t),null===e?(r=xh(t.type,null,t.pendingProps,null))?t.memoizedState=r:oi||(r=t.type,e=t.pendingProps,(n=nh(W.current).createElement(r))[Re]=t,n[De]=e,eh(n,r,e),Ge(n),t.stateNode=n):t.memoizedState=xh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return q(t),null===e&&oi&&(n=t.stateNode=bh(t.type,t.pendingProps,W.current),ni=t,si=!0,i=ii,dh(t.type)?(yh=i,ii=vh(n.firstChild)):ii=i),xs(e,t,t.pendingProps.children,r),Ps(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=n=ii)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vh(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,si))?(t.stateNode=n,ni=t,ii=vh(n.firstChild),si=!1,i=!0):i=!1),i||li(t)),q(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,n=o.children,ah(i,o)?n=null:null!==s&&ah(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Ro(e,t,Mo,null,null,r),qh._currentValue=i),Ps(e,t),xs(e,t,n,r),t.child;case 6:return null===e&&oi&&((e=r=ii)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(r,t.pendingProps,si))?(t.stateNode=r,ni=t,ii=null,e=!0):e=!1),e||li(t)),null;case 13:return zs(e,t,r);case 4:return X(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=rs(t,null,n,r):xs(e,t,n,r),t.child;case 11:return ks(e,t,t.type,t.pendingProps,r);case 7:return xs(e,t,t.pendingProps,r),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,wi(0,t.type,n.value),xs(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Ai(t),n=n(i=Ti(i)),t.flags|=1,xs(e,t,n,r),t.child;case 14:return Ns(e,t,t.type,t.pendingProps,r);case 15:return Os(e,t,t.type,t.pendingProps,r);case 19:return qs(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Ws(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Bn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Rs(e,t,r);case 24:return Ai(t),n=Ti(Ri),null===e?(null===(i=zi())&&(i=nl,o=Di(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=r),i=o),t.memoizedState={parent:n,cache:i},ro(t),wi(0,Ri,i)):(0!==(e.lanes&r)&&(no(e,t),uo(t,null,null,r),lo()),i=e.memoizedState,o=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wi(0,Ri,n)):(n=o.cache,wi(0,Ri,n),n!==i.cache&&_i(t,[Ri],r,!0))),xs(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Qs(e){e.flags|=4}function Js(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vh(t)){if(null!==(t=is.current)&&((4194048&ol)===ol?null!==os:(62914560&ol)!==ol&&0===(536870912&ol)||t!==os))throw Qi=qi,Xi;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vl|=t)}function tc(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=65011712&i.subtreeFlags,n|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nc(e,t,r){var n=t.pendingProps;switch(ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rc(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Ri),K(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?Qs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),rc(t),null;case 26:return r=t.memoizedState,null===e?(Qs(t),null!==r?(rc(t),Js(t,r)):(rc(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Qs(t),rc(t),Js(t,r)):(rc(t),t.flags&=-16777217):(e.memoizedProps!==n&&Qs(t),rc(t),t.flags&=-16777217),null;case 27:Y(t),r=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Qs(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return rc(t),null}e=z.current,fi(t)?ui(t):(e=bh(i,n,r),t.stateNode=e,Qs(t))}return rc(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Qs(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return rc(t),null}if(e=z.current,fi(t))ui(t);else{switch(i=nh(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?i.createElement(r,{is:n.is}):i.createElement(r)}}e[Re]=t,e[De]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qs(t)}}return rc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Qs(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(e=W.current,fi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(i=ni))switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Zu(e.nodeValue,r)))||li(t)}else(e=nh(e).createTextNode(n))[Re]=t,t.stateNode=e}return rc(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=fi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Re]=t}else di(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rc(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ls(t),t):(ls(t),null)}if(ls(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){i=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(i=n.alternate.memoizedState.cachePool.pool);var o=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),ec(t,t.updateQueue),rc(t),null;case 4:return K(),null===e&&Uu(t.stateNode.containerInfo),rc(t),null;case 10:return bi(t.type),rc(t),null;case 19:if(U(us),null===(i=t.memoizedState))return rc(t),null;if(n=0!==(128&t.flags),null===(o=i.rendering))if(n)tc(i,!1);else{if(0!==fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,tc(i,!1),e=o.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)jn(r,e),r=r.sibling;return V(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>_l&&(t.flags|=128,n=!0,tc(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=hs(o))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return rc(t),null}else 2*te()-i.renderingStartTime>_l&&536870912!==r&&(t.flags|=128,n=!0,tc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,V(us,n?1&e|2:1&e),t):(rc(t),null);case 22:case 23:return ls(t),yo(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rc(t),6&t.subtreeFlags&&(t.flags|=8192)):rc(t),null!==(r=t.updateQueue)&&ec(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&U(Vi),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Ri),rc(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ic(e,t){switch(ri(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Ri),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ls(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));di()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return K(),null;case 10:return bi(t.type),null;case 22:case 23:return ls(t),yo(),null!==e&&U(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Ri),null;default:return null}}function oc(e,t){switch(ri(t),t.tag){case 3:bi(Ri),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 13:ls(t);break;case 19:U(us);break;case 10:bi(t.type);break;case 22:case 23:ls(t),yo(),null!==e&&U(Vi);break;case 24:bi(Ri)}}function ac(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var o=r.create,a=r.inst;n=o(),a.destroy=n}r=r.next}while(r!==i)}}catch(s){uu(t,t.return,s)}}function sc(e,t,r){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var o=i.next;n=o;do{if((n.tag&e)===e){var a=n.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var c=r,l=s;try{l()}catch(u){uu(i,c,u)}}}n=n.next}while(n!==o)}}catch(u){uu(t,t.return,u)}}function cc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{fo(t,r)}catch(n){uu(e,e.return,n)}}}function lc(e,t,r){r.props=ms(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){uu(e,t,n)}}function uc(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(i){uu(e,t,i)}}function hc(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(o){uu(e,t,o)}else r.current=null}function fc(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){uu(e,e.return,i)}}function dc(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,c=null,l=null,u=null,h=null;for(p in r){var f=r[p];if(r.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":l=f;default:n.hasOwnProperty(p)||Qu(e,t,p,null,n,f)}}for(var d in n){var p=n[d];if(f=r[d],n.hasOwnProperty(d)&&(null!=p||null!=f))switch(d){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==f&&Qu(e,t,d,p,n,f)}}return void mt(e,s,c,l,u,h,o,i);case"select":for(o in p=s=c=d=null,r)if(l=r[o],r.hasOwnProperty(o)&&null!=l)switch(o){case"value":break;case"multiple":p=l;default:n.hasOwnProperty(o)||Qu(e,t,o,null,n,l)}for(i in n)if(o=n[i],l=r[i],n.hasOwnProperty(i)&&(null!=o||null!=l))switch(i){case"value":d=o;break;case"defaultValue":c=o;break;case"multiple":s=o;default:o!==l&&Qu(e,t,i,o,n,l)}return t=c,r=s,n=p,void(null!=d?wt(e,!!r,d,!1):!!n!==!!r&&(null!=t?wt(e,!!r,t,!0):wt(e,!!r,r?[]:"",!1)));case"textarea":for(c in p=d=null,r)if(i=r[c],r.hasOwnProperty(c)&&null!=i&&!n.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Qu(e,t,c,null,n,i)}for(s in n)if(i=n[s],o=r[s],n.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Qu(e,t,s,i,n,o)}return void bt(e,d,p);case"option":for(var g in r)if(d=r[g],r.hasOwnProperty(g)&&null!=d&&!n.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Qu(e,t,g,null,n,d);for(l in n)if(d=n[l],p=r[l],n.hasOwnProperty(l)&&d!==p&&(null!=d||null!=p))if("selected"===l)e.selected=d&&"function"!==typeof d&&"symbol"!==typeof d;else Qu(e,t,l,d,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in r)d=r[m],r.hasOwnProperty(m)&&null!=d&&!n.hasOwnProperty(m)&&Qu(e,t,m,null,n,d);for(u in n)if(d=n[u],p=r[u],n.hasOwnProperty(u)&&d!==p&&(null!=d||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Qu(e,t,u,d,n,p)}return;default:if(Tt(t)){for(var v in r)d=r[v],r.hasOwnProperty(v)&&void 0!==d&&!n.hasOwnProperty(v)&&Ju(e,t,v,void 0,n,d);for(h in n)d=n[h],p=r[h],!n.hasOwnProperty(h)||d===p||void 0===d&&void 0===p||Ju(e,t,h,d,n,p);return}}for(var y in r)d=r[y],r.hasOwnProperty(y)&&null!=d&&!n.hasOwnProperty(y)&&Qu(e,t,y,null,n,d);for(f in n)d=n[f],p=r[f],!n.hasOwnProperty(f)||d===p||null==d&&null==p||Qu(e,t,f,d,n,p)}(n,e.type,r,t),n[De]=t}catch(i){uu(e,e.return,i)}}function pc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&dh(e.type)||4===e.tag}function gc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&dh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function mc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=$u));else if(4!==n&&(27===n&&dh(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(mc(e,t,r),e=e.sibling;null!==e;)mc(e,t,r),e=e.sibling}function vc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&dh(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(vc(e,t,r),e=e.sibling;null!==e;)vc(e,t,r),e=e.sibling}function yc(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,n,r),t[Re]=e,t[De]=r}catch(o){uu(e,e.return,o)}}var wc=!1,bc=!1,Ec=!1,_c="function"===typeof WeakSet?WeakSet:Set,Sc=null;function Cc(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Fc(e,r),4&n&&ac(5,r);break;case 1:if(Fc(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(r,r.return,a)}else{var i=ms(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(r,r.return,s)}}64&n&&cc(r),512&n&&uc(r,r.return);break;case 3:if(Fc(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{fo(e,t)}catch(a){uu(r,r.return,a)}}break;case 27:null===t&&4&n&&yc(r);case 26:case 5:Fc(e,r),null===t&&4&n&&fc(r),512&n&&uc(r,r.return);break;case 12:Fc(e,r);break;case 13:Fc(e,r),4&n&&Nc(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=pu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||wc)){t=null!==t&&null!==t.memoizedState||bc,i=wc;var o=bc;wc=n,(bc=t)&&!o?jc(e,r,0!==(8772&r.subtreeFlags)):Fc(e,r),wc=i,bc=o}break;case 30:break;default:Fc(e,r)}}function Ac(e){var t=e.alternate;null!==t&&(e.alternate=null,Ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tc=null,Ic=!1;function xc(e,t,r){for(r=r.child;null!==r;)kc(e,t,r),r=r.sibling}function kc(e,t,r){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,r)}catch(o){}switch(r.tag){case 26:bc||hc(r,t),xc(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:bc||hc(r,t);var n=Tc,i=Ic;dh(r.type)&&(Tc=r.stateNode,Ic=!1),xc(e,t,r),Eh(r.stateNode),Tc=n,Ic=i;break;case 5:bc||hc(r,t);case 6:if(n=Tc,i=Ic,Tc=null,xc(e,t,r),Ic=i,null!==(Tc=n))if(Ic)try{(9===Tc.nodeType?Tc.body:"HTML"===Tc.nodeName?Tc.ownerDocument.body:Tc).removeChild(r.stateNode)}catch(a){uu(r,t,a)}else try{Tc.removeChild(r.stateNode)}catch(a){uu(r,t,a)}break;case 18:null!==Tc&&(Ic?(ph(9===(e=Tc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),xf(e)):ph(Tc,r.stateNode));break;case 4:n=Tc,i=Ic,Tc=r.stateNode.containerInfo,Ic=!0,xc(e,t,r),Tc=n,Ic=i;break;case 0:case 11:case 14:case 15:bc||sc(2,r,t),bc||sc(4,r,t),xc(e,t,r);break;case 1:bc||(hc(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&lc(r,t,n)),xc(e,t,r);break;case 21:xc(e,t,r);break;case 22:bc=(n=bc)||null!==r.memoizedState,xc(e,t,r),bc=n;break;default:xc(e,t,r)}}function Nc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{xf(e)}catch(r){uu(t,t.return,r)}}function Oc(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _c),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _c),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var n=gu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Rc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n],o=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 27:if(dh(c.type)){Tc=c.stateNode,Ic=!1;break e}break;case 5:Tc=c.stateNode,Ic=!1;break e;case 3:case 4:Tc=c.stateNode.containerInfo,Ic=!0;break e}c=c.return}if(null===Tc)throw Error(a(160));kc(o,s,i),Tc=null,Ic=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Pc(t,e),t=t.sibling}var Dc=null;function Pc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rc(t,e),Mc(e),4&n&&(sc(3,e,e.return),ac(3,e),sc(5,e,e.return));break;case 1:Rc(t,e),Mc(e),512&n&&(bc||null===r||hc(r,r.return)),64&n&&wc&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var i=Dc;if(Rc(t,e),Mc(e),512&n&&(bc||null===r||hc(r,r.return)),4&n){var o=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":(!(o=i.getElementsByTagName("title")[0])||o[je]||o[Re]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),eh(o,n,r),o[Re]=e,Ge(o),n=o;break e;case"link":var s=jh("link","href",i).get(n+(r.href||""));if(s)for(var c=0;c<s.length;c++)if((o=s[c]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&o.getAttribute("rel")===(null==r.rel?null:r.rel)&&o.getAttribute("title")===(null==r.title?null:r.title)&&o.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){s.splice(c,1);break t}eh(o=i.createElement(n),n,r),i.head.appendChild(o);break;case"meta":if(s=jh("meta","content",i).get(n+(r.content||"")))for(c=0;c<s.length;c++)if((o=s[c]).getAttribute("content")===(null==r.content?null:""+r.content)&&o.getAttribute("name")===(null==r.name?null:r.name)&&o.getAttribute("property")===(null==r.property?null:r.property)&&o.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&o.getAttribute("charset")===(null==r.charSet?null:r.charSet)){s.splice(c,1);break t}eh(o=i.createElement(n),n,r),i.head.appendChild(o);break;default:throw Error(a(468,n))}o[Re]=e,Ge(o),n=o}e.stateNode=n}else Uh(i,e.type,e.stateNode);else e.stateNode=Ph(i,n,e.memoizedProps);else o!==n?(null===o?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):o.count--,null===n?Uh(i,e.type,e.stateNode):Ph(i,n,e.memoizedProps)):null===n&&null!==e.stateNode&&dc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Rc(t,e),Mc(e),512&n&&(bc||null===r||hc(r,r.return)),null!==r&&4&n&&dc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Rc(t,e),Mc(e),512&n&&(bc||null===r||hc(r,r.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(p){uu(e,e.return,p)}}4&n&&null!=e.stateNode&&dc(e,i=e.memoizedProps,null!==r?r.memoizedProps:i),1024&n&&(Ec=!0);break;case 6:if(Rc(t,e),Mc(e),4&n){if(null===e.stateNode)throw Error(a(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){uu(e,e.return,p)}}break;case 3:if(Bh=null,i=Dc,Dc=Ch(t.containerInfo),Rc(t,e),Dc=i,Mc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{xf(t.containerInfo)}catch(p){uu(e,e.return,p)}Ec&&(Ec=!1,Lc(e));break;case 4:n=Dc,Dc=Ch(e.stateNode.containerInfo),Rc(t,e),Mc(e),Dc=n;break;case 12:default:Rc(t,e),Mc(e);break;case 13:Rc(t,e),Mc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(El=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Oc(e,n)));break;case 22:i=null!==e.memoizedState;var l=null!==r&&null!==r.memoizedState,u=wc,h=bc;if(wc=u||i,bc=h||l,Rc(t,e),bc=h,wc=u,Mc(e),8192&n)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===r||l||wc||bc||Bc(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){l=r=t;try{if(o=l.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{c=l.stateNode;var f=l.memoizedProps.style,d=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;c.style.display=null==d||"boolean"===typeof d?"":(""+d).trim()}}catch(p){uu(l,l.return,p)}}}else if(6===t.tag){if(null===r){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(p){uu(l,l.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Oc(e,r))));break;case 19:Rc(t,e),Mc(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Oc(e,n)));case 30:case 21:}}function Mc(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(pc(n)){r=n;break}n=n.return}if(null==r)throw Error(a(160));switch(r.tag){case 27:var i=r.stateNode;vc(e,gc(e),i);break;case 5:var o=r.stateNode;32&r.flags&&(_t(o,""),r.flags&=-33),vc(e,gc(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;mc(e,gc(e),s);break;default:throw Error(a(161))}}catch(c){uu(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Lc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Lc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cc(e,t.alternate,t),t=t.sibling}function Bc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sc(4,t,t.return),Bc(t);break;case 1:hc(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&lc(t,t.return,r),Bc(t);break;case 27:Eh(t.stateNode);case 26:case 5:hc(t,t.return),Bc(t);break;case 22:null===t.memoizedState&&Bc(t);break;default:Bc(t)}e=e.sibling}}function jc(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:jc(i,o,r),ac(4,o);break;case 1:if(jc(i,o,r),"function"===typeof(i=(n=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){uu(n,n.return,l)}if(null!==(i=(n=o).updateQueue)){var s=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)ho(c[i],s)}catch(l){uu(n,n.return,l)}}r&&64&a&&cc(o),uc(o,o.return);break;case 27:yc(o);case 26:case 5:jc(i,o,r),r&&null===n&&4&a&&fc(o),uc(o,o.return);break;case 12:jc(i,o,r);break;case 13:jc(i,o,r),r&&4&a&&Nc(i,o);break;case 22:null===o.memoizedState&&jc(i,o,r),uc(o,o.return);break;case 30:break;default:jc(i,o,r)}t=t.sibling}}function Uc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Pi(r))}function Vc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pi(e))}function zc(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hc(e,t,r,n),t=t.sibling}function Hc(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:zc(e,t,r,n),2048&i&&ac(9,t);break;case 1:case 13:default:zc(e,t,r,n);break;case 3:zc(e,t,r,n),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pi(e)));break;case 12:if(2048&i){zc(e,t,r,n),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){uu(t,t.return,c)}}else zc(e,t,r,n);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?zc(e,t,r,n):Gc(e,t):2&o._visibility?zc(e,t,r,n):(o._visibility|=2,Wc(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&i&&Uc(a,t);break;case 24:zc(e,t,r,n),2048&i&&Vc(t.alternate,t)}}function Wc(e,t,r,n,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=r,c=n,l=a.flags;switch(a.tag){case 0:case 11:case 15:Wc(o,a,s,c,i),ac(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Wc(o,a,s,c,i):Gc(o,a):(u._visibility|=2,Wc(o,a,s,c,i)),i&&2048&l&&Uc(a.alternate,a);break;case 24:Wc(o,a,s,c,i),i&&2048&l&&Vc(a.alternate,a);break;default:Wc(o,a,s,c,i)}t=t.sibling}}function Gc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:Gc(r,n),2048&i&&Uc(n.alternate,n);break;case 24:Gc(r,n),2048&i&&Vc(n.alternate,n);break;default:Gc(r,n)}t=t.sibling}}var Xc=8192;function Kc(e){if(e.subtreeFlags&Xc)for(e=e.child;null!==e;)qc(e),e=e.sibling}function qc(e){switch(e.tag){case 26:Kc(e),e.flags&Xc&&null!==e.memoizedState&&function(e,t,r){if(null===zh)throw Error(a(475));var n=zh;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=kh(r.href),o=e.querySelector(Nh(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Wh.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=o,void Ge(o);o=e.ownerDocument||e,r=Oh(r),(i=_h.get(i))&&Lh(r,i),Ge(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",r),t.instance=o}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Wh.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dc,e.memoizedState,e.memoizedProps);break;case 5:default:Kc(e);break;case 3:case 4:var t=Dc;Dc=Ch(e.stateNode.containerInfo),Kc(e),Dc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Xc,Xc=16777216,Kc(e),Xc=t):Kc(e))}}function Yc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Sc=n,Jc(n,e)}Yc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$c(e),e=e.sibling}function $c(e){switch(e.tag){case 0:case 11:case 15:Zc(e),2048&e.flags&&sc(9,e,e.return);break;case 3:case 12:default:Zc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Qc(e)):Zc(e)}}function Qc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Sc=n,Jc(n,e)}Yc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sc(8,t,t.return),Qc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Qc(t));break;default:Qc(t)}e=e.sibling}}function Jc(e,t){for(;null!==Sc;){var r=Sc;switch(r.tag){case 0:case 11:case 15:sc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Pi(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Sc=n;else e:for(r=e;null!==Sc;){var i=(n=Sc).sibling,o=n.return;if(Ac(n),n===r){Sc=null;break e}if(null!==i){i.return=o,Sc=i;break e}Sc=o}}}var el={getCacheForType:function(e){var t=Ti(Ri),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tl="function"===typeof WeakMap?WeakMap:Map,rl=0,nl=null,il=null,ol=0,al=0,sl=null,cl=!1,ll=!1,ul=!1,hl=0,fl=0,dl=0,pl=0,gl=0,ml=0,vl=0,yl=null,wl=null,bl=!1,El=0,_l=1/0,Sl=null,Cl=null,Al=0,Tl=null,Il=null,xl=0,kl=0,Nl=null,Ol=null,Rl=0,Dl=null;function Pl(){if(0!==(2&rl)&&0!==ol)return ol&-ol;if(null!==P.T){return 0!==Fi?Fi:ku()}return Ne()}function Ml(){0===ml&&(ml=0===(536870912&ol)||oi?_e():536870912);var e=is.current;return null!==e&&(e.flags|=32),ml}function Ll(e,t,r){(e!==nl||2!==al&&9!==al)&&null===e.cancelPendingCommit||(Hl(e,0),Ul(e,ol,ml,!1)),Ae(e,r),0!==(2&rl)&&e===nl||(e===nl&&(0===(2&rl)&&(pl|=r),4===fl&&Ul(e,ol,ml,!1)),_u(e))}function Fl(e,t,r){if(0!==(6&rl))throw Error(a(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=n?function(e,t){var r=rl;rl|=2;var n=Gl(),i=Xl();nl!==e||ol!==t?(Sl=null,_l=te()+500,Hl(e,t)):ll=be(e,t);e:for(;;)try{if(0!==al&&null!==il){t=il;var o=sl;t:switch(al){case 1:al=0,sl=null,Jl(e,t,o,1);break;case 2:case 9:if(Yi(o)){al=0,sl=null,Ql(t);break}t=function(){2!==al&&9!==al||nl!==e||(al=7),_u(e)},o.then(t,t);break e;case 3:al=7;break e;case 4:al=5;break e;case 7:Yi(o)?(al=0,sl=null,Ql(t)):(al=0,sl=null,Jl(e,t,o,7));break;case 5:var s=null;switch(il.tag){case 26:s=il.memoizedState;case 5:case 27:var c=il;if(!s||Vh(s)){al=0,sl=null;var l=c.sibling;if(null!==l)il=l;else{var u=c.return;null!==u?(il=u,eu(u)):il=null}break t}}al=0,sl=null,Jl(e,t,o,5);break;case 6:al=0,sl=null,Jl(e,t,o,6);break;case 8:zl(),fl=6;break e;default:throw Error(a(462))}}Zl();break}catch(h){Wl(e,h)}return yi=vi=null,P.H=n,P.A=i,rl=r,null!==il?0:(nl=null,ol=0,xn(),fl)}(e,t):ql(e,t,!0),o=n;;){if(0===i){ll&&!n&&Ul(e,t,0,!1);break}if(r=e.current.alternate,!o||jl(r)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var c=e;i=yl;var l=c.current.memoizedState.isDehydrated;if(l&&(Hl(c,s).flags|=256),2!==(s=ql(c,s,!1))){if(ul&&!l){c.errorRecoveryDisabledLanes|=o,pl|=o,i=4;break e}o=wl,wl=i,null!==o&&(null===wl?wl=o:wl.push.apply(wl,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){Hl(e,0),Ul(e,t,0,!0);break}e:{switch(n=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Ul(n,t,ml,!cl);break e;case 2:wl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=El+300-te())){if(Ul(n,t,ml,!cl),0!==we(n,0,!0))break e;n.timeoutHandle=ch(Bl.bind(null,n,r,wl,Sl,bl,t,ml,pl,vl,cl,o,2,-0,0),i)}else Bl(n,r,wl,Sl,bl,t,ml,pl,vl,cl,o,0,-0,0)}break}i=ql(e,t,!1),o=!1}_u(e)}function Bl(e,t,r,n,i,o,s,c,l,u,h,f,d,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(zh={stylesheets:null,count:0,unsuspend:Hh},qc(t),null!==(f=function(){if(null===zh)throw Error(a(475));var e=zh;return e.stylesheets&&0===e.count&&Xh(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Xh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=f(ru.bind(null,e,t,o,r,n,i,s,c,l,h,1,d,p)),void Ul(e,o,s,!u);ru(e,t,o,r,n,i,s,c,l)}function jl(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!qr(o(),i))return!1}catch(a){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t,r,n){t&=~gl,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var o=31-de(i),a=1<<o;n[o]=-1,i&=~a}0!==r&&Te(e,r,t)}function Vl(){return 0!==(6&rl)||(Su(0,!1),!1)}function zl(){if(null!==il){if(0===al)var e=il.return;else yi=vi=null,Bo(e=il),Ya=null,Za=0,e=il;for(;null!==e;)oc(e.alternate,e),e=e.return;il=null}}function Hl(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,lh(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),zl(),nl=e,il=r=Bn(e.current,null),ol=t,al=0,sl=null,cl=!1,ll=be(e,t),ul=!1,vl=ml=gl=pl=dl=fl=0,wl=yl=null,bl=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var i=31-de(n),o=1<<i;t|=e[i],n&=~o}return hl=t,xn(),r}function Wl(e,t){bo=null,P.H=Ga,t===Gi||t===Ki?(t=Ji(),al=3):t===Xi?(t=Ji(),al=4):al=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sl=t,null===il&&(fl=1,Es(e,Cn(t,e.current)))}function Gl(){var e=P.H;return P.H=Ga,null===e?Ga:e}function Xl(){var e=P.A;return P.A=el,e}function Kl(){fl=4,cl||(4194048&ol)!==ol&&null!==is.current||(ll=!0),0===(134217727&dl)&&0===(134217727&pl)||null===nl||Ul(nl,ol,ml,!1)}function ql(e,t,r){var n=rl;rl|=2;var i=Gl(),o=Xl();nl===e&&ol===t||(Sl=null,Hl(e,t)),t=!1;var a=fl;e:for(;;)try{if(0!==al&&null!==il){var s=il,c=sl;switch(al){case 8:zl(),a=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var l=al;if(al=0,sl=null,Jl(e,s,c,l),r&&ll){a=0;break e}break;default:l=al,al=0,sl=null,Jl(e,s,c,l)}}Yl(),a=fl;break}catch(u){Wl(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,rl=n,P.H=i,P.A=o,null===il&&(nl=null,ol=0,xn()),a}function Yl(){for(;null!==il;)$l(il)}function Zl(){for(;null!==il&&!J();)$l(il)}function $l(e){var t=$s(e.alternate,e,hl);e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Ql(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ls(r,t,t.pendingProps,t.type,void 0,ol);break;case 11:t=Ls(r,t,t.pendingProps,t.type.render,t.ref,ol);break;case 5:Bo(t);default:oc(r,t),t=$s(r,t=il=jn(t,hl),hl)}e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Jl(e,t,r,n){yi=vi=null,Bo(t),Ya=null,Za=0;var i=t.return;try{if(function(e,t,r,n,i){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Si(t,r,i,!0),null!==(r=is.current)){switch(r.tag){case 13:return null===os?Kl():null===r.alternate&&0===fl&&(fl=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===qi?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),hu(e,n,i)),!1;case 22:return r.flags|=65536,n===qi?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),hu(e,n,i)),!1}throw Error(a(435,r.tag))}return hu(e,n,i),Kl(),!1}if(oi)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==ci&&gi(Cn(e=Error(a(422),{cause:n}),r))):(n!==ci&&gi(Cn(t=Error(a(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,n=Cn(n,r),so(e,i=Ss(e.stateNode,n,i)),4!==fl&&(fl=2)),!1;var o=Error(a(520),{cause:n});if(o=Cn(o,r),null===yl?yl=[o]:yl.push(o),4!==fl&&(fl=2),null===t)return!0;n=Cn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,so(r,e=Ss(r.stateNode,n,e)),!1;case 1:if(t=r.type,o=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Cl||!Cl.has(o))))return r.flags|=65536,i&=-i,r.lanes|=i,As(i=Cs(i),e,r,n),so(r,i),!1}r=r.return}while(null!==r);return!1}(e,i,t,r,ol))return fl=1,Es(e,Cn(r,e.current)),void(il=null)}catch(o){if(null!==i)throw il=i,o;return fl=1,Es(e,Cn(r,e.current)),void(il=null)}32768&t.flags?(oi||1===n?e=!0:ll||0!==(536870912&ol)?e=!1:(cl=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=is.current)&&13===n.tag&&(n.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,cl);e=t.return;var r=nc(t.alternate,t,hl);if(null!==r)return void(il=r);if(null!==(t=t.sibling))return void(il=t);il=t=e}while(null!==t);0===fl&&(fl=5)}function tu(e,t){do{var r=ic(e.alternate,e);if(null!==r)return r.flags&=32767,void(il=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(il=e);il=e=r}while(null!==e);fl=6,il=null}function ru(e,t,r,n,i,o,s,c,l){e.cancelPendingCommit=null;do{su()}while(0!==Al);if(0!==(6&rl))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,r,n,i,o){var a=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(r=a&~r;0<r;){var u=31-de(r),h=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(null!==f)for(l[u]=null,u=0;u<f.length;u++){var d=f[u];null!==d&&(d.lane&=-536870913)}r&=~h}0!==n&&Te(e,n,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,r,o|=In,s,c,l),e===nl&&(il=nl=null,ol=0),Il=t,Tl=e,xl=r,kl=o,Nl=i,Ol=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(oe,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null,i=M.p,M.p=2,s=rl,rl|=4;try{!function(e,t){if(e=e.containerInfo,th=rf,en(e=Jr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(m){r=null;break e}var s=0,c=-1,l=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(c=s+i),f!==o||0!==n&&3!==f.nodeType||(l=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===r&&++u===i&&(c=s),d===o&&++h===n&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rh={focusedElem:e,selectionRange:r},rf=!1,Sc=t;null!==Sc;)if(e=(t=Sc).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sc=e;else for(;null!==Sc;){switch(o=(t=Sc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,r=t,i=o.memoizedProps,o=o.memoizedState,n=r.stateNode;try{var g=ms(r.type,i,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(g,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(r,r.return,v)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sc=e;break}Sc=t.return}}(e,t)}finally{rl=s,M.p=i,P.T=n}}Al=1,nu(),iu(),ou()}}function nu(){if(1===Al){Al=0;var e=Tl,t=Il,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null;var n=M.p;M.p=2;var i=rl;rl|=4;try{Pc(t,e);var o=rh,a=Jr(e.containerInfo),s=o.focusedElem,c=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Qr(s.ownerDocument.documentElement,s)){if(null!==c&&en(s)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var d=f.getSelection(),p=s.textContent.length,g=Math.min(c.start,p),m=void 0===c.end?g:Math.min(c.end,p);!d.extend&&g>m&&(a=m,m=g,g=a);var v=$r(s,g),y=$r(s,m);if(v&&y&&(1!==d.rangeCount||d.anchorNode!==v.node||d.anchorOffset!==v.offset||d.focusNode!==y.node||d.focusOffset!==y.offset)){var w=h.createRange();w.setStart(v.node,v.offset),d.removeAllRanges(),g>m?(d.addRange(w),d.extend(y.node,y.offset)):(w.setEnd(y.node,y.offset),d.addRange(w))}}}}for(h=[],d=s;d=d.parentNode;)1===d.nodeType&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var b=h[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}rf=!!th,rh=th=null}finally{rl=i,M.p=n,P.T=r}}e.current=t,Al=2}}function iu(){if(2===Al){Al=0;var e=Tl,t=Il,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=P.T,P.T=null;var n=M.p;M.p=2;var i=rl;rl|=4;try{Cc(e,t.alternate,t)}finally{rl=i,M.p=n,P.T=r}}Al=3}}function ou(){if(4===Al||3===Al){Al=0,ee();var e=Tl,t=Il,r=xl,n=Ol;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Al=5:(Al=0,Il=Tl=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cl=null),ke(r),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==n){t=P.T,i=M.p,M.p=2,P.T=null;try{for(var o=e.onRecoverableError,a=0;a<n.length;a++){var s=n[a];o(s.value,{componentStack:s.stack})}}finally{P.T=t,M.p=i}}0!==(3&xl)&&su(),_u(e),i=e.pendingLanes,0!==(4194090&r)&&0!==(42&i)?e===Dl?Rl++:(Rl=0,Dl=e):Rl=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Pi(t)))}function su(e){return nu(),iu(),ou(),cu()}function cu(){if(5!==Al)return!1;var e=Tl,t=kl;kl=0;var r=ke(xl),n=P.T,i=M.p;try{M.p=32>r?32:r,P.T=null,r=Nl,Nl=null;var o=Tl,s=xl;if(Al=0,Il=Tl=null,xl=0,0!==(6&rl))throw Error(a(331));var c=rl;if(rl|=4,$c(o.current),Hc(o,o.current,s,r),rl=c,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(l){}return!0}finally{M.p=i,P.T=n,au(e,t)}}function lu(e,t,r){t=Cn(r,t),null!==(e=oo(e,t=Ss(e.stateNode,t,2),2))&&(Ae(e,2),_u(e))}function uu(e,t,r){if(3===e.tag)lu(e,e,r);else for(;null!==t;){if(3===t.tag){lu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Cl||!Cl.has(n))){e=Cn(r,e),null!==(n=oo(t,r=Cs(2),2))&&(As(r,n,t,e),Ae(n,2),_u(n));break}}t=t.return}}function hu(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tl;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(ul=!0,i.add(r),e=fu.bind(null,e,t,r),t.then(e,e))}function fu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nl===e&&(ol&r)===r&&(4===fl||3===fl&&(62914560&ol)===ol&&300>te()-El?0===(2&rl)&&Hl(e,0):gl|=r,vl===ol&&(vl=0)),_u(e)}function du(e,t){0===t&&(t=Se()),null!==(e=On(e,t))&&(Ae(e,t),_u(e))}function pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),du(e,r)}function gu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==n&&n.delete(t),du(e,r)}var mu=null,vu=null,yu=!1,wu=!1,bu=!1,Eu=0;function _u(e){e!==vu&&null===e.next&&(null===vu?mu=vu=e:vu=vu.next=e),wu=!0,yu||(yu=!0,hh(function(){0!==(6&rl)?$(ne,Cu):Au()}))}function Su(e,t){if(!bu&&wu){bu=!0;do{for(var r=!1,n=mu;null!==n;){if(!t)if(0!==e){var i=n.pendingLanes;if(0===i)var o=0;else{var a=n.suspendedLanes,s=n.pingedLanes;o=(1<<31-de(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(r=!0,xu(n,o))}else o=ol,0===(3&(o=we(n,n===nl?o:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||be(n,o)||(r=!0,xu(n,o));n=n.next}}while(r);bu=!1}}function Cu(){Au()}function Au(){wu=yu=!1;var e=0;0!==Eu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sh&&(sh=e,!0);return sh=null,!1}()&&(e=Eu),Eu=0);for(var t=te(),r=null,n=mu;null!==n;){var i=n.next,o=Tu(n,t);0===o?(n.next=null,null===r?mu=i:r.next=i,null===i&&(vu=r)):(r=n,(0!==e||0!==(3&o))&&(wu=!0)),n=i}Su(e,!1)}function Tu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-de(o),s=1<<a,c=i[a];-1===c?0!==(s&r)&&0===(s&n)||(i[a]=Ee(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}if(r=ol,r=we(e,e===(t=nl)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===al||9===al)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&Q(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||be(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&Q(n),ke(r)){case 2:case 8:r=ie;break;case 32:default:r=oe;break;case 268435456:r=se}return n=Iu.bind(null,e),r=$(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&Q(n),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==Al&&5!==Al)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(su()&&e.callbackNode!==r)return null;var n=ol;return 0===(n=we(e,e===nl?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fl(e,n,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===r?Iu.bind(null,e):null)}function xu(e,t){if(su())return null;Fl(e,t,!0)}function ku(){return 0===Eu&&(Eu=_e()),Eu}function Nu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:kt(""+e)}function Ou(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Ru=0;Ru<En.length;Ru++){var Du=En[Ru];_n(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}_n(dn,"onAnimationEnd"),_n(pn,"onAnimationIteration"),_n(gn,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(mn,"onTransitionRun"),_n(vn,"onTransitionStart"),_n(yn,"onTransitionCancel"),_n(wn,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Lu(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=l;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=c}else for(a=0;a<n.length;a++){if(c=(s=n[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=l;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=c}}}}function Fu(e,t){var r=t[Me];void 0===r&&(r=t[Me]=new Set);var n=e+"__bubble";r.has(n)||(Vu(t,e,2,!1),r.add(n))}function Bu(e,t,r){var n=0;t&&(n|=4),Vu(r,e,n,t)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[ju]){e[ju]=!0,Xe.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Bu(t,!1,e),Bu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ju]||(t[ju]=!0,Bu("selectionchange",!1,t))}}function Vu(e,t,r,n){switch(uf(t)){case 2:var i=nf;break;case 8:i=of;break;default:i=af}r=i.bind(null,t,r,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function zu(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ve(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){n=o=a;continue e}s=s.parentNode}}n=n.return}Lt(function(){var n=o,i=Ot(r),a=[];e:{var s=bn.get(e);if(void 0!==s){var l=Jt,u=e;switch(e){case"keypress":if(0===Gt(r))break e;case"keydown":case"keyup":l=pr;break;case"focusin":u="focus",l=or;break;case"focusout":u="blur",l=or;break;case"beforeblur":case"afterblur":l=or;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mr;break;case dn:case pn:case gn:l=ar;break;case wn:l=vr;break;case"scroll":case"scrollend":l=tr;break;case"wheel":l=yr;break;case"copy":case"cut":case"paste":l=sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gr;break;case"toggle":case"beforetoggle":l=wr}var h=0!==(4&t),f=!h&&("scroll"===e||"scrollend"===e),d=h?null!==s?s+"Capture":null:s;h=[];for(var p,g=n;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===d||null!=(m=Ft(g,d))&&h.push(Hu(g,m,p)),f)break;g=g.return}0<h.length&&(s=new l(s,u,null,r,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Nt||!(u=r.relatedTarget||r.fromElement)||!Ve(u)&&!u[Pe])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ve(u):null)&&(f=c(u),h=u.tag,u!==f||5!==h&&27!==h&&6!==h)&&(u=null)):(l=null,u=n),l!==u)){if(h=nr,m="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=gr,m="onPointerLeave",d="onPointerEnter",g="pointer"),f=null==l?s:He(l),p=null==u?s:He(u),(s=new h(m,g+"leave",l,r,i)).target=f,s.relatedTarget=p,m=null,Ve(i)===n&&((h=new h(d,g+"enter",u,r,i)).target=p,h.relatedTarget=f,m=h),f=m,l&&u)e:{for(d=u,g=0,p=h=l;p;p=Gu(p))g++;for(p=0,m=d;m;m=Gu(m))p++;for(;0<g-p;)h=Gu(h),g--;for(;0<p-g;)d=Gu(d),p--;for(;g--;){if(h===d||null!==d&&h===d.alternate)break e;h=Gu(h),d=Gu(d)}h=null}else h=null;null!==l&&Xu(a,s,l,h,!1),null!==u&&null!==f&&Xu(a,f,u,h,!0)}if("select"===(l=(s=n?He(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Fr;else if(Or(s))if(Br)v=Kr;else{v=Gr;var y=Wr}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?n&&Tt(n.elementType)&&(v=Fr):v=Xr;switch(v&&(v=v(e,n))?Rr(a,v,r,i):(y&&y(e,s,n),"focusout"===e&&n&&"number"===s.type&&null!=n.memoizedProps.value&&yt(s,"number",s.value)),y=n?He(n):window,e){case"focusin":(Or(y)||"true"===y.contentEditable)&&(rn=y,nn=n,on=null);break;case"focusout":on=nn=rn=null;break;case"mousedown":an=!0;break;case"contextmenu":case"mouseup":case"dragend":an=!1,sn(a,r,i);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":sn(a,r,i)}var w;if(Er)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else kr?Ir(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Cr&&"ko"!==r.locale&&(kr||"onCompositionStart"!==b?"onCompositionEnd"===b&&kr&&(w=Wt()):(zt="value"in(Vt=i)?Vt.value:Vt.textContent,kr=!0)),0<(y=Wu(n,b)).length&&(b=new cr(b,e,null,r,i),a.push({event:b,listeners:y}),w?b.data=w:null!==(w=xr(r))&&(b.data=w))),(w=Sr?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Tr=!0,Ar);case"textInput":return(e=t.data)===Ar&&Tr?null:e;default:return null}}(e,r):function(e,t){if(kr)return"compositionend"===e||!Er&&Ir(e,t)?(e=Wt(),Ht=zt=Vt=null,kr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(b=Wu(n,"onBeforeInput")).length&&(y=new cr("onBeforeInput","beforeinput",null,r,i),a.push({event:y,listeners:b}),y.data=w)),function(e,t,r,n,i){if("submit"===t&&r&&r.stateNode===i){var o=Nu((i[De]||null).action),a=n.submitter;a&&null!==(t=(t=a[De]||null)?Nu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Jt("action","action",null,n,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Eu){var e=a?Ou(i,a):new FormData(i);Oa(r,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Ou(i,a):new FormData(i),Oa(r,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,n,r,i)}Lu(a,t)})}function Hu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wu(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,r))&&n.unshift(Hu(e,i,o)),null!=(i=Ft(e,t))&&n.push(Hu(e,i,o))),3===e.tag)return n;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Xu(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(s=s.tag,null!==c&&c===n)break;5!==s&&26!==s&&27!==s||null===l||(c=l,i?null!=(l=Ft(r,o))&&a.unshift(Hu(r,l,c)):i||null!=(l=Ft(r,o))&&a.push(Hu(r,l,c))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(qu,"")}function Zu(e,t){return t=Yu(t),Yu(e)===t}function $u(){}function Qu(e,t,r,n,i,o){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||_t(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&_t(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":At(e,n,o);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=kt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===r?("input"!==t&&Qu(e,t,"name",i.name,i,null),Qu(e,t,"formEncType",i.formEncType,i,null),Qu(e,t,"formMethod",i.formMethod,i,null),Qu(e,t,"formTarget",i.formTarget,i,null)):(Qu(e,t,"encType",i.encType,i,null),Qu(e,t,"method",i.method,i,null),Qu(e,t,"target",i.target,i,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=kt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=$u);break;case"onScroll":null!=n&&Fu("scroll",e);break;case"onScrollEnd":null!=n&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=kt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=It.get(r)||r,n)}}function Ju(e,t,r,n,i,o){switch(r){case"style":At(e,n,o);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=r}}break;case"children":"string"===typeof n?_t(e,n):("number"===typeof n||"bigint"===typeof n)&&_t(e,""+n);break;case"onScroll":null!=n&&Fu("scroll",e);break;case"onScrollEnd":null!=n&&Fu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),"function"===typeof(o=null!=(o=e[De]||null)?o[r]:null)&&e.removeEventListener(t,o,i),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof o&&null!==o&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i)))}}function eh(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var n,i=!1,o=!1;for(n in r)if(r.hasOwnProperty(n)){var s=r[n];if(null!=s)switch(n){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Qu(e,t,n,s,r,null)}}return o&&Qu(e,t,"srcSet",r.srcSet,r,null),void(i&&Qu(e,t,"src",r.src,r,null));case"input":Fu("invalid",e);var c=n=s=o=null,l=null,u=null;for(i in r)if(r.hasOwnProperty(i)){var h=r[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":n=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Qu(e,t,i,h,r,null)}}return vt(e,n,c,l,u,s,o,!1),void ht(e);case"select":for(o in Fu("invalid",e),i=s=n=null,r)if(r.hasOwnProperty(o)&&null!=(c=r[o]))switch(o){case"value":n=c;break;case"defaultValue":s=c;break;case"multiple":i=c;default:Qu(e,t,o,c,r,null)}return t=n,r=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=r&&wt(e,!!i,r,!0));case"textarea":for(s in Fu("invalid",e),n=o=i=null,r)if(r.hasOwnProperty(s)&&null!=(c=r[s]))switch(s){case"value":i=c;break;case"defaultValue":o=c;break;case"children":n=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(a(91));break;default:Qu(e,t,s,c,r,null)}return Et(e,i,o,n),void ht(e);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(i=r[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Qu(e,t,l,i,r,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Pu.length;i++)Fu(Pu[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(i=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Qu(e,t,u,i,r,null)}return;default:if(Tt(t)){for(h in r)r.hasOwnProperty(h)&&(void 0!==(i=r[h])&&Ju(e,t,h,i,r,void 0));return}}for(c in r)r.hasOwnProperty(c)&&(null!=(i=r[c])&&Qu(e,t,c,i,r,null))}var th=null,rh=null;function nh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sh=null;var ch="function"===typeof setTimeout?setTimeout:void 0,lh="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(fh)}:ch;function fh(e){setTimeout(function(){throw e})}function dh(e){return"head"===e}function ph(e,t){var r=t,n=0,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0<n&&8>n){r=n;var a=e.ownerDocument;if(1&r&&Eh(a.documentElement),2&r&&Eh(a.body),4&r)for(Eh(r=a.head),a=r.firstChild;a;){var s=a.nextSibling,c=a.nodeName;a[je]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void xf(t);i--}else"$"===r||"$?"===r||"$!"===r?i++:n=r.charCodeAt(0)-48;else n=0;r=o}while(r);xf(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gh(r),Ue(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function mh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yh=null;function wh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function bh(e,t,r){switch(t=nh(r),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Eh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var _h=new Map,Sh=new Set;function Ch(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ah=M.d;M.d={f:function(){var e=Ah.f(),t=Vl();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Da(t):Ah.r(e)},D:function(e){Ah.D(e),Ih("dns-prefetch",e,null)},C:function(e,t){Ah.C(e,t),Ih("preconnect",e,t)},L:function(e,t,r){Ah.L(e,t,r);var n=Th;if(n&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(i+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(i+='[imagesizes="'+gt(r.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=kh(e);break;case"script":o=Rh(e)}_h.has(o)||(e=f({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),_h.set(o,e),null!==n.querySelector(i)||"style"===t&&n.querySelector(Nh(o))||"script"===t&&n.querySelector(Dh(o))||(eh(t=n.createElement("link"),"link",e),Ge(t),n.head.appendChild(t)))}},m:function(e,t){Ah.m(e,t);var r=Th;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Rh(e)}if(!_h.has(o)&&(e=f({rel:"modulepreload",href:e},t),_h.set(o,e),null===r.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Dh(o)))return}eh(n=r.createElement("link"),"link",e),Ge(n),r.head.appendChild(n)}}},X:function(e,t){Ah.X(e,t);var r=Th;if(r&&e){var n=We(r).hoistableScripts,i=Rh(e),o=n.get(i);o||((o=r.querySelector(Dh(i)))||(e=f({src:e,async:!0},t),(t=_h.get(i))&&Fh(e,t),Ge(o=r.createElement("script")),eh(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}},S:function(e,t,r){Ah.S(e,t,r);var n=Th;if(n&&e){var i=We(n).hoistableStyles,o=kh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=n.querySelector(Nh(o)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},r),(r=_h.get(o))&&Lh(e,r);var c=a=n.createElement("link");Ge(c),eh(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Mh(a,t,n)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Ah.M(e,t);var r=Th;if(r&&e){var n=We(r).hoistableScripts,i=Rh(e),o=n.get(i);o||((o=r.querySelector(Dh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=_h.get(i))&&Fh(e,t),Ge(o=r.createElement("script")),eh(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}};var Th="undefined"===typeof document?null:document;function Ih(e,t,r){var n=Th;if(n&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof r&&(i+='[crossorigin="'+r+'"]'),Sh.has(i)||(Sh.add(i),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(i)&&(eh(t=n.createElement("link"),"link",e),Ge(t),n.head.appendChild(t)))}}function xh(e,t,r,n){var i,o,s,c,l=(l=W.current)?Ch(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=kh(r.href),(n=(r=We(l).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=kh(r.href);var u=We(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(Nh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),_h.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_h.set(e,r),u||(i=l,o=e,s=r,c=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),eh(o,"link",s),Ge(o),i.head.appendChild(o))))),t&&null===n)throw Error(a(528,""));return h}if(t&&null!==n)throw Error(a(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rh(r),(n=(r=We(l).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function kh(e){return'href="'+gt(e)+'"'}function Nh(e){return'link[rel="stylesheet"]['+e+"]"}function Oh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Rh(e){return'[src="'+gt(e)+'"]'}function Dh(e){return"script[async]"+e}function Ph(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(n)return t.instance=n,Ge(n),n;var i=f({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ge(n=(e.ownerDocument||e).createElement("style")),eh(n,"style",i),Mh(n,r.precedence,e),t.instance=n;case"stylesheet":i=kh(r.href);var o=e.querySelector(Nh(i));if(o)return t.state.loading|=4,t.instance=o,Ge(o),o;n=Oh(r),(i=_h.get(i))&&Lh(n,i),Ge(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",n),t.state.loading|=4,Mh(o,r.precedence,e),t.instance=o;case"script":return o=Rh(r.src),(i=e.querySelector(Dh(o)))?(t.instance=i,Ge(i),i):(n=r,(i=_h.get(o))&&Fh(n=f({},r),i),Ge(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Mh(n,r.precedence,e));return t.instance}function Mh(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,a=0;a<n.length;a++){var s=n[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bh=null;function jh(e,t,r){if(null===Bh){var n=new Map,i=Bh=new Map;i.set(r,n)}else(n=(i=Bh).get(r))||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var o=r[i];if(!(o[je]||o[Re]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=n.get(a);s?s.push(o):n.set(a,[o])}}return n}function Uh(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Vh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zh=null;function Hh(){}function Wh(){if(this.count--,0===this.count)if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gh=null;function Xh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gh=new Map,t.forEach(Kh,e),Gh=null,Wh.call(e))}function Kh(e,t){if(!(4&t.state.loading)){var r=Gh.get(e);if(r)var n=r.get(null);else{r=new Map,Gh.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(r.set(a.dataset.precedence,a),n=a)}n&&r.set(null,n)}a=(i=t.instance).getAttribute("data-precedence"),(o=r.get(a)||n)===n&&r.set(null,i),r.set(a,i),this.count++,n=Wh.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var qh={$$typeof:E,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Yh(e,t,r,n,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Zh(e,t,r,n,i,o,a,s,c,l,u,h){return e=new Yh(e,t,r,a,s,c,l,h),t=1,!0===o&&(t|=24),o=Ln(3,null,null,t),e.current=o,o.stateNode=e,(t=Di()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:r,cache:t},ro(o),e}function $h(e){return e?e=Pn:Pn}function Qh(e,t,r,n,i,o){i=$h(i),null===n.context?n.context=i:n.pendingContext=i,(n=io(t)).payload={element:r},null!==(o=void 0===o?null:o)&&(n.callback=o),null!==(r=oo(e,n,t))&&(Ll(r,0,t),ao(r,e,t))}function Jh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ef(e,t){Jh(e,t),(e=e.alternate)&&Jh(e,t)}function tf(e){if(13===e.tag){var t=On(e,67108864);null!==t&&Ll(t,0,67108864),ef(e,67108864)}}var rf=!0;function nf(e,t,r,n){var i=P.T;P.T=null;var o=M.p;try{M.p=2,af(e,t,r,n)}finally{M.p=o,P.T=i}}function of(e,t,r,n){var i=P.T;P.T=null;var o=M.p;try{M.p=8,af(e,t,r,n)}finally{M.p=o,P.T=i}}function af(e,t,r,n){if(rf){var i=sf(n);if(null===i)zu(e,t,n,cf,r),wf(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return ff=bf(ff,e,t,r,n,i),!0;case"dragenter":return df=bf(df,e,t,r,n,i),!0;case"mouseover":return pf=bf(pf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return gf.set(o,bf(gf.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,mf.set(o,bf(mf.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(wf(e,n),4&t&&-1<yf.indexOf(e)){for(;null!==i;){var o=ze(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ye(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var c=1<<31-de(a);s.entanglements[1]|=c,a&=~c}_u(o),0===(6&rl)&&(_l=te()+500,Su(0,!1))}}break;case 13:null!==(s=On(o,2))&&Ll(s,0,2),Vl(),ef(o,2)}if(null===(o=sf(n))&&zu(e,t,n,cf,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else zu(e,t,n,null,r)}}function sf(e){return lf(e=Ot(e))}var cf=null;function lf(e){if(cf=null,null!==(e=Ve(e))){var t=c(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=l(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cf=e,null}function uf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var hf=!1,ff=null,df=null,pf=null,gf=new Map,mf=new Map,vf=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":df=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(t.pointerId)}}function bf(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ze(t))&&tf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ef(e){var t=Ve(e.target);if(null!==t){var r=c(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=l(r)))return e.blockedOn=t,void function(e,t){var r=M.p;try{return M.p=e,t()}finally{M.p=r}}(e.priority,function(){if(13===r.tag){var e=Pl();e=xe(e);var t=On(r,e);null!==t&&Ll(t,0,e),ef(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function _f(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=sf(e.nativeEvent);if(null!==r)return null!==(t=ze(r))&&tf(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Nt=n,r.target.dispatchEvent(n),Nt=null,t.shift()}return!0}function Sf(e,t,r){_f(e)&&r.delete(t)}function Cf(){hf=!1,null!==ff&&_f(ff)&&(ff=null),null!==df&&_f(df)&&(df=null),null!==pf&&_f(pf)&&(pf=null),gf.forEach(Sf),mf.forEach(Sf)}function Af(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Cf)))}var Tf=null;function If(e){Tf!==e&&(Tf=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===e&&(Tf=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if("function"!==typeof n){if(null===lf(n||r))continue;break}var o=ze(r);null!==o&&(e.splice(t,3),t-=3,Oa(o,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function xf(e){function t(t){return Af(t,e)}null!==ff&&Af(ff,e),null!==df&&Af(df,e),null!==pf&&Af(pf,e),gf.forEach(t),mf.forEach(t);for(var r=0;r<vf.length;r++){var n=vf[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<vf.length&&null===(r=vf[0]).blockedOn;)Ef(r),null===r.blockedOn&&vf.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var i=r[n],o=r[n+1],a=i[De]||null;if("function"===typeof o)a||If(r);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[De]||null)s=a.formAction;else if(null!==lf(i))continue}else s=a.action;"function"===typeof s?r[n+1]=s:(r.splice(n,3),n-=3),If(r)}}}function kf(e){this._internalRoot=e}function Nf(e){this._internalRoot=e}Nf.prototype.render=kf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qh(t.current,Pl(),e,t,null,null)},Nf.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qh(e.current,2,null,e,null,null),Vl(),t[Pe]=null}},Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vf.length&&0!==t&&t<vf[r].priority;r++);vf.splice(r,0,e),0===r&&Ef(e)}};var Of=i.version;if("19.1.0"!==Of)throw Error(a(527,Of,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return u(i),e;if(o===n)return u(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Rf={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{ue=Df.inject(Rf),he=Df}catch(Mf){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var r=!1,n="",i=ys,o=ws,c=bs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zh(e,1,!1,null,0,r,n,i,o,c,0,null),e[Pe]=t.current,Uu(e),new kf(t)},t.hydrateRoot=function(e,t,r){if(!s(e))throw Error(a(299));var n=!1,i="",o=ys,c=ws,l=bs,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(c=r.onCaughtError),void 0!==r.onRecoverableError&&(l=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Zh(e,1,!0,t,0,n,i,o,c,l,0,u)).context=$h(null),r=t.current,(i=io(n=xe(n=Pl()))).callback=null,oo(r,i,n),r=n,t.current.lanes=r,Ae(t,r),_u(t),e[Pe]=t.current,Uu(e),new Nf(t)},t.version="19.1.0"},43:(e,t,r)=>{"use strict";e.exports=r(288)},52:(e,t,r)=>{"use strict";r.d(t,{KO:()=>Q,MF:()=>Y,Sx:()=>$,Wp:()=>Z,j6:()=>W,om:()=>H,xZ:()=>G});var n=r(812),i=r(443),o=r(529),a=r(799);class s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",l="0.13.1",u=new i.Vy("@firebase/app"),h="@firebase/app-compat",f="@firebase/analytics-compat",d="@firebase/analytics",p="@firebase/app-check-compat",g="@firebase/app-check",m="@firebase/auth",v="@firebase/auth-compat",y="@firebase/database",w="@firebase/data-connect",b="@firebase/database-compat",E="@firebase/functions",_="@firebase/functions-compat",S="@firebase/installations",C="@firebase/installations-compat",A="@firebase/messaging",T="@firebase/messaging-compat",I="@firebase/performance",x="@firebase/performance-compat",k="@firebase/remote-config",N="@firebase/remote-config-compat",O="@firebase/storage",R="@firebase/storage-compat",D="@firebase/firestore",P="@firebase/ai",M="@firebase/firestore-compat",L="firebase",F="[DEFAULT]",B={[c]:"fire-core",[h]:"fire-core-compat",[d]:"fire-analytics",[f]:"fire-analytics-compat",[g]:"fire-app-check",[p]:"fire-app-check-compat",[m]:"fire-auth",[v]:"fire-auth-compat",[y]:"fire-rtdb",[w]:"fire-data-connect",[b]:"fire-rtdb-compat",[E]:"fire-fn",[_]:"fire-fn-compat",[S]:"fire-iid",[C]:"fire-iid-compat",[A]:"fire-fcm",[T]:"fire-fcm-compat",[I]:"fire-perf",[x]:"fire-perf-compat",[k]:"fire-rc",[N]:"fire-rc-compat",[O]:"fire-gcs",[R]:"fire-gcs-compat",[D]:"fire-fst",[M]:"fire-fst-compat",[P]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},j=new Map,U=new Map,V=new Map;function z(e,t){try{e.container.addComponent(t)}catch(r){u.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}function H(e){const t=e.name;if(V.has(t))return u.debug("There were multiple attempts to register component ".concat(t,".")),!1;V.set(t,e);for(const r of j.values())z(r,e);for(const r of U.values())z(r,e);return!0}function W(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function G(e){return null!==e&&void 0!==e&&void 0!==e.settings}const X={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},K=new o.FA("app","Firebase",X);class q{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new n.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw K.create("app-deleted",{appName:this._name})}}const Y="11.9.0";function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:F,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw K.create("bad-app-name",{appName:String(a)});if(r||(r=(0,o.T9)()),!r)throw K.create("no-options");const s=j.get(a);if(s){if((0,o.bD)(r,s.options)&&(0,o.bD)(i,s.config))return s;throw K.create("duplicate-app",{appName:a})}const c=new n.h1(a);for(const n of V.values())c.addComponent(n);const l=new q(r,i,c);return j.set(a,l),l}function $(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=j.get(e);if(!t&&e===F&&(0,o.T9)())return Z();if(!t)throw K.create("no-app",{appName:e});return t}function Q(e,t,r){var i;let o=null!==(i=B[e])&&void 0!==i?i:e;r&&(o+="-".concat(r));const a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void u.warn(e.join(" "))}H(new n.uA("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const J="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(J)}catch(r){console.warn(r)}}}).catch(e=>{throw K.create("idb-open",{originalErrorMessage:e.message})})),ee}async function re(e,t){try{const r=(await te()).transaction(J,"readwrite"),n=r.objectStore(J);await n.put(t,ne(e)),await r.done}catch(r){if(r instanceof o.g)u.warn(r.message);else{const e=K.create("idb-set",{originalErrorMessage:null===r||void 0===r?void 0:r.message});u.warn(e.message)}}}function ne(e){return"".concat(e.name,"!").concat(e.options.appId)}class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=oe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){u.warn(r)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oe(),{heartbeatsToSend:r,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const r=[];let n=e.slice();for(const i of e){const e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),se(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),se(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return u.warn(t),""}}}function oe(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(J),r=await t.objectStore(J).get(ne(e));return await t.done,r}catch(t){if(t instanceof o.g)u.warn(t.message);else{const e=K.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});u.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function se(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",H(new n.uA("platform-logger",e=>new s(e),"PRIVATE")),H(new n.uA("heartbeat",e=>new ie(e),"PRIVATE")),Q(c,l,ce),Q(c,l,"esm2017"),Q("fire-js","")},62:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[a,s],t=0;t<e.length;t++){var r=e[t];r&&(r.parentNode&&r.parentNode.removeChild(r))}a=s=null,c=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(c.length);for(var e=[a,s],t=0;t<e.length;t++){var r=e[t]||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")};var n,i=r(959),o=(n=i)&&n.__esModule?n:{default:n};var a=void 0,s=void 0,c=[];function l(){0!==c.length&&c[c.length-1].focusContent()}o.default.subscribe(function(e,t){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",l),(s=a.cloneNode()).addEventListener("focus",l)),(c=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))})},173:(e,t,r)=>{e.exports=r(497)()},180:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in n={},t)"key"!==o&&(n[o]=t[o]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=i,t.jsxs=i},206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,o.default)(e);if(!r.length)return void t.preventDefault();var n=void 0,i=t.shiftKey,s=r[0],c=r[r.length-1],l=a();if(e===l){if(!i)return;n=c}c!==l||i||(n=s);s===l&&i&&(n=c);if(n)return t.preventDefault(),void n.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var h=r.indexOf(l);h>-1&&(h+=i?-1:1);if("undefined"===typeof(n=r[h]))return t.preventDefault(),void(n=i?c:s).focus();t.preventDefault(),n.focus()};var n,i=r(682),o=(n=i)&&n.__esModule?n:{default:n};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?a(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function y(){}function w(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,g(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function C(e,t,n,i,o,a){return n=a.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:a}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function x(){}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case f:return k((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+I(e,0):o,E(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),k(a,t,i,"",function(e){return e})):null!=a&&(A(a)&&(c=a,l=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=C(c.type,l,void 0,0,0,c.props)),t.push(a)),1;u=0;var h,p=""===o?".":o+":";if(E(e))for(var g=0;g<e.length;g++)u+=k(o=e[g],t,i,s=p+I(o,g),a);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=d&&h[d]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=k(o=o.value,t,i,s=p+I(o,g++),a);else if("object"===s){if("function"===typeof e.then)return k(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,r){if(null==e)return e;var n=[],i=0;return k(e,n,"","",function(e){return t.call(r,e,i++)}),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:N,forEach:function(e,t,r){N(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];n.children=a}return C(e.type,i,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,i={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return C(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,r={};_.T=r;try{var n=e(),i=_.S;null!==i&&i(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(D,R)}catch(o){R(o)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,r){return _.H.useActionState(e,t,r)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=_.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,r){return _.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return _.H.useReducer(e,t,r)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return _.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},396:(e,t,r)=>{var n;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(43),s=m(r(173)),c=g(r(774)),l=m(r(206)),u=g(r(619)),h=g(r(841)),f=r(821),d=m(f),p=m(r(959));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}r(62);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setOverlayRef=function(e){r.overlay=e,r.props.overlayRef&&r.props.overlayRef(e)},r.setContentRef=function(e){r.content=e,r.props.contentRef&&r.props.contentRef(e)},r.afterClose=function(){var e=r.props,t=e.appElement,n=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName,a=e.parentSelector,s=a&&a().ownerDocument||document;o&&h.remove(s.body,o),i&&h.remove(s.getElementsByTagName("html")[0],i),n&&y>0&&0===(y-=1)&&u.show(t),r.props.shouldFocusAfterRender&&(r.props.shouldReturnFocusAfterClose?(c.returnFocus(r.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),r.props.onAfterClose&&r.props.onAfterClose(),p.default.deregister(r)},r.open=function(){r.beforeOpen(),r.state.afterOpen&&r.state.beforeClose?(clearTimeout(r.closeTimer),r.setState({beforeClose:!1})):(r.props.shouldFocusAfterRender&&(c.setupScopedFocus(r.node),c.markForFocusLater()),r.setState({isOpen:!0},function(){r.openAnimationFrame=requestAnimationFrame(function(){r.setState({afterOpen:!0}),r.props.isOpen&&r.props.onAfterOpen&&r.props.onAfterOpen({overlayEl:r.overlay,contentEl:r.content})})}))},r.close=function(){r.props.closeTimeoutMS>0?r.closeWithTimeout():r.closeWithoutTimeout()},r.focusContent=function(){return r.content&&!r.contentHasFocus()&&r.content.focus({preventScroll:!0})},r.closeWithTimeout=function(){var e=Date.now()+r.props.closeTimeoutMS;r.setState({beforeClose:!0,closesAt:e},function(){r.closeTimer=setTimeout(r.closeWithoutTimeout,r.state.closesAt-Date.now())})},r.closeWithoutTimeout=function(){r.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},r.afterClose)},r.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,l.default)(r.content,e),r.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),r.requestClose(e))},r.handleOverlayOnClick=function(e){null===r.shouldClose&&(r.shouldClose=!0),r.shouldClose&&r.props.shouldCloseOnOverlayClick&&(r.ownerHandlesClose()?r.requestClose(e):r.focusContent()),r.shouldClose=null},r.handleContentOnMouseUp=function(){r.shouldClose=!1},r.handleOverlayOnMouseDown=function(e){r.props.shouldCloseOnOverlayClick||e.target!=r.overlay||e.preventDefault()},r.handleContentOnClick=function(){r.shouldClose=!1},r.handleContentOnMouseDown=function(){r.shouldClose=!1},r.requestClose=function(e){return r.ownerHandlesClose()&&r.props.onRequestClose(e)},r.ownerHandlesClose=function(){return r.props.onRequestClose},r.shouldBeClosed=function(){return!r.state.isOpen&&!r.state.beforeClose},r.contentHasFocus=function(){return document.activeElement===r.content||r.content.contains(document.activeElement)},r.buildClassName=function(e,t){var n="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},o=n.base;return r.state.afterOpen&&(o=o+" "+n.afterOpen),r.state.beforeClose&&(o=o+" "+n.beforeClose),"string"===typeof t&&t?o+" "+t:o},r.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(r,n){return r[e+"-"+n]=t[n],r},{})},r.state={afterOpen:!1,beforeClose:!1},r.shouldClose=null,r.moveFromContentToOverlay=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,r=e.ariaHideApp,n=e.htmlOpenClassName,i=e.bodyOpenClassName,o=e.parentSelector,a=o&&o().ownerDocument||document;i&&h.add(a.body,i),n&&h.add(a.getElementsByTagName("html")[0],n),r&&(y+=1,u.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.className,i=e.overlayClassName,o=e.defaultStyles,a=e.children,s=r?{}:o.content,c=i?{}:o.overlay;if(this.shouldBeClosed())return null;var l={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:n({},c,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=n({id:t,ref:this.setContentRef,style:n({},s,this.props.style.content),className:this.buildClassName("content",r),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),h=this.props.contentElement(u,a);return this.props.overlayElement(l,h)}}]),t}(a.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(d.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(d.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=w,e.exports=t.default},440:e=>{"use strict";var t=function(){};e.exports=t},442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ActionCodeOperation:()=>f,ActionCodeURL:()=>ut,AuthCredential:()=>$e,AuthErrorCodes:()=>v,EmailAuthCredential:()=>it,EmailAuthProvider:()=>ft,FacebookAuthProvider:()=>mt,FactorId:()=>c,GithubAuthProvider:()=>yt,GoogleAuthProvider:()=>vt,OAuthCredential:()=>at,OAuthProvider:()=>gt,OperationType:()=>h,PhoneAuthCredential:()=>lt,PhoneAuthProvider:()=>yn,PhoneMultiFactorGenerator:()=>mi,ProviderId:()=>l,RecaptchaVerifier:()=>un,SAMLAuthProvider:()=>bt,SignInMethod:()=>u,TotpMultiFactorGenerator:()=>vi,TotpSecret:()=>wi,TwitterAuthProvider:()=>Et,applyActionCode:()=>Gt,beforeAuthStateChanged:()=>vr,browserCookiePersistence:()=>Br,browserLocalPersistence:()=>Pr,browserPopupRedirectResolver:()=>di,browserSessionPersistence:()=>Ur,checkActionCode:()=>Xt,confirmPasswordReset:()=>Wt,connectAuthEmulator:()=>qe,createUserWithEmailAndPassword:()=>qt,debugErrorMap:()=>p,deleteUser:()=>Sr,fetchSignInMethodsForEmail:()=>Jt,getAdditionalUserInfo:()=>fr,getAuth:()=>Ii,getIdToken:()=>Q,getIdTokenResult:()=>J,getMultiFactorResolver:()=>Tr,getRedirectResult:()=>Un,inMemoryPersistence:()=>ge,indexedDBLocalPersistence:()=>tn,initializeAuth:()=>Ke,initializeRecaptchaConfig:()=>pr,isSignInWithEmailLink:()=>$t,linkWithCredential:()=>Mt,linkWithPhoneNumber:()=>dn,linkWithPopup:()=>xn,linkWithRedirect:()=>jn,multiFactor:()=>Nr,onAuthStateChanged:()=>yr,onIdTokenChanged:()=>mr,parseActionCodeURL:()=>ht,prodErrorMap:()=>g,reauthenticateWithCredential:()=>Lt,reauthenticateWithPhoneNumber:()=>pn,reauthenticateWithPopup:()=>In,reauthenticateWithRedirect:()=>Bn,reload:()=>se,revokeAccessToken:()=>_r,sendEmailVerification:()=>er,sendPasswordResetEmail:()=>Ht,sendSignInLinkToEmail:()=>Zt,setPersistence:()=>dr,signInAnonymously:()=>At,signInWithCredential:()=>Pt,signInWithCustomToken:()=>Ft,signInWithEmailAndPassword:()=>Yt,signInWithEmailLink:()=>Qt,signInWithPhoneNumber:()=>fn,signInWithPopup:()=>Tn,signInWithRedirect:()=>Fn,signOut:()=>Er,unlink:()=>kt,updateCurrentUser:()=>br,updateEmail:()=>nr,updatePassword:()=>ir,updatePhoneNumber:()=>mn,updateProfile:()=>rr,useDeviceLanguage:()=>wr,validatePassword:()=>gr,verifyBeforeUpdateEmail:()=>tr,verifyPasswordResetCode:()=>Kt});var n=r(52),i=r(529),o=r(443);function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=r(812);const c={PHONE:"phone",TOTP:"totp"},l={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},h={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},f={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function d(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},g=d,m=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),v={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"},y=new o.Vy("@firebase/auth");function w(e){if(y.logLevel<=o.$b.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];y.error("Auth (".concat(n.MF,"): ").concat(e),...r)}}function b(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw A(e,...r)}function E(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return A(e,...r)}function _(e,t,r){const n=Object.assign(Object.assign({},g()),{[t]:r});return new i.FA("auth","Firebase",n).create(t,{appName:e.name})}function S(e){return _(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&b(e,"argument-error"),_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function A(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("string"!==typeof e){const t=r[0],n=[...r.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return m.create(e,...r)}function T(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];throw A(t,...n)}}function I(e){const t="INTERNAL ASSERTION FAILED: "+e;throw w(t),new Error(t)}function x(e,t){e||I(t)}function k(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function N(){return"http:"===O()||"https:"===O()}function O(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class R{constructor(e,t){this.shortDelay=e,this.longDelay=t,x(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(N()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function D(e,t){x(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?"".concat(r).concat(t.startsWith("/")?t.slice(1):t):r}class P{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void I("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void I("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void I("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},L=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F=new R(3e4,6e4);function B(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function j(e,t,r,n){return U(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},a={};n&&("GET"===t?a=n:o={body:JSON.stringify(n)});const s=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:c},o);return(0,i.c1)()||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),P.fetch()(await z(e,e.config.apiHost,r,s),l)})}async function U(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},M),t);try{const t=new W(e),i=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw G(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[r,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw G(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===r)throw G(e,"email-already-in-use",o);if("USER_DISABLED"===r)throw G(e,"user-disabled",o);const s=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw _(e,s,a);b(e,s)}}catch(o){if(o instanceof i.g)throw o;b(e,"network-request-failed",{message:String(o)})}}async function V(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await j(e,t,r,n,i);return"mfaPendingCredential"in o&&b(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function z(e,t,r,n){const i="".concat(t).concat(r,"?").concat(n),o=e,a=o.config.emulator?D(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(L.includes(r)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function H(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(E(this.auth,"network-request-failed")),F.get())})}}function G(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=E(e,t,n);return i.customData._tokenResponse=r,i}function X(e){return void 0!==e&&void 0!==e.getResponse}function K(e){return void 0!==e&&void 0!==e.enterprise}class q{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y(e,t){return j(e,"GET","/v2/recaptchaConfig",B(e,t))}async function Z(e,t){return j(e,"POST","/v1/accounts:lookup",t)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i.Ku)(e).getIdToken(t)}async function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=(0,i.Ku)(e),n=await r.getIdToken(t),o=te(n);T(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:o,token:n,authTime:$(ee(o.auth_time)),issuedAtTime:$(ee(o.iat)),expirationTime:$(ee(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}function ee(e){return 1e3*Number(e)}function te(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return w("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(r);return e?JSON.parse(e):(w("Failed to decode base64 JWT payload"),null)}catch(o){return w("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function re(e){const t=te(e);return T(t,"internal-error"),T("undefined"!==typeof t.exp,"internal-error"),T("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ne(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(r){throw r instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class ie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class oe{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ae(e){var t;const r=e.auth,n=await e.getIdToken(),i=await ne(e,Z(r,{idToken:n}));T(null===i||void 0===i?void 0:i.users.length,r,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?ce(o.providerUserInfo):[],s=(c=e.providerData,l=a,[...c.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!u&&h,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new oe(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,d)}async function se(e){const t=(0,i.Ku)(e);await ae(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ce(e){return e.map(e=>{var{providerId:t}=e,r=a(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T("undefined"!==typeof e.idToken,"internal-error"),T("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):re(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){T(0!==e.length,"internal-error");const t=re(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(T(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:o}=await async function(e,t){const r=await U(e,{},async()=>{const r=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:o}=e.config,a=await z(e,n,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:s,body:r};return e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),P.fetch()(a,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:i}=t,o=new le;return r&&(T("string"===typeof r,"internal-error",{appName:e}),o.refreshToken=r),n&&(T("string"===typeof n,"internal-error",{appName:e}),o.accessToken=n),i&&(T("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return I("not implemented")}}function ue(e,t){T("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oe(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ne(this,this.stsTokenManager.getToken(this.auth,e));return T(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J(this,e)}reload(){return se(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ae(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,n.xZ)(this.auth.app))return Promise.reject(S(this.auth));const e=await this.getIdToken();return await ne(this,async function(e,t){return j(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,i,o,a,s,c,l;const u=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;T(y&&_,e,"internal-error");const S=le.fromJSON(this.name,_);T("string"===typeof y,e,"internal-error"),ue(u,e.name),ue(h,e.name),T("boolean"===typeof w,e,"internal-error"),T("boolean"===typeof b,e,"internal-error"),ue(f,e.name),ue(d,e.name),ue(p,e.name),ue(g,e.name),ue(m,e.name),ue(v,e.name);const C=new he({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(C.providerData=E.map(e=>Object.assign({},e))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new le;n.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await ae(i),i}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];T(void 0!==n.localId,"internal-error");const i=void 0!==n.providerUserInfo?ce(n.providerUserInfo):[],o=!(n.email&&n.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new le;a.updateFromIdToken(r);const s=new he({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:i,metadata:new oe(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,c),s}}const fe=new Map;function de(e){x(e instanceof Function,"Expected a class definition");let t=fe.get(e);return t?(x(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fe.set(e,t),t)}class pe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pe.type="NONE";const ge=pe;function me(e,t,r){return"firebase".concat(":",e,":").concat(t,":").concat(r)}class ve{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:i}=this.auth;this.fullUserKey=me(this.userKey,n.apiKey,i),this.fullPersistenceKey=me("persistence",n.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Z(this.auth,{idToken:e}).catch(()=>{});return t?he._fromGetAccountInfoResponse(this.auth,t,e):null}return he._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ve(de(ge),e,r);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=n[0]||de(ge);const o=me(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(o);if(t){let r;if("string"===typeof t){const n=await Z(e,{idToken:t}).catch(()=>{});if(!n)break;r=await he._fromGetAccountInfoResponse(e,n,t)}else r=he._fromJSON(e,t);l!==i&&(a=r),i=l;break}}catch(c){}const s=n.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(c){}})),new ve(i,e,r)):new ve(i,e,r)}}function ye(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(we(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ce(t))return"Blackberry";if(Ae(t))return"Webos";if(be(t))return"Safari";if((t.includes("chrome/")||Ee(t))&&!t.includes("edge/"))return"Chrome";if(Se(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===(null===r||void 0===r?void 0:r.length))return r[1]}return"Other"}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function be(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function _e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return Te(e)||Se(e)||Ae(e)||Ce(e)||/windows phone/i.test(e)||_e(e)}function xe(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ye((0,i.ZQ)());break;case"Worker":t="".concat(ye((0,i.ZQ)()),"-").concat(e);break;default:t=e}const o=r.length?r.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(n.MF,"/").concat(o)}class ke{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise((r,n)=>{try{r(e(t))}catch(i){n(i)}});r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const e of t)try{e()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===r||void 0===r?void 0:r.message})}}}class Ne{constructor(e){var t,r,n,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(r=s.meetsMaxPasswordLength)||void 0===r||r),s.isValid&&(s.isValid=null===(n=s.containsLowercaseLetter)||void 0===n||n),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Oe{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new De(this),this.idTokenSubscription=new De(this),this.beforeStateQueue=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=de(t)),this._initializationPromise=this.queue(async()=>{var r,n,i;if(!this._deleted&&(this.persistenceManager=await ve.create(this,e),null===(r=this._resolvePersistenceManagerAvailable)||void 0===r||r.call(this),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Z(this,{idToken:e}),r=await he._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,n.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,n=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);r&&r!==n||!(null===a||void 0===a?void 0:a.user)||(i=a.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return T(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ae(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,n.xZ)(this.app))return Promise.reject(S(this));const t=e?(0,i.Ku)(e):null;return t&&T(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&T(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,n.xZ)(this.app)?Promise.reject(S(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,n.xZ)(this.app)?Promise.reject(S(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(de(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return j(e,"GET","/v2/passwordPolicy",B(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ne(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return j(e,"POST","/v2/accounts:revokeToken",B(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&de(e)||this._popupRedirectResolver;T(t,this,"argument-error"),this.redirectPersistenceManager=await ve.create(this,[de(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,r,n);return()=>{o=!0,i()}}{const r=e.addObserver(t);return()=>{o=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if((0,n.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(y.logLevel<=o.$b.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];y.warn("Auth (".concat(n.MF,"): ").concat(e),...r)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Re(e){return(0,i.Ku)(e)}class De{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pe={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Me(e){return Pe.loadJS(e)}function Le(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const Fe=1e12;class Be{constructor(e){this.auth=e,this.counter=Fe,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Ve(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Fe;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Fe;return(null===(t=this._widgets.get(r))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Fe;return null===(t=this._widgets.get(r))||void 0===t||t.execute(),""}}class je{constructor(){this.enterprise=new Ue}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ue{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ve{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const n="string"===typeof e?document.getElementById(e):e;T(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<e;n++)t.push(r.charAt(Math.floor(Math.random()*r.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(r){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(r){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ze="NO_RECAPTCHA";class He{constructor(e){this.type="recaptcha-enterprise",this.auth=Re(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(t,r,n){const i=window.grecaptcha;K(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(ze)})}):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new je).execute("siteKey",{action:"verify"})}return new Promise((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{Y(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const r=new q(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{r(e)})})})(this.auth).then(i=>{if(!t&&K(window.grecaptcha))r(i,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=Pe.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Me(t).then(()=>{r(i,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function We(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new He(e);let a;if(i)a=ze;else try{a=await o.verify(r)}catch(c){a=await o.verify(r,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ge(e,t,r,n,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await We(e,t,r,"getOobCode"===r);return n(e,i)}return n(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await We(e,t,r,"getOobCode"===r);return n(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await We(e,t,r);return n(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(r," flow."));const i=await We(e,t,r,!1,!0);return n(e,i)}return Promise.reject(i)})}{const i=await We(e,t,r,!1,!0);return n(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Xe(e){const t=Re(e),r=await Y(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new q(r);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new He(t).verify()}}function Ke(e,t){const r=(0,n.j6)(e,"auth");if(r.isInitialized()){const e=r.getImmediate(),n=r.getOptions();if((0,i.bD)(n,null!==t&&void 0!==t?t:{}))return e;b(e,"already-initialized")}return r.initialize({options:t})}function qe(e,t,r){const n=Re(e);T(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const o=!!(null===r||void 0===r?void 0:r.disableWarnings),a=Ye(t),{host:s,port:c}=function(e){const t=Ye(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const e=i[1];return{host:e,port:Ze(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Ze(t)}}}(t),l=null===c?"":":".concat(c),u={url:"".concat(a,"//").concat(s).concat(l,"/")},h=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator)return T(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void T((0,i.bD)(u,n.config.emulator)&&(0,i.bD)(h,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=u,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,(0,i.zJ)(s)?((0,i.gE)("".concat(a,"//").concat(s).concat(l)),(0,i.P1)("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ye(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ze(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $e{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return I("not implemented")}_getIdTokenResponse(e){return I("not implemented")}_linkToIdToken(e,t){return I("not implemented")}_getReauthenticationResolver(e){return I("not implemented")}}async function Qe(e,t){return j(e,"POST","/v1/accounts:resetPassword",B(e,t))}async function Je(e,t){return j(e,"POST","/v1/accounts:signUp",t)}async function et(e,t){return V(e,"POST","/v1/accounts:signInWithPassword",B(e,t))}async function tt(e,t){return j(e,"POST","/v1/accounts:sendOobCode",B(e,t))}async function rt(e,t){return tt(e,t)}async function nt(e,t){return tt(e,t)}class it extends $e{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new it(e,t,"password")}static _fromEmailAndCode(e,t){return new it(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ge(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",et,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return V(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{email:this._email,oobCode:this._password});default:b(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ge(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Je,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return V(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:b(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ot(e,t){return V(e,"POST","/v1/accounts:signInWithIdp",B(e,t))}class at extends $e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new at(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):b("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,i=a(t,["providerId","signInMethod"]);if(!r||!n)return null;const o=new at(r,n);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ot(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ot(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ot(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function st(e,t){return j(e,"POST","/v1/accounts:sendVerificationCode",B(e,t))}const ct={USER_NOT_FOUND:"user-not-found"};class lt extends $e{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new lt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new lt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return V(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await V(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t));if(r.temporaryProof)throw G(e,"account-exists-with-different-credential",r);return r}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return V(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ct)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}=e;return r||t||n||i?new lt({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}):null}}class ut{constructor(e){var t,r,n,o,a,s;const c=(0,i.I9)((0,i.hp)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=c.mode)&&void 0!==n?n:null);T(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=c.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,r=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,n=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(n?(0,i.I9)((0,i.hp)(n)).link:null)||n||r||t||e}(e);try{return new ut(t)}catch(r){return null}}}function ht(e){return ut.parseLink(e)}class ft{constructor(){this.providerId=ft.PROVIDER_ID}static credential(e,t){return it._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ut.parseLink(t);return T(r,"argument-error"),it._fromEmailAndCode(e,r.code,r.tenantId)}}ft.PROVIDER_ID="password",ft.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ft.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pt extends dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gt extends pt{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return T("providerId"in t&&"signInMethod"in t,"argument-error"),at._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return T(e.idToken||e.accessToken,"argument-error"),at._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return gt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return gt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!n&&!i&&!r&&!o)return null;if(!s)return null;try{return new gt(s)._credential({idToken:r,accessToken:n,nonce:a,pendingToken:o})}catch(c){return null}}}class mt extends pt{constructor(){super("facebook.com")}static credential(e){return at._fromParams({providerId:mt.PROVIDER_ID,signInMethod:mt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mt.credentialFromTaggedObject(e)}static credentialFromError(e){return mt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return mt.credential(t.oauthAccessToken)}catch(r){return null}}}mt.FACEBOOK_SIGN_IN_METHOD="facebook.com",mt.PROVIDER_ID="facebook.com";class vt extends pt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return at._fromParams({providerId:vt.PROVIDER_ID,signInMethod:vt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vt.credentialFromTaggedObject(e)}static credentialFromError(e){return vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return vt.credential(r,n)}catch(i){return null}}}vt.GOOGLE_SIGN_IN_METHOD="google.com",vt.PROVIDER_ID="google.com";class yt extends pt{constructor(){super("github.com")}static credential(e){return at._fromParams({providerId:yt.PROVIDER_ID,signInMethod:yt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yt.credentialFromTaggedObject(e)}static credentialFromError(e){return yt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yt.credential(t.oauthAccessToken)}catch(r){return null}}}yt.GITHUB_SIGN_IN_METHOD="github.com",yt.PROVIDER_ID="github.com";class wt extends $e{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ot(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ot(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ot(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n,pendingToken:i}=t;return r&&n&&i&&r===n?new wt(r,i):null}static _create(e,t){return new wt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bt extends dt{constructor(e){T(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return bt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=wt.fromJSON(e);return T(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:r,providerId:n}=t;if(!r||!n)return null;try{return wt._create(n,r)}catch(i){return null}}}class Et extends pt{constructor(){super("twitter.com")}static credential(e,t){return at._fromParams({providerId:Et.PROVIDER_ID,signInMethod:Et.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Et.credentialFromTaggedObject(e)}static credentialFromError(e){return Et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Et.credential(r,n)}catch(i){return null}}}async function _t(e,t){return V(e,"POST","/v1/accounts:signUp",B(e,t))}Et.TWITTER_SIGN_IN_METHOD="twitter.com",Et.PROVIDER_ID="twitter.com";class St{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await he._fromIdTokenResponse(e,r,n),o=Ct(r);return new St({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=Ct(r);return new St({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function Ct(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function At(e){var t;if((0,n.xZ)(e.app))return Promise.reject(S(e));const r=Re(e);if(await r._initializationPromise,null===(t=r.currentUser)||void 0===t?void 0:t.isAnonymous)return new St({user:r.currentUser,providerId:null,operationType:"signIn"});const i=await _t(r,{returnSecureToken:!0}),o=await St._fromIdTokenResponse(r,"signIn",i,!0);return await r._updateCurrentUser(o.user),o}class Tt extends i.g{constructor(e,t,r,n){var i;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,Tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new Tt(e,t,r,n)}}function It(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if(r.code==="auth/".concat("multi-factor-auth-required"))throw Tt._fromErrorAndOperation(e,r,t,n);throw r})}function xt(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function kt(e,t){const r=(0,i.Ku)(e);await Ot(!0,r,t);const{providerUserInfo:n}=await async function(e,t){return j(e,"POST","/v1/accounts:update",t)}(r.auth,{idToken:await r.getIdToken(),deleteProvider:[t]}),o=xt(n||[]);return r.providerData=r.providerData.filter(e=>o.has(e.providerId)),o.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function Nt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await ne(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return St._forOperation(e,"link",n)}async function Ot(e,t,r){await ae(t);const n=!1===e?"provider-already-linked":"no-such-provider";T(xt(t.providerData).has(r)===e,t.auth,n)}async function Rt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,n.xZ)(i.app))return Promise.reject(S(i));const o="reauthenticate";try{const n=await ne(e,It(i,o,t,e),r);T(n.idToken,i,"internal-error");const a=te(n.idToken);T(a,i,"internal-error");const{sub:s}=a;return T(e.uid===s,i,"user-mismatch"),St._forOperation(e,o,n)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&b(i,"user-mismatch"),a}}async function Dt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,n.xZ)(e.app))return Promise.reject(S(e));const i="signIn",o=await It(e,i,t),a=await St._fromIdTokenResponse(e,i,o);return r||await e._updateCurrentUser(a.user),a}async function Pt(e,t){return Dt(Re(e),t)}async function Mt(e,t){const r=(0,i.Ku)(e);return await Ot(!1,r,t.providerId),Nt(r,t)}async function Lt(e,t){return Rt((0,i.Ku)(e),t)}async function Ft(e,t){if((0,n.xZ)(e.app))return Promise.reject(S(e));const r=Re(e),i=await async function(e,t){return V(e,"POST","/v1/accounts:signInWithCustomToken",B(e,t))}(r,{token:t,returnSecureToken:!0}),o=await St._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}class Bt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jt._fromServerResponse(e,t):"totpInfo"in t?Ut._fromServerResponse(e,t):b(e,"internal-error")}}class jt extends Bt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jt(t)}}class Ut extends Bt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ut(t)}}function Vt(e,t,r){var n;T((null===(n=r.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),T("undefined"===typeof r.dynamicLinkDomain||r.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),T("undefined"===typeof r.linkDomain||r.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=r.url,t.dynamicLinkDomain=r.dynamicLinkDomain,t.linkDomain=r.linkDomain,t.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(T(r.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=r.iOS.bundleId),r.android&&(T(r.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=r.android.installApp,t.androidMinimumVersionCode=r.android.minimumVersion,t.androidPackageName=r.android.packageName)}async function zt(e){const t=Re(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ht(e,t,r){const n=Re(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};r&&Vt(n,i,r),await Ge(n,i,"getOobCode",rt,"EMAIL_PASSWORD_PROVIDER")}async function Wt(e,t,r){await Qe((0,i.Ku)(e),{oobCode:t,newPassword:r}).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zt(e),t})}async function Gt(e,t){await async function(e,t){return j(e,"POST","/v1/accounts:update",B(e,t))}((0,i.Ku)(e),{oobCode:t})}async function Xt(e,t){const r=(0,i.Ku)(e),n=await Qe(r,{oobCode:t}),o=n.requestType;switch(T(o,r,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":T(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":T(n.mfaInfo,r,"internal-error");default:T(n.email,r,"internal-error")}let a=null;return n.mfaInfo&&(a=Bt._fromServerResponse(Re(r),n.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.newEmail:n.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.email:n.newEmail)||null,multiFactorInfo:a},operation:o}}async function Kt(e,t){const{data:r}=await Xt((0,i.Ku)(e),t);return r.email}async function qt(e,t,r){if((0,n.xZ)(e.app))return Promise.reject(S(e));const i=Re(e),o=Ge(i,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_t,"EMAIL_PASSWORD_PROVIDER"),a=await o.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zt(e),t}),s=await St._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(s.user),s}function Yt(e,t,r){return(0,n.xZ)(e.app)?Promise.reject(S(e)):Pt((0,i.Ku)(e),ft.credential(t,r)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zt(e),t})}async function Zt(e,t,r){const n=Re(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){T(t.handleCodeInApp,n,"argument-error"),t&&Vt(n,e,t)}(i,r),await Ge(n,i,"getOobCode",nt,"EMAIL_PASSWORD_PROVIDER")}function $t(e,t){const r=ut.parseLink(t);return"EMAIL_SIGNIN"===(null===r||void 0===r?void 0:r.operation)}async function Qt(e,t,r){if((0,n.xZ)(e.app))return Promise.reject(S(e));const o=(0,i.Ku)(e),a=ft.credentialWithLink(t,r||k());return T(a._tenantId===(o.tenantId||null),o,"tenant-id-mismatch"),Pt(o,a)}async function Jt(e,t){const r={identifier:t,continueUri:N()?k():"http://localhost"},{signinMethods:n}=await async function(e,t){return j(e,"POST","/v1/accounts:createAuthUri",B(e,t))}((0,i.Ku)(e),r);return n||[]}async function er(e,t){const r=(0,i.Ku)(e),n={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Vt(r.auth,n,t);const{email:o}=await async function(e,t){return tt(e,t)}(r.auth,n);o!==e.email&&await e.reload()}async function tr(e,t,r){const n=(0,i.Ku)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};r&&Vt(n.auth,o,r);const{email:a}=await async function(e,t){return tt(e,t)}(n.auth,o);a!==e.email&&await e.reload()}async function rr(e,t){let{displayName:r,photoURL:n}=t;if(void 0===r&&void 0===n)return;const o=(0,i.Ku)(e),a={idToken:await o.getIdToken(),displayName:r,photoUrl:n,returnSecureToken:!0},s=await ne(o,async function(e,t){return j(e,"POST","/v1/accounts:update",t)}(o.auth,a));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const c=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});c&&(c.displayName=o.displayName,c.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function nr(e,t){const r=(0,i.Ku)(e);return(0,n.xZ)(r.auth.app)?Promise.reject(S(r.auth)):or(r,t,null)}function ir(e,t){return or((0,i.Ku)(e),null,t)}async function or(e,t,r){const{auth:n}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),r&&(i.password=r);const o=await ne(e,async function(e,t){return j(e,"POST","/v1/accounts:update",t)}(n,i));await e._updateTokensIfNecessary(o,!0)}class ar{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=r}}class sr extends ar{constructor(e,t,r,n){super(e,t,r),this.username=n}}class cr extends ar{constructor(e,t){super(e,"facebook.com",t)}}class lr extends sr{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ur extends ar{constructor(e,t){super(e,"google.com",t)}}class hr extends sr{constructor(e,t,r){super(e,"twitter.com",t,r)}}function fr(e){const{user:t,_tokenResponse:r}=e;return t.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,r;if(!e)return null;const{providerId:n}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!n&&(null===e||void 0===e?void 0:e.idToken)){const n=null===(r=null===(t=te(e.idToken))||void 0===t?void 0:t.firebase)||void 0===r?void 0:r.sign_in_provider;if(n)return new ar(o,"anonymous"!==n&&"custom"!==n?n:null)}if(!n)return null;switch(n){case"facebook.com":return new cr(o,i);case"github.com":return new lr(o,i);case"google.com":return new ur(o,i);case"twitter.com":return new hr(o,i,e.screenName||null);case"custom":case"anonymous":return new ar(o,null);default:return new ar(o,n,i)}}(r)}function dr(e,t){return(0,i.Ku)(e).setPersistence(t)}function pr(e){return Xe(e)}async function gr(e,t){return Re(e).validatePassword(t)}function mr(e,t,r,n){return(0,i.Ku)(e).onIdTokenChanged(t,r,n)}function vr(e,t,r){return(0,i.Ku)(e).beforeAuthStateChanged(t,r)}function yr(e,t,r,n){return(0,i.Ku)(e).onAuthStateChanged(t,r,n)}function wr(e){(0,i.Ku)(e).useDeviceLanguage()}function br(e,t){return(0,i.Ku)(e).updateCurrentUser(t)}function Er(e){return(0,i.Ku)(e).signOut()}function _r(e,t){return Re(e).revokeAccessToken(t)}async function Sr(e){return(0,i.Ku)(e).delete()}class Cr{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Cr("enroll",e,t)}static _fromMfaPendingCredential(e){return new Cr("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,r;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Cr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return Cr._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ar{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Re(e),n=t.customData._serverResponse,i=(n.mfaInfo||[]).map(e=>Bt._fromServerResponse(r,e));T(n.mfaPendingCredential,r,"internal-error");const o=Cr._fromMfaPendingCredential(n.mfaPendingCredential);return new Ar(o,i,async e=>{const i=await e._process(r,o);delete n.mfaInfo,delete n.mfaPendingCredential;const a=Object.assign(Object.assign({},n),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await St._fromIdTokenResponse(r,t.operationType,a);return await r._updateCurrentUser(e.user),e;case"reauthenticate":return T(t.user,r,"internal-error"),St._forOperation(t.user,t.operationType,a);default:b(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Tr(e,t){var r;const n=(0,i.Ku)(e),o=t;return T(t.customData.operationType,n,"argument-error"),T(null===(r=o.customData._serverResponse)||void 0===r?void 0:r.mfaPendingCredential,n,"argument-error"),Ar._fromError(n,o)}function Ir(e,t){return j(e,"POST","/v2/accounts/mfaEnrollment:start",B(e,t))}class xr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Bt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new xr(e)}async getSession(){return Cr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,n=await this.getSession(),i=await ne(this.user,r._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,r=await this.user.getIdToken();try{const e=await ne(this.user,(n=this.user.auth,i={idToken:r,mfaEnrollmentId:t},j(n,"POST","/v2/accounts/mfaEnrollment:withdraw",B(n,i))));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:r}=e;return r!==t}),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var n,i}}const kr=new WeakMap;function Nr(e){const t=(0,i.Ku)(e);return kr.has(t)||kr.set(t,xr._fromUser(t)),kr.get(t)}const Or="__sak";class Rr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Or,"1"),this.storage.removeItem(Or),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Dr extends Rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ie(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});const r=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},o=this.storage.getItem(r);(0,i.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dr.type="LOCAL";const Pr=Dr;function Mr(e){var t,r;const n=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(n,"=([^;]+)"));return null!==(r=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==r?r:null}function Lr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Fr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Lr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Mr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Lr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=Lr(e);if(window.cookieStore){const e=e=>{const n=e.changed.find(e=>e.name===r);n&&t(n.value);e.deleted.find(e=>e.name===r)&&t(null)},n=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,n),window.cookieStore.addEventListener("change",e)}let n=Mr(r);const i=setInterval(()=>{const e=Mr(r);e!==n&&(t(e),n=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}Fr.type="COOKIE";const Br=Fr;class jr extends Rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jr.type="SESSION";const Ur=jr;class Vr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const r=new Vr(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:i}=t.data,o=this.handlersMap[n];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="";for(let n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}Vr.receivers=[];class Hr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const c=zr("",20);n.port1.start();const l=setTimeout(()=>{s(new Error("unsupported_event"))},r);o={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),n.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[n.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Wr(){return window}function Gr(){return"undefined"!==typeof Wr().WorkerGlobalScope&&"function"===typeof Wr().importScripts}const Xr="firebaseLocalStorageDb",Kr="firebaseLocalStorage",qr="fbase_key";class Yr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zr(e,t){return e.transaction([Kr],t?"readwrite":"readonly").objectStore(Kr)}function $r(){const e=indexedDB.open(Xr,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Kr,{keyPath:qr})}catch(n){r(n)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Kr)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(Xr);return new Yr(e).toPromise()}(),t(await $r()))})})}async function Qr(e,t,r){const n=Zr(e,!0).put({[qr]:t,value:r});return new Yr(n).toPromise()}function Jr(e,t){const r=Zr(e,!0).delete(t);return new Yr(r).toPromise()}class en{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await $r()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(r){if(t++>3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vr._getInstance(Gr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Hr(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=r[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $r();return await Qr(e,Or,"1"),await Jr(e,Or),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qr(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const r=Zr(e,!1).get(t),n=await new Yr(r).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Zr(e,!1).getAll();return new Yr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:i}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(i)&&(this.notifyListeners(n,i),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}en.type="LOCAL";const tn=en;function rn(e,t){return j(e,"POST","/v2/accounts/mfaSignIn:start",B(e,t))}const nn=Le("rcb"),on=new R(3e4,6e4);class an{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Wr().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return T(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&X(Wr().grecaptcha)?Promise.resolve(Wr().grecaptcha):new Promise((r,n)=>{const o=Wr().setTimeout(()=>{n(E(e,"network-request-failed"))},on.get());Wr()[nn]=()=>{Wr().clearTimeout(o),delete Wr()[nn];const i=Wr().grecaptcha;if(!i||!X(i))return void n(E(e,"internal-error"));const a=i.render;i.render=(e,t)=>{const r=a(e,t);return this.counter++,r},this.hostLanguage=t,r(i)};Me("".concat(Pe.recaptchaV2Script,"?").concat((0,i.Am)({onload:nn,render:"explicit",hl:t}))).catch(()=>{clearTimeout(o),n(E(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Wr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sn{async load(e){return new Be(e)}clearedOneInstance(){}}const cn="recaptcha",ln={theme:"light",type:"image"};class un{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},ln);this.parameters=r,this.type=cn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(e),this.isInvisible="invisible"===this.parameters.size,T("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const n="string"===typeof t?document.getElementById(t):t;T(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sn:new an,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(r=>{const n=e=>{e&&(this.tokenChangeListeners.delete(n),r(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const r=Wr()[e];"function"===typeof r&&r(t)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){T(N()&&!Gr(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await j(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);T(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=lt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function fn(e,t,r){if((0,n.xZ)(e.app))return Promise.reject(S(e));const o=Re(e),a=await gn(o,t,(0,i.Ku)(r));return new hn(a,e=>Pt(o,e))}async function dn(e,t,r){const n=(0,i.Ku)(e);await Ot(!1,n,"phone");const o=await gn(n.auth,t,(0,i.Ku)(r));return new hn(o,e=>Mt(n,e))}async function pn(e,t,r){const o=(0,i.Ku)(e);if((0,n.xZ)(o.auth.app))return Promise.reject(S(o.auth));const a=await gn(o.auth,t,(0,i.Ku)(r));return new hn(a,e=>Lt(o,e))}async function gn(e,t,r){var n;if(!e._getRecaptchaConfig())try{await Xe(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){T("enroll"===t.type,e,"internal-error");const n={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Ge(e,n,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ze){T((null===r||void 0===r?void 0:r.type)===cn,e,"argument-error");return Ir(e,await vn(e,t,r))}return Ir(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{T("signin"===t.type,e,"internal-error");const o=(null===(n=i.multiFactorHint)||void 0===n?void 0:n.uid)||i.multiFactorUid;T(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Ge(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ze){T((null===r||void 0===r?void 0:r.type)===cn,e,"argument-error");return rn(e,await vn(e,t,r))}return rn(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},n=Ge(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ze){T((null===r||void 0===r?void 0:r.type)===cn,e,"argument-error");return st(e,await vn(e,t,r))}return st(e,t)},"PHONE_PROVIDER");return(await n.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===r||void 0===r||r._reset()}}async function mn(e,t){const r=(0,i.Ku)(e);if((0,n.xZ)(r.auth.app))return Promise.reject(S(r.auth));await Nt(r,t)}async function vn(e,t,r){T(r.type===cn,e,"argument-error");const n=await r.verify();T("string"===typeof n,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,r=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,r=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),i}return Object.assign(i,{recaptchaToken:n}),i}class yn{constructor(e){this.providerId=yn.PROVIDER_ID,this.auth=Re(e)}verifyPhoneNumber(e,t){return gn(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return lt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return yn.credentialFromTaggedObject(t)}static credentialFromError(e){return yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:r,temporaryProof:n}=t;return r&&n?lt._fromTokenResponse(r,n):null}}function wn(e,t){return t?de(t):(T(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}yn.PROVIDER_ID="phone",yn.PHONE_SIGN_IN_METHOD="phone";class bn extends $e{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ot(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ot(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ot(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function En(e){return Dt(e.auth,new bn(e),e.bypassAuthState)}function _n(e){const{auth:t,user:r}=e;return T(r,t,"internal-error"),Rt(r,new bn(e),e.bypassAuthState)}async function Sn(e){const{auth:t,user:r}=e;return T(r,t,"internal-error"),Nt(r,new bn(e),e.bypassAuthState)}class Cn{constructor(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return En;case"linkViaPopup":case"linkViaRedirect":return Sn;case"reauthViaPopup":case"reauthViaRedirect":return _n;default:b(this.auth,"internal-error")}}resolve(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const An=new R(2e3,1e4);async function Tn(e,t,r){if((0,n.xZ)(e.app))return Promise.reject(E(e,"operation-not-supported-in-this-environment"));const i=Re(e);C(e,t,dt);const o=wn(i,r);return new kn(i,"signInViaPopup",t,o).executeNotNull()}async function In(e,t,r){const o=(0,i.Ku)(e);if((0,n.xZ)(o.auth.app))return Promise.reject(E(o.auth,"operation-not-supported-in-this-environment"));C(o.auth,t,dt);const a=wn(o.auth,r);return new kn(o.auth,"reauthViaPopup",t,a,o).executeNotNull()}async function xn(e,t,r){const n=(0,i.Ku)(e);C(n.auth,t,dt);const o=wn(n.auth,r);return new kn(n.auth,"linkViaPopup",t,o,n).executeNotNull()}class kn extends Cn{constructor(e,t,r,n,i){super(e,t,n,i),this.provider=r,this.authWindow=null,this.pollId=null,kn.currentPopupAction&&kn.currentPopupAction.cancel(),kn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return T(e,this.auth,"internal-error"),e}async onExecution(){x(1===this.filter.length,"Popup operations only handle one event");const e=zr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(E(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(E(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;(null===(r=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===r?void 0:r.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(E(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,An.get())};e()}}kn.currentPopupAction=null;const Nn="pendingRedirect",On=new Map;class Rn extends Cn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=On.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=Ln(t),n=Mn(e);if(!await n._isAvailable())return!1;const i="true"===await n._get(r);return await n._remove(r),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}On.set(this.auth._key(),e)}return this.bypassAuthState||On.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Dn(e,t){return Mn(e)._set(Ln(t),"true")}function Pn(e,t){On.set(e._key(),t)}function Mn(e){return de(e._redirectPersistence)}function Ln(e){return me(Nn,e.config.apiKey,e.name)}function Fn(e,t,r){return async function(e,t,r){if((0,n.xZ)(e.app))return Promise.reject(S(e));const i=Re(e);C(e,t,dt),await i._initializationPromise;const o=wn(i,r);return await Dn(o,i),o._openRedirect(i,t,"signInViaRedirect")}(e,t,r)}function Bn(e,t,r){return async function(e,t,r){const o=(0,i.Ku)(e);if(C(o.auth,t,dt),(0,n.xZ)(o.auth.app))return Promise.reject(S(o.auth));await o.auth._initializationPromise;const a=wn(o.auth,r);await Dn(a,o.auth);const s=await zn(o);return a._openRedirect(o.auth,t,"reauthViaRedirect",s)}(e,t,r)}function jn(e,t,r){return async function(e,t,r){const n=(0,i.Ku)(e);C(n.auth,t,dt),await n.auth._initializationPromise;const o=wn(n.auth,r);await Ot(!1,n,t.providerId),await Dn(o,n.auth);const a=await zn(n);return o._openRedirect(n.auth,t,"linkViaRedirect",a)}(e,t,r)}async function Un(e,t){return await Re(e)._initializationPromise,Vn(e,t,!1)}async function Vn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,n.xZ)(e.app))return Promise.reject(S(e));const i=Re(e),o=wn(i,t),a=new Rn(i,o,r),s=await a.execute();return s&&!r&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}async function zn(e){const t=zr("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Hn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Gn(e)){const n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(E(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wn(e))}saveEventToCache(e){this.cachedEventUids.add(Wn(e)),this.lastProcessedEventTime=Date.now()}}function Wn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Gn(e){let{type:t,error:r}=e;return"unknown"===t&&(null===r||void 0===r?void 0:r.code)==="auth/".concat("no-auth-event")}const Xn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kn=/^https?/;async function qn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return j(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Yn(n))return}catch(r){}b(e,"unauthorized-domain")}function Yn(e){const t=k(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===n}if(!Kn.test(r))return!1;if(Xn.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const Zn=new R(3e4,6e4);function $n(){const e=Wr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}function Qn(e){return new Promise((t,r)=>{var n,i,o;function a(){$n(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$n(),r(E(e,"network-request-failed"))},timeout:Zn.get()})}if(null===(i=null===(n=Wr().gapi)||void 0===n?void 0:n.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Wr().gapi)||void 0===o?void 0:o.load)){const t=Le("iframefcb");return Wr()[t]=()=>{gapi.load?a():r(E(e,"network-request-failed"))},Me("".concat(Pe.gapiScript,"?onload=").concat(t)).catch(e=>r(e))}a()}}).catch(e=>{throw Jn=null,e})}let Jn=null;const ei=new R(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ni(e){const t=e.config;T(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?D(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),o={apiKey:t.apiKey,appName:e.name,v:n.MF},a=ri.get(e.config.apiHost);a&&(o.eid=a);const s=e._getFrameworks();return s.length&&(o.fw=s.join(",")),"".concat(r,"?").concat((0,i.Am)(o).slice(1))}async function ii(e){const t=await function(e){return Jn=Jn||Qn(e),Jn}(e),r=Wr().gapi;return T(r,e,"internal-error"),t.open({where:document.body,url:ni(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},t=>new Promise(async(r,n)=>{await t.restyle({setHideOnLeave:!1});const i=E(e,"network-request-failed"),o=Wr().setTimeout(()=>{n(i)},ei.get());function a(){Wr().clearTimeout(o),r(t)}t.ping(a).then(a,()=>{n(i)})}))}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function si(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const l=Object.assign(Object.assign({},oi),{width:n.toString(),height:o.toString(),top:a,left:s}),u=(0,i.ZQ)().toLowerCase();r&&(c=Ee(u)?"_blank":r),we(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,t)=>{let[r,n]=t;return"".concat(e).concat(r,"=").concat(n,",")},"");if(function(){var e;return Te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==c)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",c),new ai(null);const f=window.open(t||"",c,h);T(f,e,"popup-blocked");try{f.focus()}catch(d){}return new ai(f)}const ci="__/auth/handler",li="emulator/auth/handler",ui=encodeURIComponent("fac");async function hi(e,t,r,o,a,s){T(e.config.authDomain,e,"auth-domain-config-required"),T(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:o,v:n.MF,eventId:a};if(t instanceof dt){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))c[e]=t}if(t instanceof pt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const n of Object.keys(l))void 0===l[n]&&delete l[n];const u=await e._getAppCheckToken(),h=u?"#".concat(ui,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ci);return D(t,li)}(e),"?").concat((0,i.Am)(l).slice(1)).concat(h)}const fi="webStorageSupport";const di=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ur,this._completeRedirectFn=Vn,this._overrideRedirectResult=Pn}async _openPopup(e,t,r,n){var i;x(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return si(e,await hi(e,t,r,k(),n),zr())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function(e){Wr().location.href=e}(await hi(e,t,r,k(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(x(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ii(e),r=new Hn(e);return t.register("authEvent",t=>{T(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fi,{type:fi},r=>{var n;const i=null===(n=null===r||void 0===r?void 0:r[0])||void 0===n?void 0:n[fi];void 0!==i&&t(!!i),b(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ie()||be()||Te()}};class pi{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return I("unexpected MultiFactorSessionType")}}}class gi extends pi{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gi(e)}_finalizeEnroll(e,t,r){return function(e,t){return j(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return j(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mi{constructor(){}static assertion(e){return gi._fromCredential(e)}}mi.FACTOR_ID="phone";class vi{static assertionForEnrollment(e,t){return yi._fromSecret(e,t)}static assertionForSignIn(e,t){return yi._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;T("undefined"!==typeof(null===(t=r.user)||void 0===t?void 0:t.auth),"internal-error");const n=await(i=r.user.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},j(i,"POST","/v2/accounts/mfaEnrollment:start",B(i,o)));var i,o;return wi._fromStartTotpMfaEnrollmentResponse(n,r.user.auth)}}vi.FACTOR_ID="totp";class yi extends pi{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new yi(t,void 0,e)}static _fromEnrollmentId(e,t){return new yi(t,e)}async _finalizeEnroll(e,t,r){return T("undefined"!==typeof this.secret,e,"argument-error"),function(e,t){return j(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){T(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const r={verificationCode:this.otp};return function(e,t){return j(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class wi{constructor(e,t,r,n,i,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new wi(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let n=!1;return(bi(e)||bi(t))&&(n=!0),n&&(bi(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),bi(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}function bi(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ei="@firebase/auth",_i="1.10.7";class Si{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ci=(0,i.XA)("authIdTokenMaxAge")||300;let Ai=null;const Ti=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Ci)return;const i=null===r||void 0===r?void 0:r.token;Ai!==i&&(Ai=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Sx)();const t=(0,n.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const r=Ke(e,{popupRedirectResolver:di,persistence:[tn,Pr,Ur]}),o=(0,i.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=Ti(e.toString());vr(r,t,()=>t(r.currentUser)),mr(r,e=>t(e))}}const a=(0,i.Tj)("auth");return a&&qe(r,"http://".concat(a)),r}var xi;Pe={loadJS:e=>new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=E("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},xi="Browser",(0,n.om)(new s.uA("auth",(e,t)=>{let{options:r}=t;const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;T(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:s,clientPlatform:xi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(xi)},l=new Oe(n,i,o,c);return function(e,t){const r=(null===t||void 0===t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(de);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,n.om)(new s.uA("auth-internal",e=>(e=>new Si(e))(Re(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,n.KO)(Ei,_i,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xi)),(0,n.KO)(Ei,_i,"esm2017")},443:(e,t,r)=>{"use strict";r.d(t,{$b:()=>i,Vy:()=>l});const n=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=function(e,t){if(t<e.logLevel)return;const r=(new Date).toISOString(),n=s[t];if(!n)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[n]("[".concat(r,"]  ").concat(e.name,":"),...o)};class l{constructor(e){this.name=e,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},484:(e,t,r)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var c=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:()=>a}),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},497:(e,t,r)=>{"use strict";var n=r(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},529:(e,t,r)=>{"use strict";r.d(t,{cY:()=>p,FA:()=>P,g:()=>D,dM:()=>R,u:()=>s,Uj:()=>a,p9:()=>Y,Fy:()=>v,tD:()=>z,bD:()=>F,hp:()=>V,T9:()=>f,Tj:()=>u,yU:()=>h,XA:()=>d,mS:()=>c,Ku:()=>Z,ZQ:()=>E,sr:()=>A,zJ:()=>g,c1:()=>C,Im:()=>L,lT:()=>I,zW:()=>N,jZ:()=>_,lV:()=>T,nr:()=>x,Ov:()=>k,gE:()=>m,Am:()=>j,I9:()=>U,P1:()=>b,eX:()=>O});const n=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296===(64512&i)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,f=63&c;s||(f=64,o||(h=64)),n.push(r[l],r[u],r[h],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(n(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{const o=e[r++],a=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const t=r[e.charAt(i++)],a=i<e.length?r[e.charAt(i)]:0;++i;const s=i<e.length?r[e.charAt(i)]:64;++i;const c=i<e.length?r[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==c)throw new o;const l=t<<2|a>>4;if(n.push(l),64!==s){const e=a<<4&240|s>>2;if(n.push(e),64!==c){const e=s<<6&192|c;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=n(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}const l=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(r){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,r;return null===(r=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},h=e=>{const t=u(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},f=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},d=e=>{var t;return null===(t=l())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function g(e){return e.endsWith(".cloudworkstations.dev")}async function m(e){return(await fetch(e,{credentials:"include"})).ok}function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}const y={};let w=!1;function b(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||y[e]===t||y[e]||w)return;function r(e){return"__firebase__banner__".concat(e)}y[e]=t;const n="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(y))y[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{w=!0,function(){const e=document.getElementById(n);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}(n),t=r("text"),a=document.getElementById(t)||document.createElement("span"),s=r("learnmore"),c=document.getElementById(s)||document.createElement("a"),l=r("preprendIcon"),u=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(c,s);const r=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,l),t.append(u,a,c,r),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function E(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E())}function S(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(n){return!1}}function C(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function A(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function I(){const e=E();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return!S()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}function O(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(r){t(r)}})}function R(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class D extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},r="".concat(this.service,"/").concat(e),n=this.errors[e],i=n?function(e,t){return e.replace(M,(e,r)=>{const n=t[r];return null!=n?String(n):"<".concat(r,"?>")})}(n,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(r,").");return new D(r,o,t)}}const M=/\{\$([^}]+)}/g;function L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const r=e[i],o=t[i];if(B(r)&&B(o)){if(!F(r,o))return!1}else if(r!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function B(e){return null!==e&&"object"===typeof e}function j(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function V(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function z(e,t){const r=new H(e,t);return r.subscribe.bind(r)}class H{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"===typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=W),void 0===n.error&&(n.error=W),void 0===n.complete&&(n.complete=W);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W(){}const G=1e3,X=2,K=144e5,q=.5;function Y(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;const r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:G)*Math.pow(t,e),n=Math.round(q*r*(Math.random()-.5)*2);return Math.min(K,r+n)}function Z(e){return e&&e._delegate?e._delegate:e}},555:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function o(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{A:()=>s})},579:(e,t,r)=>{"use strict";e.exports=r(180)},619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(s).forEach(function(e){return e.removeAttribute("aria-hidden")}));s=null},t.log=function(){0},t.assertNodeList=c,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var r=document.querySelectorAll(t);c(r,t),t=r}return s=t||s},t.validateElement=l,t.hide=function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=l(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(a){r=!0,n=a}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}},t.show=function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=l(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(a){r=!0,n=a}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}},t.documentNotReadyOrSSRTesting=function(){s=null};var n,i=r(440),o=(n=i)&&n.__esModule?n:{default:n},a=r(821);var s=null;function c(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},672:(e,t,r)=>{"use strict";var n=r(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=c.T,r=a.p;try{if(c.T=null,a.p=2,e)return e()}finally{c.T=t,a.p=r,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:o}):"script"===r&&a.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin);a.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return c.H.useFormState(e,t,r)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.0"},682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=[].slice.call(t.querySelectorAll("*"),0).reduce(function(t,r){return t.concat(r.shadowRoot?e(r.shadowRoot):[r])},[]);return r.filter(s)};var r="none",n="contents",i=/^(input|select|textarea|button|object|iframe)$/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var i=window.getComputedStyle(e),o=i.getPropertyValue("display");return t?o!==n&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,i):o===r}catch(a){return console.warn("Failed to inspect element style"),!1}}function a(e,t){var r=e.nodeName.toLowerCase();return(i.test(r)&&!e.disabled||"a"===r&&e.href||t)&&function(e){for(var t=e,r=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(r&&t===r&&(t=r.host.parentNode),o(t))return!1;t=t.parentNode}return!0}(e)}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var r=isNaN(t);return(r||t>=0)&&a(e,!r)}e.exports=t.default},765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(43),a=p(o),s=p(r(950)),c=p(r(173)),l=p(r(439)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(619)),h=r(821),f=p(h),d=r(484);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=h.canUseDOM&&void 0!==s.default.createPortal,w=function(e){return document.createElement(e)},b=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var _=function(e){function t(){var e,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return r=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.removePortal=function(){!y&&s.default.unmountComponentAtNode(i.node);var e=E(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var r=b()(i,a.default.createElement(l.default,n({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(r)},g(i,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){h.canUseDOM&&(y||(this.node=w("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,r){if(h.canUseDOM){var n=this.props,i=n.isOpen,o=n.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=r.prevParent,s=r.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),r=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);r?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,r-t)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&y?(!this.node&&y&&(this.node=w("div")),b()(a.default.createElement(l.default,n({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(o.Component);_.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.oneOfType([c.default.instanceOf(f.default),c.default.instanceOf(h.SafeHTMLCollection),c.default.instanceOf(h.SafeNodeList),c.default.arrayOf(c.default.instanceOf(f.default))]),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func},_.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(_),t.default=_},774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a=[]},t.log=function(){0},t.handleBlur=l,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(r){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",u))};var n,i=r(682),o=(n=i)&&n.__esModule?n:{default:n};var a=[],s=null,c=!1;function l(){c=!0}function u(){if(c){if(c=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()},0)}}},799:(e,t,r)=>{"use strict";r.d(t,{P2:()=>v});var n=r(555);const i=(e,t)=>t.some(t=>e instanceof t);let o,a;const s=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,h=new WeakMap;let f={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return g(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(m(this),r),g(s.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(e.apply(m(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const o=e.call(m(this),t,...n);return l.set(o,t.sort?t.sort():[t]),g(o)}}function p(e){return"function"===typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});c.set(e,t)}(e),i(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,f):e)}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(g(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&s.set(t,e)}).catch(()=>{}),h.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),h.set(t,e)),t}const m=e=>h.get(e);function v(e,t){let{blocked:r,upgrade:n,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=g(a);return n&&a.addEventListener("upgradeneeded",e=>{n(g(a.result),e.oldVersion,e.newVersion,g(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const y=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],b=new Map;function E(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=w.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(r))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return n&&(o=o.index(s.shift())),(await Promise.all([o[r](...s),i&&t.done]))[0]};return b.set(t,o),o}f=(e=>(0,n.A)((0,n.A)({},e),{},{get:(t,r,n)=>E(t,r)||e.get(t,r,n),has:(t,r)=>!!E(t,r)||e.has(t,r)}))(f)},812:(e,t,r)=>{"use strict";r.d(t,{h1:()=>s,uA:()=>i});var n=r(529);class i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new n.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});r.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(i)&&o.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(n){}}getOrInitializeService(e){let{instanceIdentifier:t,options:r={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(a){}var i;return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var n,i=r(396);var o=((n=i)&&n.__esModule?n:{default:n}).default,a=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=a},841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in r)i(e,r[t]);var o=document.body;for(var a in n)i(o,n[a]);r={},n={}},t.log=function(){0};var r={},n={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,o="html"==e.nodeName.toLowerCase()?r:n,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),i.add(e)});var i,o},t.remove=function(e,t){return i=e.classList,o="html"==e.nodeName.toLowerCase()?r:n,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&i.remove(e)});var i,o}},853:(e,t,r)=>{"use strict";e.exports=r(896)},896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,r))l<i&&0>o(u,c)?(e[n]=u,e[l]=r,n=l):(e[n]=c,e[s]=r,n=s);else{if(!(l<i&&0>o(u,r)))break e;e[n]=u,e[l]=r,n=l}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,r(l,t)}t=n(u)}}function _(e){if(m=!1,E(e),!g)if(null!==n(l))g=!0,C||(C=!0,S());else{var t=n(u);null!==t&&R(_,t.startTime-e)}}var S,C=!1,A=-1,T=5,I=-1;function x(){return!!v||!(t.unstable_now()-I<T)}function k(){if(v=!1,C){var e=t.unstable_now();I=e;var r=!0;try{e:{g=!1,m&&(m=!1,w(A),A=-1),p=!0;var o=d;try{t:{for(E(e),f=n(l);null!==f&&!(f.expirationTime>e&&x());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){f.callback=s,E(e),r=!0;break t}f===n(l)&&i(l),E(e)}else i(l);f=n(l)}if(null!==f)r=!0;else{var c=n(u);null!==c&&R(_,c.startTime-e),r=!1}}break e}finally{f=null,d=o,p=!1}r=void 0}}finally{r?S():C=!1}}}if("function"===typeof b)S=function(){b(k)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=k,S=function(){O.postMessage(null)}}else S=function(){y(k,0)};function R(e,r){A=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var r=d;d=t;try{return e()}finally{d=r}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=d;d=e;try{return t()}finally{d=r}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,r(u,e),null===n(l)&&e===n(u)&&(m?(w(A),A=-1):m=!0,R(_,o-a))):(e.sortIndex=s,r(l,e),g||p||(g=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=d;return function(){var r=d;d=t;try{return e.apply(this,arguments)}finally{d=r}}}},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)},959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")},t.resetState=function(){n=new r};var r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var r=t.openInstances.indexOf(e);-1!==r&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(r){return r(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new r;t.default=n},963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(765),o=(n=i)&&n.__esModule?n:{default:n};t.default=o.default,e.exports=t.default}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".64b606da.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-library-app:";r.l=(n,i,o,a)=>{if(e[n])e[n].push(i);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[i];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(r)),t)return t(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((r,n)=>i=e[t]=[r,n]);n.push(i[2]=o);var a=r.p+r.u(t),s=new Error;r.l(a,n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var i,o,a=n[0],s=n[1],c=n[2],l=0;if(a.some(t=>0!==e[t])){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(c)c(r)}for(t&&t(n);l<a.length;l++)o=a[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmy_library_app=self.webpackChunkmy_library_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=r(43),t=r(391),n=r(555),i=r(52);(0,i.KO)("firebase","11.9.1","app");var o,a,s=r(442),c=r(812),l=r(443),u=r(529),h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},f={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,r){r||(r=0);var n=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^r&(i^o))+n[0]+3614090360&4294967295;a=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=(r=(i=(o=(t=r+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(r^i))+n[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(r^o&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=r+(t^i&(o^t))+n[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^r&(i^o))+n[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(r^i))+n[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(r^o&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=r+(t^i&(o^t))+n[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^r&(i^o))+n[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(r^i))+n[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(r^o&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=r+(t^i&(o^t))+n[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^r&(i^o))+n[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(r^i))+n[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(r^o&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=r+(t^i&(o^t))+n[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(r^i))+n[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(r^i&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^r&(o^t))+n[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=r+(o^t&(i^o))+n[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(r^i))+n[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(r^i&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^r&(o^t))+n[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=r+(o^t&(i^o))+n[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(r^i))+n[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(r^i&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^r&(o^t))+n[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=r+(o^t&(i^o))+n[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(r^i))+n[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(r^i&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^r&(o^t))+n[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=r+(o^t&(i^o))+n[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i^o)+n[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^r^i)+n[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=r+(i^o^t)+n[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^i^o)+n[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^r^i)+n[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=r+(i^o^t)+n[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^i^o)+n[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^r^i)+n[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=r+(i^o^t)+n[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^i^o)+n[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^r^i)+n[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^r)+n[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=r+(i^o^t)+n[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(r|~o))+n[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(r^(t|~i))+n[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~r))+n[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=r+(o^(i|~t))+n[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(r|~o))+n[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(r^(t|~i))+n[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~r))+n[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=r+(o^(i|~t))+n[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(r|~o))+n[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(r^(t|~i))+n[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~r))+n[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=r+(o^(i|~t))+n[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=r+((a=t+(i^(r|~o))+n[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(r^(t|~i))+n[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~r))+n[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function n(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var o=0|e[i];n&&o==t||(r[i]=o,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=n;)r(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){r(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){r(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var r=i;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}(e,function(e){return new n([0|e],0>e?-1:0)}):new n([0|e],0>e?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return g(c(-e));for(var t=[],r=1,i=0;e>=r;i++)t[i]=e/r|0,r*=4294967296;return new n(t,0)}var l=s(0),u=s(1),h=s(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function g(e){for(var t=e.g.length,r=[],i=0;i<t;i++)r[i]=~e.g[i];return new n(r,~e.h).add(u)}function m(e,t){return e.add(g(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function w(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(l,l);if(p(e))return t=w(g(e),t),new y(g(t.g),g(t.h));if(p(t))return t=w(e,g(t)),new y(g(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var r=u,n=t;0>=n.l(e);)r=b(r),n=b(n);var i=E(r,1),o=E(n,1);for(n=E(n,2),r=E(r,2);!d(n);){var a=o.add(n);0>=a.l(e)&&(i=i.add(r),o=a),n=E(n,1),r=E(r,1)}return t=m(e,i.j(t)),new y(i,t)}for(i=l;0<=e.l(t);){for(r=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),a=(o=c(r)).j(t);p(a)||0<a.l(e);)a=(o=c(r-=n)).j(t);d(o)&&(o=u),i=i.add(o),e=m(e,a)}return new y(i,e)}function b(e){for(var t=e.g.length+1,r=[],i=0;i<t;i++)r[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(r,e.h)}function E(e,t){var r=t>>5;t%=32;for(var i=e.g.length-r,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+r)>>>t|e.i(a+r+1)<<32-t:e.i(a+r);return new n(o,e.h)}(e=n.prototype).m=function(){if(p(this))return-g(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(p(this))return"-"+g(this).toString(e);for(var t=c(Math.pow(e,6)),r=this,n="";;){var i=w(r,t).g,o=((0<(r=m(r,i.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(d(r=i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=m(this,e))?-1:d(e)?0:1},e.abs=function(){return p(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,r[o]=s<<16|a}return new n(r,-2147483648&r[r.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return l;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(0>this.l(h)&&0>e.l(h))return c(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var a=this.i(i)>>>16,s=65535&this.i(i),u=e.i(o)>>>16,f=65535&e.i(o);r[2*i+2*o]+=s*f,v(r,2*i+2*o),r[2*i+2*o+1]+=a*f,v(r,2*i+2*o+1),r[2*i+2*o+1]+=s*u,v(r,2*i+2*o+1),r[2*i+2*o+2]+=a*u,v(r,2*i+2*o+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new n(r,0)},e.A=function(e){return w(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)&e.i(i);return new n(r,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)|e.i(i);return new n(r,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)^e.i(i);return new n(r,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,a=f.Md5=t,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=c,n.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return g(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=c(Math.pow(r,8)),i=l,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),r);8>a?(a=c(Math.pow(r,a)),i=i.j(a).add(c(s))):i=(i=i.j(n)).add(c(s))}return i},o=f.Integer=n}).apply("undefined"!==typeof h?h:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,p,g,m,v,y,w,b,E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof E&&E];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var n=n||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,r){return e.call.apply(e.bind,arguments)}function c(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function l(e,t,r){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:c).apply(null,arguments)}function u(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}}function f(e){const t=e.length;if(0<t){const r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function S(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];if(o(t)){const r=e.length||0,n=t.length||0;e.length=r+n;for(let i=0;i<n;i++)e[r+i]=t[i]}else e.push(t)}}function C(e){return/^[\s\xa0]*$/.test(e)}function A(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function T(e){return T[" "](e),e}T[" "]=function(){};var I=-1!=A().indexOf("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&-1==A().indexOf("Edge"))&&!(-1!=A().indexOf("Trident")||-1!=A().indexOf("MSIE"))&&-1==A().indexOf("Edge");function x(e,t,r){for(const n in e)t.call(r,e[n],n,e)}function k(e){const t={};for(const r in e)t[r]=e[r];return t}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let r,n;for(let i=1;i<arguments.length;i++){for(r in n=arguments[i],n)e[r]=n[r];for(let t=0;t<N.length;t++)r=N[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function R(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function D(e){i.setTimeout(()=>{throw e},0)}function P(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var M=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L,e=>e.reset());class L{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let F,B=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const r=M.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},U=()=>{const e=i.Promise.resolve(void 0);F=()=>{e.then(V)}};var V=()=>{for(var e;e=P();){try{e.h.call(e.g)}catch(r){D(r)}var t=M;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}B=!1};function z(){this.s=this.s,this.C=this.C}function H(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},H.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(r){}return e}();function G(e,t){if(H.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{T(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:X[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&G.aa.h.call(this)}}h(G,H);var X={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),q=0;function Y(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++q,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function Q(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],o=Array.prototype.indexOf.call(i,t,void 0);(n=0<=o)&&Array.prototype.splice.call(i,o,1),n&&(Z(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function J(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!r&&o.ha==n)return i}return-1}$.prototype.add=function(e,t,r,n,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=J(e,t,n,i);return-1<a?(t=e[a],r||(t.fa=!1)):((t=new Y(t,this.src,o,!!n,i)).fa=r,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function re(e,t,r,n,i){if(n&&n.once)return ie(e,t,r,n,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)re(e,t[o],r,n,i);return null}return r=he(r),e&&e[K]?e.K(t,r,a(n)?!!n.capture:!!n,i):ne(e,t,r,!1,n,i)}function ne(e,t,r,n,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,c=le(e);if(c||(e[ee]=c=new $(e)),(r=c.add(t,r,n,s,o)).proxy)return r;if(n=function(){function e(r){return t.call(e.src,e.listener,r)}const t=ce;return e}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)W||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(se(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function ie(e,t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ie(e,t[o],r,n,i);return null}return r=he(r),e&&e[K]?e.L(t,r,a(n)?!!n.capture:!!n,i):ne(e,t,r,!0,n,i)}function oe(e,t,r,n,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)oe(e,t[o],r,n,i);else n=a(n)?!!n.capture:!!n,r=he(r),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(r=J(o=e.g[t],r,n,i))&&(Z(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=le(e))&&(t=e.g[t.toString()],e=-1,t&&(e=J(t,r,n,i)),(r=-1<e?t[e]:null)&&ae(r))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])Q(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(se(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=le(t))?(Q(r,e),0==r.h&&(r.src=null,t[ee]=null)):Z(e)}}}function se(e){return e in te?te[e]:te[e]="on"+e}function ce(e,t){if(e.da)e=!0;else{t=new G(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&ae(e),e=r.call(n,t)}return e}function le(e){return(e=e[ee])instanceof $?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function fe(){z.call(this),this.i=new $(this),this.M=this,this.F=null}function de(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new H(t,e);else if(t instanceof H)t.target=t.target||e;else{var i=t;O(t=new H(n,e),i)}if(i=!0,r)for(var o=r.length-1;0<=o;o--){var a=t.g=r[o];i=pe(a,n,!0,t)&&i}if(i=pe(a=t.g=e,n,!0,t)&&i,i=pe(a,n,!1,t)&&i,r)for(o=0;o<r.length;o++)i=pe(a=t.g=r[o],n,!1,t)&&i}function pe(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==r){var s=a.listener,c=a.ha||a.src;a.fa&&Q(e.i,a),i=!1!==s.call(c,n)&&i}}return i&&!n.defaultPrevented}function ge(e,t,r){if("function"===typeof e)r&&(e=l(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function me(e){e.g=ge(()=>{e.g=null,e.i&&(e.i=!1,me(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(fe,z),fe.prototype[K]=!0,fe.prototype.removeEventListener=function(e,t,r,n){oe(this,e,t,r,n)},fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)Z(r[n]);delete t.g[e],t.h--}}this.F=null},fe.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},fe.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class ve extends z{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:me(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){z.call(this),this.h=e,this.g={}}h(ye,z);var we=[];function be(e){x(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),be(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=i.JSON.stringify,_e=i.JSON.parse,Se=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ce(){}function Ae(e){return e.h||(e.h=e.i())}function Te(){}Ce.prototype.h=null;var Ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xe(){H.call(this,"d")}function ke(){H.call(this,"c")}h(xe,H),h(ke,H);var Ne={},Oe=null;function Re(){return Oe=Oe||new fe}function De(e){H.call(this,Ne.La,e)}function Pe(e){const t=Re();de(t,new De(t))}function Me(e,t){H.call(this,Ne.STAT_EVENT,e),this.stat=t}function Le(e){const t=Re();de(t,new Me(t,e))}function Fe(e,t){H.call(this,Ne.Ma,e),this.size=t}function Be(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ue(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ee(r)}catch(s){return t}}(e,r)+(n?" "+n:"")})}Ne.La="serverreachability",h(De,H),Ne.STAT_EVENT="statevent",h(Me,H),Ne.Ma="timingevent",h(Fe,H),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ve,ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function We(){}function Ge(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}h(We,Ce),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Ve=new We;var Ke={},qe={};function Ye(e,t,r){e.L=1,e.v=Et(mt(t)),e.m=r,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),Je(e),e.A=mt(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),Mt(r.i,"t",n),e.C=0,r=e.j.J,e.h=new Xe,e.g=_r(e.j,r?t:null,!e.m),0<e.O&&(e.M=new ve(l(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(we[0]=i.toString()),i=we);for(var o=0;o<i.length;o++){var a=re(r,i[o],n||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?k(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pe(),function(e,t,r,n,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+r+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Qe(e,t){var r=e.C,n=t.indexOf("\n",r);return-1==n?qe:(r=Number(t.substring(r,n)),isNaN(r)?Ke:(n+=1)+r>t.length?qe:(t=t.slice(n,n+r),e.C=n+r,t))}function Je(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Be(l(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function rt(e){0==e.j.G||e.J||vr(e.j,e)}function nt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||lt(r.h,e)))if(!e.K&&lt(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(u){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g){if(!(r.g.F+3e3<e.F))break e;mr(r),ar(r)}dr(r),Le(18)}}else r.za=i[1],0<r.za-r.T&&37500>i[2]&&r.F&&0==r.v&&!r.C&&(r.C=Be(l(r.Za,r),6e3));if(1>=ct(r.h)&&r.ca){try{r.ca()}catch(u){}r.ca=void 0}}else wr(r,11)}else if((e.K||r.g==e)&&mr(r),!C(t))for(i=r.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(r.T=l[0],l=l[1],2==r.G)if("c"==l[0]){r.K=l[1],r.ia=l[2];const t=l[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));const i=l[4];null!=i&&(r.Aa=i,r.j.info("SVER="+r.Aa));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(n=1.5*u,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=n.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ut(o,o.h),o.h=null))}if(n.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,bt(n.I,n.D,e))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms"));var a=e;if((n=r).qa=Er(n,n.J?n.ia:null,n.W),a.K){ht(n.h,a);var s=a,c=n.L;c&&(s.I=c),s.B&&(tt(s),Je(s)),n.g=a}else fr(n);0<r.i.length&&cr(r)}else"stop"!=l[0]&&"close"!=l[0]||wr(r,7);else 3==r.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?wr(r,7):or(r):"noop"!=l[0]&&r.l&&r.l.ta(l),r.v=0)}Pe()}catch(u){}}Ge.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tr(e)?t.j():this.Y(e)},Ge.prototype.Y=function(e){try{if(e==this.g)e:{const f=tr(this.g);var t=this.g.Ba();this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||rr(this.g)))){this.J||4!=f||7==t||Pe(),tt(this);var r=this.g.Z();this.X=r;t:if($e(this)){var n=rr(this.g);e="";var o=n.length,a=4==tr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){nt(this),rt(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(a&&t==o-1)});n.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==r,function(e,t,r,n,i,o,a){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+r+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,f,r),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(c)){var u=c;break t}}u=null}if(!(r=u)){this.o=!1,this.s=3,Le(12),nt(this),rt(this);break e}Ue(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,r)}if(this.P){let e;for(r=!0;!this.J&&this.C<s.length;){if(e=Qe(this,s),e==qe){4==f&&(this.s=4,Le(14),r=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ke){this.s=4,Le(15),Ue(this.i,this.l,s,"[Invalid Chunk]"),r=!1;break}Ue(this.i,this.l,e,null),it(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=s.length||this.h.h||(this.s=1,Le(16),r=!1),this.o=this.o&&r,r){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),pr(h),h.M=!0,Le(11))}}else Ue(this.i,this.l,s,"[Invalid Chunked Response]"),nt(this),rt(this)}else Ue(this.i,this.l,s,null),it(this,s);4==f&&nt(this),this.o&&!this.J&&(4==f?vr(this.j,this):(this.o=!1,Je(this)))}else(function(e){const t={};e=(e.g&&2<=tr(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(C(e[n]))continue;var r=R(e[n]);const i=r[0];if("string"!==typeof(r=r[1]))continue;r=r.trim();const o=t[i]||[];t[i]=o,o.push(r)}!function(e,t){for(const r in e)t.call(void 0,e[r],r,e)}(t,function(e){return e.join(", ")})})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),nt(this),rt(this)}}}catch(f){}},Ge.prototype.cancel=function(){this.J=!0,nt(this)},Ge.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Pe(),Le(17)),nt(this),this.s=2,rt(this)):et(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ct(e){return e.h?1:e.g?e.g.size:0}function lt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ft(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const r of e.g.values())t=t.concat(r.D);return t}return f(e.i)}function dt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const n in e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),i=n.length,a=0;a<i;a++)t.call(void 0,n[a],r&&r[a],e)}at.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof gt){this.h=e.h,vt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,r=new Ot;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),wt(this,r),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,vt(this,t[1]||"",!0),this.o=_t(t[2]||""),this.g=_t(t[3]||"",!0),yt(this,t[4]),this.l=_t(t[5]||"",!0),wt(this,t[6]||"",!0),this.m=_t(t[7]||"")):(this.h=!1,this.i=new Ot(null,this.h))}function mt(e){return new gt(e)}function vt(e,t,r){e.j=r?_t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function wt(e,t,r){t instanceof Ot?(e.i=t,function(e,t){t&&!e.j&&(Rt(e),e.i=null,e.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(Dt(this,t),Mt(this,r,e))},e)),e.j=t}(e.i,e.h)):(r||(t=St(t,kt)),e.i=new Ot(t,e.h))}function bt(e,t,r){e.i.set(t,r)}function Et(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function St(e,t,r){return"string"===typeof e?(e=encodeURI(e).replace(t,Ct),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ct(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(St(t,Tt,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(St(t,Tt,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(St(r,"/"==r.charAt(0)?xt:It,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",St(r,Nt)),e.join("")};var At,Tt=/[#\/\?@]/g,It=/[#\?:]/g,xt=/[#\?]/g,kt=/[#\?@]/g,Nt=/#/g;function Ot(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var o=e[r].substring(0,n);i=e[r].substring(n+1)}else o=e[r];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function Dt(e,t){Rt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pt(e,t){return Rt(e),t=Lt(e,t),e.g.has(t)}function Mt(e,t,r){Dt(e,t),0<r.length&&(e.i=null,e.g.set(Lt(e,t),f(r)),e.h+=r.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(o){}}function Bt(){this.g=new Se}function jt(e,t,r){const n=r||"";try{dt(e,function(e,r){let i=e;a(e)&&(i=Ee(e)),t.push(n+r+"="+encodeURIComponent(i))})}catch(i){throw t.push(n+"type="+encodeURIComponent("_badmap")),i}}function Ut(e){this.l=e.Ub||null,this.j=e.eb||!1}function Vt(e,t){fe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function zt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Wt(e)}function Wt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Gt(e){let t="";return x(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function Xt(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Gt(r),"string"===typeof e?null!=r&&encodeURIComponent(String(r)):bt(e,t,r))}function Kt(e){fe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Ot.prototype).add=function(e,t){Rt(this),this.i=null,e=Lt(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},e.forEach=function(e,t){Rt(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},e.na=function(){Rt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){const i=e[n];for(let e=0;e<i.length;e++)r.push(t[n])}return r},e.V=function(e){Rt(this);let t=[];if("string"===typeof e)Pt(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},e.set=function(e,t){return Rt(this),this.i=null,Pt(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];const o=encodeURIComponent(String(n)),a=this.V(n);for(n=0;n<a.length;n++){var i=o;""!==a[n]&&(i+="="+encodeURIComponent(String(a[n]))),e.push(i)}}return this.i=e.join("&")},h(Ut,Ce),Ut.prototype.g=function(){return new Vt(this.l,this.j)},Ut.prototype.i=(At={},function(){return At}),h(Vt,fe),(e=Vt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Wt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wt(this)),this.g&&(this.readyState=3,Wt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):Wt(this),3==this.readyState&&zt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(Vt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Kt,fe);var qt=/^https?$/i,Yt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Jt(e)}function $t(e){e.A||(e.A=!0,de(e,"complete"),de(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=tr(e)||2!=e.Z()))if(e.u&&4==tr(e))ge(e.Ea,0,e);else if(de(e,"readystatechange"),4==tr(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var o;if(o=0===n){var a=String(e.D).match(pt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!qt.test(a?a.toLowerCase():"")}r=o}if(r)de(e,"complete"),de(e,"success");else{e.m=6;try{var s=2<tr(e)?e.g.statusText:""}catch(c){s=""}e.l=s+" ["+e.Z()+"]",$t(e)}}finally{Jt(e)}}}function Jt(e,t){if(e.g){er(e);const n=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||de(e,"ready");try{n.onreadystatechange=i}catch(r){}}}function er(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tr(e){return e.g?e.g.readyState:0}function rr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nr(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function ir(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,e),this.cb=nr("retryDelaySeedMs",1e4,e),this.Wa=nr("forwardChannelMaxRetries",2,e),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Bt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function or(e){if(sr(e),3==e.G){var t=e.U++,r=mt(e.I);if(bt(r,"SID",e.K),bt(r,"RID",t),bt(r,"TYPE","terminate"),ur(e,r),(t=new Ge(e,e.j,t)).L=2,t.v=Et(mt(r)),r=!1,i.navigator&&i.navigator.sendBeacon)try{r=i.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!r&&i.Image&&((new Image).src=t.v,r=!0),r||(t.g=_r(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Je(t)}br(e)}function ar(e){e.g&&(pr(e),e.g.cancel(),e.g=null)}function sr(e){ar(e),e.u&&(i.clearTimeout(e.u),e.u=null),mr(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cr(e){if(!st(e.h)&&!e.s){e.s=!0;var t=e.Ga;F||U(),B||(F(),B=!0),j.add(t,e),e.B=0}}function lr(e,t){var r;r=t?t.l:e.U++;const n=mt(e.I);bt(n,"SID",e.K),bt(n,"RID",r),bt(n,"AID",e.T),ur(e,n),e.m&&e.o&&Xt(n,e.m,e.o),r=new Ge(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hr(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,r),Ye(r,n,t)}function ur(e,t){e.H&&x(e.H,function(e,r){bt(t,r,e)}),e.l&&dt({},function(e,r){bt(t,r,e)})}function hr(e,t,r){r=Math.min(e.i.length,r);var n=e.l?l(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+r];-1==t?0<r?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<r;s++){let r=i[s].g;const c=i[s].map;if(r-=t,0>r)t=Math.max(0,i[s].g-100),a=!1;else try{jt(c,e,"req"+r+"_")}catch(o){n&&n(c)}}if(a){n=e.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function fr(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;F||U(),B||(F(),B=!0),j.add(t,e),e.v=0}}function dr(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Be(l(e.Fa,e),yr(e,e.v)),e.v++,!0)}function pr(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gr(e){e.g=new Ge(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=mt(e.qa);bt(t,"RID","rpc"),bt(t,"SID",e.K),bt(t,"AID",e.T),bt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&bt(t,"TO",e.ja),bt(t,"TYPE","xmlhttp"),ur(e,t),e.m&&e.o&&Xt(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=Et(mt(t)),r.m=null,r.P=!0,Ze(r,e)}function mr(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vr(e,t){var r=null;if(e.g==t){mr(e),pr(e),e.g=null;var n=2}else{if(!lt(e.h,t))return;r=t.D,ht(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;de(n=Re(),new Fe(n,r)),cr(e)}else fr(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==n&&function(e,t){return!(ct(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Be(l(e.Ga,e,t),yr(e,e.B)),e.B++,!0))}(e,t)||2==n&&dr(e)))switch(r&&0<r.length&&(t=e.h,t.i=t.i.concat(r)),i){case 1:wr(e,5);break;case 4:wr(e,10);break;case 3:wr(e,6);break;default:wr(e,2)}}function yr(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function wr(e,t){if(e.j.info("Error code "+t),2==t){var r=l(e.fb,e),n=e.Xa;const t=!n;n=new gt(n||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||vt(n,"https"),Et(n),t?function(e,t){const r=new je;if(i.Image){const n=new Image;n.onload=u(Ft,r,"TestLoadImage: loaded",!0,t,n),n.onerror=u(Ft,r,"TestLoadImage: error",!1,t,n),n.onabort=u(Ft,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=u(Ft,r,"TestLoadImage: timeout",!1,t,n),i.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){new je;const r=new AbortController,n=setTimeout(()=>{r.abort(),Ft(0,0,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(n),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)}).catch(()=>{clearTimeout(n),Ft(0,0,!1,t)})}(n.toString(),r)}else Le(2);e.G=0,e.l&&e.l.sa(t),br(e),sr(e)}function br(e){if(e.G=0,e.ka=[],e.l){const t=ft(e.h);0==t.length&&0==e.i.length||(S(e.ka,t),S(e.ka,e.i),e.h.i.length=0,f(e.i),e.i.length=0),e.l.ra()}}function Er(e,t,r){var n=r instanceof gt?mt(r):new gt(r);if(""!=n.g)t&&(n.g=t+"."+n.g),yt(n,n.s);else{var o=i.location;n=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new gt(null);n&&vt(a,n),t&&(a.g=t),o&&yt(a,o),r&&(a.l=r),n=a}return r=e.D,t=e.ya,r&&t&&bt(n,r,t),bt(n,"VER",e.la),ur(e,n),n}function _r(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Ut({eb:r})):new Kt(e.pa)).Ha(e.J),t}function Sr(){}function Cr(){}function Ar(e,t){fe.call(this),this.g=new ir(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!C(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xr(this)}function Tr(e){xe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ir(){ke.call(this),this.status=1}function xr(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ve.g(),this.v=this.o?Ae(this.o):Ae(Ve),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Zt(this,a)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var o in n)r.set(o,n[o]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())r.set(e,n.get(e))}n=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||n||o||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of r)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{er(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Zt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,de(this,"complete"),de(this,"abort"),Jt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch(At){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(At){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_e(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=ir.prototype).la=8,e.G=1,e.connect=function(e,t,r,n){Le(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=Er(this,null,this.W),cr(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ge(this,this.j,e);let o=this.o;if(this.S&&(o?(o=k(o),O(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){var n=this.i[r];if(void 0===(n="__data__"in n.map&&"string"===typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=hr(this,i,t),bt(r=mt(this.I),"RID",e),bt(r,"CVER",22),this.D&&bt(r,"X-HTTP-Session-Id",this.D),ur(this,r),o&&(this.O?t="headers="+encodeURIComponent(String(Gt(o)))+"&"+t:this.m&&Xt(r,this.m,o)),ut(this.h,i),this.Ua&&bt(r,"TYPE","init"),this.P?(bt(r,"$req",t),bt(r,"SID","null"),i.T=!0,Ye(i,r,null)):Ye(i,r,t),this.G=2}}else 3==this.G&&(e?lr(this,e):0==this.i.length||st(this.h)||lr(this))},e.Fa=function(){if(this.u=null,gr(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Be(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),ar(this),gr(this))},e.Za=function(){null!=this.C&&(this.C=null,ar(this),dr(this),Le(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Sr.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Cr.prototype.g=function(e,t){return new Ar(e,t)},h(Ar,fe),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){or(this.g)},Ar.prototype.o=function(e){var t=this.g;if("string"===typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=Ee(e),e=r);t.i.push(new ot(t.Ya++,e)),3==t.G&&cr(t)},Ar.prototype.N=function(){this.g.l=null,delete this.j,or(this.g),delete this.g,Ar.aa.N.call(this)},h(Tr,xe),h(Ir,ke),h(xr,Sr),xr.prototype.ua=function(){de(this.g,"a")},xr.prototype.ta=function(e){de(this.g,new Tr(e))},xr.prototype.sa=function(e){de(this.g,new Ir)},xr.prototype.ra=function(){de(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,b=_.createWebChannelTransport=function(){return new Cr},w=_.getStatEventTarget=function(){return Re()},y=_.Event=Ne,v=_.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,m=_.ErrorCode=ze,He.COMPLETE="complete",g=_.EventType=He,Te.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",fe.prototype.listen=fe.prototype.K,p=_.WebChannel=Te,_.FetchXmlHttpFactory=Ut,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,d=_.XhrIo=Kt}).apply("undefined"!==typeof E?E:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const S="@firebase/firestore",C="4.7.17";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let T="11.9.0";const I=new l.Vy("@firebase/firestore");function x(){return I.logLevel}function k(e){if(I.logLevel<=l.$b.DEBUG){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=r.map(R);I.debug("Firestore (".concat(T,"): ").concat(e),...i)}}function N(e){if(I.logLevel<=l.$b.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=r.map(R);I.error("Firestore (".concat(T,"): ").concat(e),...i)}}function O(e){if(I.logLevel<=l.$b.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=r.map(R);I.warn("Firestore (".concat(T,"): ").concat(e),...i)}}function R(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function D(e,t,r){let n="Unexpected state";"string"==typeof t?n=t:r=t,P(e,n,r)}function P(e,t,r){let n="FIRESTORE (".concat(T,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==r)try{n+=" CONTEXT: "+JSON.stringify(r)}catch(e){n+=" CONTEXT: "+r}throw N(n),new Error(n)}function M(e,t,r,n){let i="Unexpected state";"string"==typeof r?i=r:n=r,e||P(t,i,n)}function L(e,t){return e}const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends u.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class j{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class U{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(A.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class H{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){M(void 0===this.o,42304);let r=this.i;const n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let i=new j;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new j,e.enqueueRetryable(()=>n(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},a=e=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new j)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(M("string"==typeof t.accessToken,31837,{l:t}),new U(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e,2055,{h:e}),new A(e)}}class W{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=A.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new W(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(A.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,i.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){M(void 0===this.o,3512);const r=e=>{null!=e.error&&k("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const r=e.token!==this.m;return this.m=e.token,k("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};const n=e=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?n(e):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(M("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new X(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}function Y(){return new TextEncoder}class Z{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=q(40);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function J(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),i=t.codePointAt(r);if(n!==i){if(n<128&&i<128)return Q(n,i);{const o=Y(),a=te(o.encode(ee(e,r)),o.encode(ee(t,r)));return 0!==a?a:Q(n,i)}}r+=n>65535?2:1}return Q(e.length,t.length)}function ee(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function te(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Q(e[r],t[r]);return Q(e.length,t.length)}function re(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}const ne=-62135596800,ie=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(e){return oe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ie);return new oe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ne)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ie}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ne;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new oe(0,0))}static max(){return new ae(new oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const se="__name__";class ce{constructor(e,t,r){void 0===t?t=0:t>e.length&&D(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&D(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ce.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ce?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=ce.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return Q(e.length,t.length)}static compareSegments(e,t){const r=ce.isNumericId(e),n=ce.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?ce.extractNumericId(e).compare(ce.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return o.fromString(e.substring(4,e.length-2))}}class le extends ce{construct(e,t,r){return new le(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const i of r){if(i.indexOf("//")>=0)throw new B(F.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new le(e)}static emptyPath(){return new le([])}}const ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class he extends ce{construct(e,t,r){return new he(e,t,r)}static isValidIdentifier(e){return ue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),he.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===se}static keyField(){return new he([se])}static fromServerFormat(e){const t=[];let r="",n=0;const i=()=>{if(0===r.length)throw new B(F.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""};let o=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new B(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new B(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(o=!o,n++):"."!==t||o?(r+=t,n++):(i(),n++)}if(i(),o)throw new B(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new he(t)}static emptyPath(){return new he([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(le.fromString(e))}static fromName(e){return new fe(le.fromString(e).popFirst(5))}static empty(){return new fe(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new le(e.slice()))}}const de=-1;class pe{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}pe.UNKNOWN_ID=-1;function ge(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(1e9===n?new oe(r+1,0):new oe(r,n));return new ve(i,fe.empty(),t)}function me(e){return new ve(e.readTime,e.key,de)}class ve{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ve(ae.min(),fe.empty(),de)}static max(){return new ve(ae.max(),fe.empty(),de)}}function ye(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:(r=fe.comparator(e.documentKey,t.documentKey),0!==r?r:Q(e.largestBatchId,t.largestBatchId))}const we="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class be{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ee(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==we)throw e;k("LocalStore","Unexpectedly lost primary lease")}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&D(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(e){return _e.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let n=0,i=0,o=!1;e.forEach(e=>{++n,e.next(()=>{++i,o&&i===n&&t()},e=>r(e))}),o=!0,i===n&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(e=>e?_e.resolve(e):r());return t}static forEach(e,t){const r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new _e((r,n)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const c=s;t(e[c]).next(e=>{o[c]=e,++a,a===i&&r(o)},e=>n(e))}})}static doWhile(e,t){return new _e((r,n)=>{const i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}function Se(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ce(e){return"IndexedDbTransactionError"===e.name}class Ae{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ae.le=-1;const Te=-1;function Ie(e){return null==e}function xe(e){return 0===e&&1/e==-1/0}function ke(e){return"number"==typeof e&&Number.isInteger(e)&&!xe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ne="\x01";function Oe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=De(t)),t=Re(e.get(r),t);return De(t)}function Re(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const t=e.charAt(i);switch(t){case"\0":r+="\x01\x10";break;case Ne:r+="\x01\x11";break;default:r+=t}}return r}function De(e){return e+Ne+"\x01"}const Pe="remoteDocuments",Me="owner",Le="mutationQueues",Fe="mutations";const Be="documentMutations",je="remoteDocumentsV14",Ue="remoteDocumentGlobal",Ve="targets",ze="targetDocuments",He="targetGlobal",We="collectionParents",Ge="clientMetadata",Xe="bundles",Ke="namedQueries",qe="indexConfiguration",Ye="indexState",Ze="indexEntries",$e="documentOverlays",Qe="globals",Je=[Le,Fe,Be,Pe,Ve,Me,He,ze,Ge,Ue,We,Xe,Ke],et=[Le,Fe,Be,je,Ve,Me,He,ze,Ge,Ue,We,Xe,Ke,$e],tt=et,rt=[...tt,qe,Ye,Ze];function nt(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function it(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function ot(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class at{constructor(e,t){this.comparator=e,this.root=t||ct.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push("".concat(t,":").concat(r)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new st(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new st(this.root,e,this.comparator,!1)}getReverseIterator(){return new st(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new st(this.root,e,this.comparator,!0)}}class st{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:ct.RED,this.left=null!=n?n:ct.EMPTY,this.right=null!=i?i:ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new ct(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const i=r(e,n.key);return n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return ct.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw D(43730,{key:this.key,value:this.value});if(this.right.isRed())throw D(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw D(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1,ct.EMPTY=new class{constructor(){this.size=0}get key(){throw D(57766)}get value(){throw D(16141)}get color(){throw D(16727)}get left(){throw D(29726)}get right(){throw D(36894)}copy(e,t,r,n,i){return this}insert(e,t,r){return new ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ut(this.data.getIterator())}getIteratorFrom(e){return new ut(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof lt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class ut{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ht{constructor(e){this.fields=e,e.sort(he.comparator)}static empty(){return new ht([])}unionWith(e){let t=new lt(he.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ht(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return re(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ft extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ft("Invalid base64 string: "+e):e}}(e);return new dt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const pt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gt(e){if(M(!!e,39018),"string"==typeof e){let t=0;const r=pt.exec(e);if(M(!!r,46558,{timestamp:e}),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:mt(e.seconds),nanos:mt(e.nanos)}}function mt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vt(e){return"string"==typeof e?dt.fromBase64String(e):dt.fromUint8Array(e)}const yt="server_timestamp",wt="__type__",bt="__previous_value__",Et="__local_write_time__";function _t(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[wt])||void 0===r?void 0:r.stringValue)===yt}function St(e){const t=e.mapValue.fields[bt];return _t(t)?St(t):t}function Ct(e){const t=gt(e.mapValue.fields[Et].timestampValue);return new oe(t.seconds,t.nanos)}class At{constructor(e,t,r,n,i,o,a,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}}const Tt="(default)";class It{constructor(e,t){this.projectId=e,this.database=t||Tt}static empty(){return new It("","")}get isDefaultDatabase(){return this.database===Tt}isEqual(e){return e instanceof It&&e.projectId===this.projectId&&e.database===this.database}}const xt="__type__",kt="__max__",Nt={mapValue:{fields:{__type__:{stringValue:kt}}}},Ot="__vector__",Rt="value";function Dt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_t(e)?4:Zt(e)?9007199254740991:qt(e)?10:11:D(28295,{value:e})}function Pt(e,t){if(e===t)return!0;const r=Dt(e);if(r!==Dt(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ct(e).isEqual(Ct(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=gt(e.timestampValue),n=gt(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vt(e.bytesValue).isEqual(vt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mt(e.geoPointValue.latitude)===mt(t.geoPointValue.latitude)&&mt(e.geoPointValue.longitude)===mt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mt(e.integerValue)===mt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=mt(e.doubleValue),n=mt(t.doubleValue);return r===n?xe(r)===xe(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return re(e.arrayValue.values||[],t.arrayValue.values||[],Pt);case 10:case 11:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(nt(r)!==nt(n))return!1;for(const i in r)if(r.hasOwnProperty(i)&&(void 0===n[i]||!Pt(r[i],n[i])))return!1;return!0}(e,t);default:return D(52216,{left:e})}}function Mt(e,t){return void 0!==(e.values||[]).find(e=>Pt(e,t))}function Lt(e,t){if(e===t)return 0;const r=Dt(e),n=Dt(t);if(r!==n)return Q(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=mt(e.integerValue||e.doubleValue),n=mt(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return Ft(e.timestampValue,t.timestampValue);case 4:return Ft(Ct(e),Ct(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){const r=vt(e),n=vt(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let i=0;i<r.length&&i<n.length;i++){const e=Q(r[i],n[i]);if(0!==e)return e}return Q(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=Q(mt(e.latitude),mt(t.latitude));return 0!==r?r:Q(mt(e.longitude),mt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Bt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var r,n,i,o;const a=e.fields||{},s=t.fields||{},c=null===(r=a[Rt])||void 0===r?void 0:r.arrayValue,l=null===(n=s[Rt])||void 0===n?void 0:n.arrayValue,u=Q((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Bt(c,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Nt.mapValue&&t===Nt.mapValue)return 0;if(e===Nt.mapValue)return 1;if(t===Nt.mapValue)return-1;const r=e.fields||{},n=Object.keys(r),i=t.fields||{},o=Object.keys(i);n.sort(),o.sort();for(let a=0;a<n.length&&a<o.length;++a){const e=J(n[a],o[a]);if(0!==e)return e;const t=Lt(r[n[a]],i[o[a]]);if(0!==t)return t}return Q(n.length,o.length)}(e.mapValue,t.mapValue);default:throw D(23264,{Pe:r})}}function Ft(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const r=gt(e),n=gt(t),i=Q(r.seconds,n.seconds);return 0!==i?i:Q(r.nanos,n.nanos)}function Bt(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const e=Lt(r[i],n[i]);if(e)return e}return Q(r.length,n.length)}function jt(e){return Ut(e)}function Ut(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return fe.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",r=!0;for(const n of e.values||[])r?r=!1:t+=",",t+=Ut(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",n=!0;for(const i of t)n?n=!1:r+=",",r+="".concat(i,":").concat(Ut(e.fields[i]));return r+"}"}(e.mapValue):D(61005,{value:e})}function Vt(e){switch(Dt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=St(e);return t?16+Vt(t):16;case 5:return 2*e.stringValue.length;case 6:return vt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Vt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return it(e.fields,(e,r)=>{t+=e.length+Vt(r)}),t}(e.mapValue);default:throw D(13486,{value:e})}}function zt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ht(e){return!!e&&"integerValue"in e}function Wt(e){return!!e&&"arrayValue"in e}function Gt(e){return!!e&&"nullValue"in e}function Xt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kt(e){return!!e&&"mapValue"in e}function qt(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[xt])||void 0===r?void 0:r.stringValue)===Ot}function Yt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return it(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Yt(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Yt(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Zt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===kt}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yt(t)}setAll(e){let t=he.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=Yt(e):n.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){const t=this.field(e.popLast());Kt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];Kt(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){it(t,(t,r)=>e[t]=r);for(const n of r)delete e[n]}clone(){return new $t(Yt(this.value))}}function Qt(e){const t=[];return it(e.fields,(e,r)=>{const n=new he([e]);if(Kt(r)){const e=Qt(r.mapValue).fields;if(0===e.length)t.push(n);else for(const r of e)t.push(n.child(r))}else t.push(n)}),new ht(t)}class Jt{constructor(e,t,r,n,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,ae.min(),ae.min(),ae.min(),$t.empty(),0)}static newFoundDocument(e,t,r,n){return new Jt(e,1,t,ae.min(),r,n,0)}static newNoDocument(e,t){return new Jt(e,2,t,ae.min(),ae.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,ae.min(),ae.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class er{constructor(e,t){this.position=e,this.inclusive=t}}function tr(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(n=o.field.isKeyField()?fe.comparator(fe.fromName(a.referenceValue),r.key):Lt(a,r.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function rr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Pt(e.position[r],t.position[r]))return!1;return!0}class nr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ir(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class or{}class ar extends or{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pr(e,t,r):"array-contains"===t?new yr(e,r):"in"===t?new wr(e,r):"not-in"===t?new br(e,r):"array-contains-any"===t?new Er(e,r):new ar(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new gr(e,r):new mr(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Lt(t,this.value)):null!==t&&Dt(this.value)===Dt(t)&&this.matchesComparison(Lt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return D(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends or{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new sr(e,t)}matches(e){return cr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cr(e){return"and"===e.op}function lr(e){return ur(e)&&cr(e)}function ur(e){for(const t of e.filters)if(t instanceof sr)return!1;return!0}function hr(e){if(e instanceof ar)return e.field.canonicalString()+e.op.toString()+jt(e.value);if(lr(e))return e.filters.map(e=>hr(e)).join(",");{const t=e.filters.map(e=>hr(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function fr(e,t){return e instanceof ar?function(e,t){return t instanceof ar&&e.op===t.op&&e.field.isEqual(t.field)&&Pt(e.value,t.value)}(e,t):e instanceof sr?function(e,t){return t instanceof sr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,n)=>e&&fr(r,t.filters[n]),!0)}(e,t):void D(19439)}function dr(e){return e instanceof ar?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(jt(e.value))}(e):e instanceof sr?function(e){return e.op.toString()+" {"+e.getFilters().map(dr).join(" ,")+"}"}(e):"Filter"}class pr extends ar{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class gr extends ar{constructor(e,t){super(e,"in",t),this.keys=vr("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mr extends ar{constructor(e,t){super(e,"not-in",t),this.keys=vr("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vr(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>fe.fromName(e.referenceValue))}class yr extends ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wt(t)&&Mt(t.arrayValue,this.value)}}class wr extends ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mt(this.value.arrayValue,t)}}class br extends ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Mt(this.value.arrayValue,t)}}class Er extends ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Mt(this.value.arrayValue,e))}}class _r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Sr(e){return new _r(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cr(e){const t=L(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>hr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ie(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>jt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>jt(e)).join(",")),t.Ie=e}return t.Ie}function Ar(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!ir(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!fr(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rr(e.startAt,t.startAt)&&rr(e.endAt,t.endAt)}function Tr(e){return fe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ir{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xr(e,t,r,n,i,o,a,s){return new Ir(e,t,r,n,i,o,a,s)}function kr(e){return new Ir(e)}function Nr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Or(e){return null!==e.collectionGroup}function Rr(e){const t=L(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new lt(he.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);n.forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.Ee.push(new nr(n,r))}),e.has(he.keyField().canonicalString())||t.Ee.push(new nr(he.keyField(),r))}return t.Ee}function Dr(e){const t=L(e);return t.de||(t.de=Pr(t,Rr(e))),t.de}function Pr(e,t){if("F"===e.limitType)return Sr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new nr(e.field,t)});const r=e.endAt?new er(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new er(e.startAt.position,e.startAt.inclusive):null;return Sr(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Mr(e,t){const r=e.filters.concat([t]);return new Ir(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Lr(e,t,r){return new Ir(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Fr(e,t){return Ar(Dr(e),Dr(t))&&e.limitType===t.limitType}function Br(e){return"".concat(Cr(Dr(e)),"|lt:").concat(e.limitType)}function jr(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>dr(e)).join(", "),"]")),Ie(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>jt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>jt(e)).join(",")),"Target(".concat(t,")")}(Dr(e)),"; limitType=").concat(e.limitType,")")}function Ur(e,t){return t.isFoundDocument()&&function(e,t){const r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):fe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(const r of Rr(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(const r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){const n=tr(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,Rr(e),t))&&!(e.endAt&&!function(e,t,r){const n=tr(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,Rr(e),t))}(e,t)}function Vr(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zr(e){return(t,r)=>{let n=!1;for(const i of Rr(e)){const e=Hr(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}function Hr(e,t,r){const n=e.field.isKeyField()?fe.comparator(t.key,r.key):function(e,t,r){const n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?Lt(n,i):D(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return D(19790,{direction:e.dir})}}class Wr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[n,i]of r)if(this.equalsFn(n,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return void(n[i]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){it(this.inner,(t,r)=>{for(const[n,i]of r)e(n,i)})}isEmpty(){return ot(this.inner)}size(){return this.innerSize}}const Gr=new at(fe.comparator);function Xr(){return Gr}const Kr=new at(fe.comparator);function qr(){let e=Kr;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const i of r)e=e.insert(i.key,i);return e}function Yr(e){let t=Kr;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Zr(){return Qr()}function $r(){return Qr()}function Qr(){return new Wr(e=>e.toString(),(e,t)=>e.isEqual(t))}const Jr=new at(fe.comparator),en=new lt(fe.comparator);function tn(){let e=en;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const i of r)e=e.add(i);return e}const rn=new lt(Q);function nn(){return rn}function on(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xe(t)?"-0":t}}function an(e){return{integerValue:""+e}}function sn(e,t){return ke(t)?an(t):on(e,t)}class cn{constructor(){this._=void 0}}function ln(e,t,r){return e instanceof fn?function(e,t){const r={fields:{[wt]:{stringValue:yt},[Et]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_t(t)&&(t=St(t)),t&&(r.fields[bt]=t),{mapValue:r}}(r,t):e instanceof dn?pn(e,t):e instanceof gn?mn(e,t):function(e,t){const r=hn(e,t),n=yn(r)+yn(e.Re);return Ht(r)&&Ht(e.Re)?an(n):on(e.serializer,n)}(e,t)}function un(e,t,r){return e instanceof dn?pn(e,t):e instanceof gn?mn(e,t):r}function hn(e,t){return e instanceof vn?function(e){return Ht(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class fn extends cn{}class dn extends cn{constructor(e){super(),this.elements=e}}function pn(e,t){const r=wn(t);for(const n of e.elements)r.some(e=>Pt(e,n))||r.push(n);return{arrayValue:{values:r}}}class gn extends cn{constructor(e){super(),this.elements=e}}function mn(e,t){let r=wn(t);for(const n of e.elements)r=r.filter(e=>!Pt(e,n));return{arrayValue:{values:r}}}class vn extends cn{constructor(e,t){super(),this.serializer=e,this.Re=t}}function yn(e){return mt(e.integerValue||e.doubleValue)}function wn(e){return Wt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bn{constructor(e,t){this.field=e,this.transform=t}}class En{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Cn{}function An(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mn(e.key,_n.none()):new Nn(e.key,e.data,_n.none());{const r=e.data,n=$t.empty();let i=new lt(he.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new On(e.key,n,new ht(i.toArray()),_n.none())}}function Tn(e,t,r){e instanceof Nn?function(e,t,r){const n=e.value.clone(),i=Dn(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof On?function(e,t,r){if(!Sn(e.precondition,t))return void t.convertToUnknownDocument(r.version);const n=Dn(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(Rn(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function In(e,t,r,n){return e instanceof Nn?function(e,t,r,n){if(!Sn(e.precondition,t))return r;const i=e.value.clone(),o=Pn(e.fieldTransforms,n,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof On?function(e,t,r,n){if(!Sn(e.precondition,t))return r;const i=Pn(e.fieldTransforms,n,t),o=t.data;return o.setAll(Rn(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):function(e,t,r){return Sn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function xn(e,t){let r=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),i=hn(n.transform,e||null);null!=i&&(null===r&&(r=$t.empty()),r.set(n.field,i))}return r||null}function kn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&re(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dn&&t instanceof dn||e instanceof gn&&t instanceof gn?re(e.elements,t.elements,Pt):e instanceof vn&&t instanceof vn?Pt(e.Re,t.Re):e instanceof fn&&t instanceof fn}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nn extends Cn{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class On extends Cn{constructor(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Rn(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function Dn(e,t,r){const n=new Map;M(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let i=0;i<r.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);n.set(o.field,un(a,s,r[i]))}return n}function Pn(e,t,r){const n=new Map;for(const i of e){const e=i.transform,o=r.data.field(i.field);n.set(i.field,ln(e,o,t))}return n}class Mn extends Cn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ln extends Cn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fn{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&Tn(t,e,r[n])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=In(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=In(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$r();return this.mutations.forEach(n=>{const i=e.get(n.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(n.key)?null:a;const s=An(o,a);null!==s&&r.set(n.key,s),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&re(this.mutations,e.mutations,(e,t)=>kn(e,t))&&re(this.baseMutations,e.baseMutations,(e,t)=>kn(e,t))}}class Bn{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){M(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let n=Jr;const i=e.mutations;for(let o=0;o<i.length;o++)n=n.insert(i[o].key,r[o].version);return new Bn(e,t,r,n)}}class jn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Un{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vn,zn;function Hn(e){switch(e){case F.OK:return D(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return D(15467,{code:e})}}function Wn(e){if(void 0===e)return N("GRPC error has no .code"),F.UNKNOWN;switch(e){case Vn.OK:return F.OK;case Vn.CANCELLED:return F.CANCELLED;case Vn.UNKNOWN:return F.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return F.INTERNAL;case Vn.UNAVAILABLE:return F.UNAVAILABLE;case Vn.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Vn.NOT_FOUND:return F.NOT_FOUND;case Vn.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Vn.ABORTED:return F.ABORTED;case Vn.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Vn.DATA_LOSS:return F.DATA_LOSS;default:return D(39323,{code:e})}}(zn=Vn||(Vn={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";let Gn=null;const Xn=new o([4294967295,4294967295],0);function Kn(e){const t=Y().encode(e),r=new a;return r.update(t),new Uint8Array(r.digest())}function qn(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new o([r,n],0),new o([i,a],0)]}class Yn{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zn("Invalid padding: ".concat(t));if(r<0)throw new Zn("Invalid hash count: ".concat(r));if(e.length>0&&0===this.hashCount)throw new Zn("Invalid hash count: ".concat(r));if(0===e.length&&0!==t)throw new Zn("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=o.fromNumber(this.pe)}we(e,t,r){let n=e.add(t.multiply(o.fromNumber(r)));return 1===n.compare(Xn)&&(n=new o([n.getBits(0),n.getBits(1)],0)),n.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Kn(e),[r,n]=qn(t);for(let i=0;i<this.hashCount;i++){const e=this.we(r,n,i);if(!this.be(e))return!1}return!0}static create(e,t,r){const n=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yn(i,n,t);return r.forEach(e=>o.insert(e)),o}insert(e){if(0===this.pe)return;const t=Kn(e),[r,n]=qn(t);for(let i=0;i<this.hashCount;i++){const e=this.we(r,n,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Zn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $n{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const n=new Map;return n.set(e,Qn.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $n(ae.min(),n,new at(Q),Xr(),tn())}}class Qn{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qn(r,t,tn(),tn(),tn())}}class Jn{constructor(e,t,r,n){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=n}}class ei{constructor(e,t){this.targetId=e,this.Ce=t}}class ti{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt.EMPTY_BYTE_STRING,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class ri{constructor(){this.Fe=0,this.Me=oi(),this.xe=dt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tn(),t=tn(),r=tn();return this.Me.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:D(38017,{changeType:i})}}),new Qn(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=oi()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,M(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ni{constructor(e){this.ze=e,this.je=new Map,this.He=Xr(),this.Je=ii(),this.Ye=ii(),this.Ze=new at(Q)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:D(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,r=e.Ce.count,n=this._t(t);if(n){const i=n.target;if(Tr(i))if(0===r){const e=new fe(i.path);this.tt(t,e,Jt.newNoDocument(e,ae.min()))}else M(1===r,20013,{expectedCount:r});else{const n=this.ut(t);if(n!==r){const r=this.ct(e),i=r?this.lt(r,e,n):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Gn||Gn.ht(function(e,t,r,n,i){var o,a,s,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},f=t.unchangedNames;return f&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==f?void 0:f.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(s=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==f?void 0:f.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),h}(n,e.Ce,this.ze.Pt(),r,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:i=0}=t;let o,a;try{o=vt(r).toUint8Array()}catch(e){if(e instanceof ft)return O("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Yn(o,n,i)}catch(e){return O(e instanceof Zn?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let n=0;return r.forEach(r=>{const i=this.ze.Pt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(this.tt(t,r,null),n++)}),n}It(e){const t=new Map;this.je.forEach((r,n)=>{const i=this._t(n);if(i){if(r.current&&Tr(i.target)){const t=new fe(i.target.path);this.Et(t).has(n)||this.dt(n,t)||this.tt(n,t,Jt.newNoDocument(t,e))}r.Le&&(t.set(n,r.qe()),r.Qe())}});let r=tn();this.Ye.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.He.forEach((t,r)=>r.setReadTime(e));const n=new $n(e,t,this.Ze,this.He,r);return this.He=Xr(),this.Je=ii(),this.Ye=ii(),this.Ze=new at(Q),n}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const n=this.rt(e);this.dt(e,t)?n.$e(t,1):n.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ri,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new lt(Q),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new lt(Q),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ri),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ii(){return new at(fe.comparator)}function oi(){return new at(fe.comparator)}const ai={asc:"ASCENDING",desc:"DESCENDING"},si={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ci={and:"AND",or:"OR"};class li{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ui(e,t){return e.useProto3Json||Ie(t)?t:{value:t}}function hi(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function di(e,t){return hi(e,t.toTimestamp())}function pi(e){return M(!!e,49232),ae.fromTimestamp(function(e){const t=gt(e);return new oe(t.seconds,t.nanos)}(e))}function gi(e,t){return mi(e,t).canonicalString()}function mi(e,t){const r=function(e){return new le(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function vi(e){const t=le.fromString(e);return M(Fi(t),10190,{key:t.toString()}),t}function yi(e,t){return gi(e.databaseId,t.path)}function wi(e,t){const r=vi(t);if(r.get(1)!==e.databaseId.projectId)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new fe(Si(r))}function bi(e,t){return gi(e.databaseId,t)}function Ei(e){const t=vi(e);return 4===t.length?le.emptyPath():Si(t)}function _i(e){return new le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Si(e){return M(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ci(e,t,r){return{name:yi(e,t),fields:r.value.mapValue.fields}}function Ai(e,t){let r;if(t instanceof Nn)r={update:Ci(e,t.key,t.value)};else if(t instanceof Mn)r={delete:yi(e,t.key)};else if(t instanceof On)r={update:Ci(e,t.key,t.data),updateMask:Li(t.fieldMask)};else{if(!(t instanceof Ln))return D(16599,{ft:t.type});r={verify:yi(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const r=t.transform;if(r instanceof fn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof dn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof gn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof vn)return{fieldPath:t.field.canonicalString(),increment:r.Re};throw D(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:di(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:D(27497)}(e,t.precondition)),r}function Ti(e,t){return{documents:[bi(e,t.path)]}}function Ii(e,t){const r={structuredQuery:{}},n=t.path;let i;null!==t.collectionGroup?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=bi(e,i);const o=function(e){if(0!==e.length)return Mi(sr.create(e,"and"))}(t.filters);o&&(r.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Di(e.field),direction:Ni(e.dir)}}(e))}(t.orderBy);a&&(r.structuredQuery.orderBy=a);const s=ui(e,t.limit);return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:r,parent:i}}function xi(e){let t=Ei(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){M(1===n,65062);const e=r.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];r.where&&(o=function(e){const t=ki(e);return t instanceof sr&&lr(t)?t.getFilters():[t]}(r.where));let a=[];r.orderBy&&(a=function(e){return e.map(e=>function(e){return new nr(Pi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(r.orderBy));let s=null;r.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ie(t)?null:t}(r.limit));let c=null;r.startAt&&(c=function(e){const t=!!e.before,r=e.values||[];return new er(r,t)}(r.startAt));let l=null;return r.endAt&&(l=function(e){const t=!e.before,r=e.values||[];return new er(r,t)}(r.endAt)),xr(t,i,a,o,s,"F",c,l)}function ki(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pi(e.unaryFilter.field);return ar.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Pi(e.unaryFilter.field);return ar.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Pi(e.unaryFilter.field);return ar.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pi(e.unaryFilter.field);return ar.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return D(61313);default:return D(60726)}}(e):void 0!==e.fieldFilter?function(e){return ar.create(Pi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return D(58110);default:return D(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sr.create(e.compositeFilter.filters.map(e=>ki(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return D(1026)}}(e.compositeFilter.op))}(e):D(30097,{filter:e})}function Ni(e){return ai[e]}function Oi(e){return si[e]}function Ri(e){return ci[e]}function Di(e){return{fieldPath:e.canonicalString()}}function Pi(e){return he.fromServerFormat(e.fieldPath)}function Mi(e){return e instanceof ar?function(e){if("=="===e.op){if(Xt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NAN"}};if(Gt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NOT_NAN"}};if(Gt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(e.field),op:Oi(e.op),value:e.value}}}(e):e instanceof sr?function(e){const t=e.getFilters().map(e=>Mi(e));return 1===t.length?t[0]:{compositeFilter:{op:Ri(e.op),filters:t}}}(e):D(54877,{filter:e})}function Li(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Fi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bi{constructor(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ae.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ae.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dt.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ji{constructor(e){this.wt=e}}function Ui(e){const t=xi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lr(t,t.limit,"L"):t}class Vi{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(mt(e.integerValue));else if("doubleValue"in e){const r=mt(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),xe(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),"string"==typeof r&&(r=gt(r)),t.Ot("".concat(r.seconds||"")),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(vt(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?Zt(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):qt(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):D(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const n of Object.keys(r))this.Nt(n,t),this.Ct(r[n],t)}qt(e,t){var r,n;const i=e.fields||{};this.Mt(t,53);const o=Rt,a=(null===(n=null===(r=i[o].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.length)||0;this.Mt(t,15),t.xt(mt(a)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const n of r)this.Ct(n,t)}kt(e,t){this.Mt(t,37),fe.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Vi.Wt=new Vi;class zi{constructor(){this.Cn=new Hi}addToCollectionParentIndex(e,t){return this.Cn.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(ve.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(ve.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class Hi{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new lt(le.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new lt(le.comparator)).toArray()}}new Uint8Array(0);const Wi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gi=41943040;class Xi{static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(Gi,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class Ki{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ki(0)}static lr(){return new Ki(-1)}}const qi="LruGarbageCollector",Yi=1048576;function Zi(e,t){let[r,n]=e,[i,o]=t;const a=Q(r,i);return 0===a?Q(n,o):a}class $i{constructor(e){this.Er=e,this.buffer=new lt(Zi),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Zi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qi{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){k(qi,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ce(e)?k(qi,"Ignoring IndexedDB error during garbage collection: ",e):await Ee(e)}await this.mr(3e5)})}}class Ji{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(Ae.le);const r=new $i(t);return this.gr.forEachTarget(e,e=>r.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>r.Rr(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(Wi)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Wi):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,n,i,o,a,s,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),n=this.params.maximumSequenceNumbersToCollect):n=t,o=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,a=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(c=Date.now(),x()<=l.$b.DEBUG&&k("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(n," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-s)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),_e.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}function eo(e,t){return new Ji(e,t)}class to{constructor(){this.changes=new Wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ro{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class no{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&In(r.mutation,e,ht.empty(),oe.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,tn()).next(()=>t))}getLocalViewOfDocuments(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tn();const n=Zr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=qr();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const r=Zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tn()))}populateOverlays(e,t,r){const n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=Xr();const o=Qr(),a=Qr();return t.forEach((e,t)=>{const a=r.get(t.key);n.has(t.key)&&(void 0===a||a.mutation instanceof On)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),In(a.mutation,t,a.mutation.getFieldMask(),oe.now())):o.set(t.key,ht.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var r;return a.set(e,new ro(t,null!==(r=o.get(e))&&void 0!==r?r:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Qr();let n=new at((e,t)=>e-t),i=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=r.get(e)||ht.empty();a=i.applyToLocalView(o,a),r.set(e,a);const s=(n.get(i.batchId)||tn()).add(e);n=n.insert(i.batchId,s)})}).next(()=>{const o=[],a=n.getReverseIterator();for(;a.hasNext();){const n=a.getNext(),s=n.key,c=n.value,l=$r();c.forEach(e=>{if(!i.has(e)){const n=An(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,l))}return _e.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return function(e){return fe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Or(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{const o=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):_e.resolve(Zr());let a=de,s=i;return o.next(t=>_e.forEach(t,(t,r)=>(a<r.largestBatchId&&(a=r.largestBatchId),i.get(t)?_e.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,tn())).next(e=>({batchId:a,changes:Yr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(e=>{let t=qr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){const i=t.collectionGroup;let o=qr();return this.indexManager.getCollectionParents(e,i).next(a=>_e.forEach(a,a=>{const s=function(e,t){return new Ir(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,r,n).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{const n=r.getKey();null===e.get(n)&&(e=e.insert(n,Jt.newInvalidDocument(n)))});let r=qr();return e.forEach((e,n)=>{const o=i.get(e);void 0!==o&&In(o.mutation,n,ht.empty(),oe.now()),Ur(t,n)&&(r=r.insert(e,n))}),r})}}class io{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return _e.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:pi(e.createTime)}}(t)),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Ui(e.bundledQuery),readTime:pi(e.readTime)}}(t)),_e.resolve()}}class oo{constructor(){this.overlays=new at(fe.comparator),this.Qr=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zr();return _e.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.St(e,t,n)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const n=this.Qr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const n=Zr(),i=t.length+1,o=new fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return _e.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new at((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=Zr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Zr(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=n)););return _e.resolve(a)}St(e,t,r){const n=this.overlays.get(r.key);if(null!==n){const e=this.Qr.get(n.largestBatchId).delete(r.key);this.Qr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new jn(t,r));let i=this.Qr.get(t);void 0===i&&(i=tn(),this.Qr.set(t,i)),this.Qr.set(t,i.add(r.key))}}class ao{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_e.resolve()}}class so{constructor(){this.$r=new lt(co.Ur),this.Kr=new lt(co.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new co(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new co(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new fe(new le([])),r=new co(t,e),n=new co(t,e+1),i=[];return this.Kr.forEachInRange([r,n],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new fe(new le([])),r=new co(t,e),n=new co(t,e+1);let i=tn();return this.Kr.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new co(e,0),r=this.$r.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class co{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return fe.comparator(e.key,t.key)||Q(e.Zr,t.Zr)}static Wr(e,t){return Q(e.Zr,t.Zr)||fe.comparator(e.key,t.key)}}class lo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new lt(co.Ur)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Fn(i,t,r,n);this.mutationQueue.push(o);for(const a of n)this.Xr=this.Xr.add(new co(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(e,t){return _e.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=this.ti(r),i=n<0?0:n;return _e.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?Te:this.nr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new co(t,0),n=new co(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,n],e=>{const t=this.ei(e.Zr);i.push(t)}),_e.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Q);return t.forEach(e=>{const t=new co(e,0),n=new co(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,n],e=>{r=r.add(e.Zr)})}),_e.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,n=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new co(new fe(i),0);let a=new lt(Q);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(a=a.add(e.Zr)),!0)},o),_e.resolve(this.ni(a))}ni(e){const t=[];return e.forEach(e=>{const r=this.ei(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){M(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Xr;return _e.forEach(t.mutations,n=>{const i=new co(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new co(t,0),n=this.Xr.firstAfterOrEqual(r);return _e.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uo{constructor(e){this.ii=e,this.docs=new at(fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,n=this.docs.get(r),i=n?n.size:0,o=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let r=Xr();return t.forEach(e=>{const t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Jt.newInvalidDocument(e))}),_e.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=Xr();const o=t.path,a=new fe(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ye(me(a),r)<=0||(n.has(a.key)||Ur(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,t,r,n){D(9500)}si(e,t){return _e.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ho(this)}getSize(e){return _e.resolve(this.size)}}class ho extends to{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Br.addEntry(e,n)):this.Br.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class fo{constructor(e){this.persistence=e,this.oi=new Wr(e=>Cr(e),Ar),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new so,this.targetCount=0,this.ui=Ki.cr()}forEachTarget(e,t){return this.oi.forEach((e,r)=>t(r)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),_e.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Ki(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Tr(t),_e.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let n=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),n++)}),_e.waitFor(i).next(()=>n)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),_e.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.ai.containsKey(t))}}class po{constructor(e,t){this.ci={},this.overlays={},this.li=new Ae(0),this.hi=!1,this.hi=!0,this.Pi=new ao,this.referenceDelegate=e(this),this.Ti=new fo(this),this.indexManager=new zi,this.remoteDocumentCache=function(e){return new uo(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new ji(t),this.Ei=new io(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new lo(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);const n=new go(this.li.next());return this.referenceDelegate.di(),r(n).next(e=>this.referenceDelegate.Ai(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ri(e,t){return _e.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class go extends be{constructor(e){super(),this.currentSequenceNumber=e}}class mo{constructor(e){this.persistence=e,this.Vi=new so,this.mi=null}static fi(e){return new mo(e)}get gi(){if(this.mi)return this.mi;throw D(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.gi,r=>{const n=fe.fromPath(r);return this.pi(e,n).next(e=>{e||t.removeEntry(n,ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return _e.or([()=>_e.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class vo{constructor(e,t){this.persistence=e,this.yi=new Wr(e=>Oe(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=eo(this,t)}static fi(e,t){return new vo(e,t)}di(){}Ai(e){return _e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return _e.forEach(this.yi,(r,n)=>this.Dr(e,r,n).next(e=>e?_e.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.si(e,n=>this.Dr(e,n,t).next(e=>{e||(r++,i.removeEntry(n,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),_e.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),_e.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vt(e.data.value)),t}Dr(e,t,r){return _e.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return _e.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yo{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.ds=r,this.As=n}static Rs(e,t){let r=tn(),n=tn();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:n=n.add(i.doc.key)}return new yo(e,t.fromCache,r,n)}}class wo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bo{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,u.nr)()?8:Se((0,u.ZQ)())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,n){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const r=new wo;return this.Ss(e,t,r).next(n=>{if(i.result=n,this.fs)return this.Ds(e,t,r,n.size)})}).next(()=>i.result)}Ds(e,t,r,n){return r.documentReadCount<this.gs?(x()<=l.$b.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",jr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),_e.resolve()):(x()<=l.$b.DEBUG&&k("QueryEngine","Query:",jr(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ps*n?(x()<=l.$b.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",jr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):_e.resolve())}ws(e,t){if(Nr(t))return _e.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(t=Lr(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{const i=tn(...n);return this.ys.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{const o=this.vs(t,n);return this.Cs(t,o,i,r.readTime)?this.ws(e,Lr(t,null,"F")):this.Fs(e,o,t,r)}))})))}bs(e,t,r,n){return Nr(t)||n.isEqual(ae.min())?_e.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(t,i);return this.Cs(t,o,r,n)?_e.resolve(null):(x()<=l.$b.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),jr(t)),this.Fs(e,o,t,ge(n,de)).next(e=>e))})}vs(e,t){let r=new lt(zr(e));return t.forEach((t,n)=>{Ur(e,n)&&(r=r.add(n))}),r}Cs(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}Ss(e,t,r){return x()<=l.$b.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",jr(t)),this.ys.getDocumentsMatchingQuery(e,t,ve.min(),r)}Fs(e,t,r,n){return this.ys.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Eo="LocalStore";class _o{constructor(e,t,r,n){this.persistence=e,this.Ms=t,this.serializer=n,this.xs=new at(Q),this.Os=new Wr(e=>Cr(e),Ar),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new no(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function So(e,t,r,n){return new _o(e,t,r,n)}async function Co(e,t){const r=L(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(i=>(n=i,r.Ls(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=tn();for(const e of n){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return r.localDocuments.getDocuments(e,a).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:o}))})})}function Ao(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function To(e,t,r){let n=tn(),i=tn();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=Xr();return r.forEach((r,o)=>{const a=e.get(r);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(r)),o.isNoDocument()&&o.version.isEqual(ae.min())?(t.removeEntry(r,o.readTime),n=n.insert(r,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),n=n.insert(r,o)):k(Eo,"Ignoring outdated watch update for ",r,". Current version:",a.version," Watch version:",o.version)}),{qs:n,Qs:i}})}function Io(e,t){const r=L(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Te),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function xo(e,t){const r=L(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.Ti.getTargetData(e,t).next(i=>i?(n=i,_e.resolve(n)):r.Ti.allocateTargetId(e).next(i=>(n=new Bi(t,i,"TargetPurposeListen",e.currentSequenceNumber),r.Ti.addTargetData(e,n).next(()=>n))))}).then(e=>{const n=r.xs.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.xs=r.xs.insert(e.targetId,e),r.Os.set(t,e.targetId)),e})}async function ko(e,t,r){const n=L(e),i=n.xs.get(t),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,e=>n.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ce(e))throw e;k(Eo,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}n.xs=n.xs.remove(t),n.Os.delete(i.target)}function No(e,t,r){const n=L(e);let i=ae.min(),o=tn();return n.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,r){const n=L(e),i=n.Os.get(r);return void 0!==i?_e.resolve(n.xs.get(i)):n.Ti.getTargetData(t,r)}(n,e,Dr(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>n.Ms.getDocumentsMatchingQuery(e,t,r?i:ae.min(),r?o:tn())).next(e=>(Oo(n,Vr(t),e),{documents:e,$s:o})))}function Oo(e,t,r){let n=e.Ns.get(t)||ae.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Ns.set(t,n)}class Ro{constructor(){this.activeTargetIds=nn()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Do{constructor(){this.xo=new Ro,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ro,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Po{No(e){}shutdown(){}}const Mo="ConnectivityMonitor";class Lo{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){k(Mo,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){k(Mo,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fo=null;function Bo(){return null===Fo?Fo=268435456+Math.round(2147483648*Math.random()):Fo++,"0x"+Fo.toString(16)}const jo="RestConnection",Uo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vo{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(r,"/databases/").concat(n),this.Go=this.databaseId.database===Tt?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(n)}zo(e,t,r,n,i){const o=Bo(),a=this.jo(e,t.toUriEncodedString());k(jo,"Sending RPC '".concat(e,"' ").concat(o,":"),a,r);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,n,i);const{host:c}=new URL(a),l=(0,u.zJ)(c);return this.Jo(e,a,s,r,l).then(t=>(k(jo,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw O(jo,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",r),t})}Yo(e,t,r,n,i,o){return this.zo(e,t,r,n,i)}Ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+T,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}jo(e,t){const r=Uo[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(r)}terminate(){}}class zo{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Ho="WebChannelConnection";class Wo extends Vo{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,n,i){const o=Bo();return new Promise((i,a)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(g.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case m.NO_ERROR:const t=s.getResponseJson();k(Ho,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case m.TIMEOUT:k(Ho,"RPC '".concat(e,"' ").concat(o," timed out")),a(new B(F.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=s.getStatus();if(k(Ho,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",s.getResponseText()),r>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(t)>=0?t:F.UNKNOWN}(t.status);a(new B(e,t.message))}else a(new B(F.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new B(F.UNAVAILABLE,"Connection failed."));break;default:D(9055,{h_:e,streamId:o,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{k(Ho,"RPC '".concat(e,"' ").concat(o," completed."))}});const c=JSON.stringify(n);k(Ho,"RPC '".concat(e,"' ").concat(o," sending request:"),n),s.send(t,"POST",c,r,15)})}I_(e,t,r){const n=Bo(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=b(),a=w(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;const l=i.join("");k(Ho,"Creating RPC '".concat(e,"' stream ").concat(n,": ").concat(l),s);const u=o.createWebChannel(l,s);this.E_(u);let h=!1,f=!1;const d=new zo({Zo:t=>{f?k(Ho,"Not sending because RPC '".concat(e,"' stream ").concat(n," is closed:"),t):(h||(k(Ho,"Opening RPC '".concat(e,"' stream ").concat(n," transport.")),u.open(),h=!0),k(Ho,"RPC '".concat(e,"' stream ").concat(n," sending:"),t),u.send(t))},Xo:()=>u.close()}),g=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};return g(u,p.EventType.OPEN,()=>{f||(k(Ho,"RPC '".concat(e,"' stream ").concat(n," transport opened.")),d.__())}),g(u,p.EventType.CLOSE,()=>{f||(f=!0,k(Ho,"RPC '".concat(e,"' stream ").concat(n," transport closed")),d.u_(),this.d_(u))}),g(u,p.EventType.ERROR,t=>{f||(f=!0,O(Ho,"RPC '".concat(e,"' stream ").concat(n," transport errored. Name:"),t.name,"Message:",t.message),d.u_(new B(F.UNAVAILABLE,"The operation could not be completed")))}),g(u,p.EventType.MESSAGE,t=>{var r;if(!f){const i=t.data[0];M(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(r=o[0])||void 0===r?void 0:r.error);if(a){k(Ho,"RPC '".concat(e,"' stream ").concat(n," received error:"),a);const t=a.status;let r=function(e){const t=Vn[e];if(void 0!==t)return Wn(t)}(t),i=a.message;void 0===r&&(r=F.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,d.u_(new B(r,i)),u.close()}else k(Ho,"RPC '".concat(e,"' stream ").concat(n," received:"),i),d.c_(i)}}),g(a,y.STAT_EVENT,t=>{t.stat===v.PROXY?k(Ho,"RPC '".concat(e,"' stream ").concat(n," detected buffering proxy")):t.stat===v.NOPROXY&&k(Ho,"RPC '".concat(e,"' stream ").concat(n," detected no buffering proxy"))}),setTimeout(()=>{d.a_()},0),d}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Go(){return"undefined"!=typeof document?document:null}function Xo(e){return new li(e,!0)}class Ko{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=r,this.R_=n,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),n=Math.max(0,t-r);n>0&&k("ExponentialBackoff","Backing off for ".concat(n," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(r," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,n,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const qo="PersistentStream";class Yo{constructor(e,t,r,n,i,o,a,s){this.xi=e,this.S_=r,this.D_=n,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ko(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(N(t.toString()),N("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===F.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[r,n]=e;this.v_===t&&this.z_(r,n)},t=>{e(()=>{const e=new B(F.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{r(()=>this.j_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return k(qo,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(k(qo,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zo extends Yo{constructor(e,t,r,n,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:D(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(M(void 0===t||"string"==typeof t,58123),dt.fromBase64String(t||"")):(M(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),dt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?F.UNKNOWN:Wn(e.code);return new B(t,e.message||"")}(a);r=new ti(n,i,o,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=wi(e,n.document.name),o=pi(n.document.updateTime),a=n.document.createTime?pi(n.document.createTime):ae.min(),s=new $t({mapValue:{fields:n.document.fields}}),c=Jt.newFoundDocument(i,o,a,s),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Jn(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=wi(e,n.document),o=n.readTime?pi(n.readTime):ae.min(),a=Jt.newNoDocument(i,o),s=n.removedTargetIds||[];r=new Jn([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=wi(e,n.document),o=n.removedTargetIds||[];r=new Jn([],o,i,null)}else{if(!("filter"in t))return D(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:i}=e,o=new Un(n,i),a=e.targetId;r=new ei(a,o)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return ae.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ae.min():t.readTime?pi(t.readTime):ae.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=_i(this.serializer),t.addTarget=function(e,t){let r;const n=t.target;if(r=Tr(n)?{documents:Ti(e,n)}:{query:Ii(e,n).gt},r.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=fi(e,t.resumeToken);const n=ui(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(ae.min())>0){r.readTime=hi(e,t.snapshotVersion.toTimestamp());const n=ui(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);const r=function(e,t){const r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return D(28987,{purpose:e})}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=_i(this.serializer),t.removeTarget=e,this.Q_(t)}}class $o extends Yo{constructor(e,t,r,n,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return M(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,M(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){M(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(M(void 0!==t,14353),e.map(e=>function(e,t){let r=e.updateTime?pi(e.updateTime):pi(t);return r.isEqual(ae.min())&&(r=pi(t)),new En(r,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=_i(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ai(this.serializer,e))};this.Q_(t)}}class Qo{}class Jo extends Qo{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.sa=!1}oa(){if(this.sa)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,n){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.zo(e,mi(t,r),n,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new B(F.UNKNOWN,e.toString())})}Yo(e,t,r,n,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Yo(e,mi(t,r),n,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new B(F.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ea{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(N(t),this.ua=!1):k("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const ta="RemoteStore";class ra{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{r.enqueueAndForget(async()=>{ha(this)&&(k(ta,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.da.add(4),await ia(t),t.Va.set("Unknown"),t.da.delete(4),await na(t)}(this))})}),this.Va=new ea(r,n)}}async function na(e){if(ha(e))for(const t of e.Aa)await t(!0)}async function ia(e){for(const t of e.Aa)await t(!1)}function oa(e,t){const r=L(e);r.Ea.has(t.targetId)||(r.Ea.set(t.targetId,t),ua(r)?la(r):Na(r).N_()&&sa(r,t))}function aa(e,t){const r=L(e),n=Na(r);r.Ea.delete(t),n.N_()&&ca(r,t),0===r.Ea.size&&(n.N_()?n.k_():ha(r)&&r.Va.set("Unknown"))}function sa(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ae.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Na(e).Z_(t)}function ca(e,t){e.ma.Ke(t),Na(e).X_(t)}function la(e){e.ma=new ni({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Na(e).start(),e.Va.ca()}function ua(e){return ha(e)&&!Na(e).O_()&&e.Ea.size>0}function ha(e){return 0===L(e).da.size}function fa(e){e.ma=void 0}async function da(e){e.Va.set("Online")}async function pa(e){e.Ea.forEach((t,r)=>{sa(e,t)})}async function ga(e,t){fa(e),ua(e)?(e.Va.Pa(t),la(e)):e.Va.set("Unknown")}async function ma(e,t,r){if(e.Va.set("Online"),t instanceof ti&&2===t.state&&t.cause)try{await async function(e,t){const r=t.cause;for(const n of t.targetIds)e.Ea.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.Ea.delete(n),e.ma.removeTarget(n))}(e,t)}catch(r){k(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await va(e,r)}else if(t instanceof Jn?e.ma.Xe(t):t instanceof ei?e.ma.ot(t):e.ma.nt(t),!r.isEqual(ae.min()))try{const t=await Ao(e.localStore);r.compareTo(t)>=0&&await function(e,t){const r=e.ma.It(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const i=e.Ea.get(n);i&&e.Ea.set(n,i.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{const n=e.Ea.get(t);if(!n)return;e.Ea.set(t,n.withResumeToken(dt.EMPTY_BYTE_STRING,n.snapshotVersion)),ca(e,t);const i=new Bi(n.target,t,r,n.sequenceNumber);sa(e,i)}),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){k(ta,"Failed to raise snapshot:",t),await va(e,t)}}async function va(e,t,r){if(!Ce(t))throw t;e.da.add(1),await ia(e),e.Va.set("Offline"),r||(r=()=>Ao(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{k(ta,"Retrying IndexedDB access"),await r(),e.da.delete(1),await na(e)})}function ya(e,t){return t().catch(r=>va(e,r,t))}async function wa(e){const t=L(e),r=Oa(t);let n=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Te;for(;ba(t);)try{const e=await Io(t.localStore,n);if(null===e){0===t.Ia.length&&r.k_();break}n=e.batchId,Ea(t,e)}catch(e){await va(t,e)}_a(t)&&Sa(t)}function ba(e){return ha(e)&&e.Ia.length<10}function Ea(e,t){e.Ia.push(t);const r=Oa(e);r.N_()&&r.ea&&r.ta(t.mutations)}function _a(e){return ha(e)&&!Oa(e).O_()&&e.Ia.length>0}function Sa(e){Oa(e).start()}async function Ca(e){Oa(e).ia()}async function Aa(e){const t=Oa(e);for(const r of e.Ia)t.ta(r.mutations)}async function Ta(e,t,r){const n=e.Ia.shift(),i=Bn.from(n,t,r);await ya(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await wa(e)}async function Ia(e,t){t&&Oa(e).ea&&await async function(e,t){if(function(e){return Hn(e)&&e!==F.ABORTED}(t.code)){const r=e.Ia.shift();Oa(e).L_(),await ya(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await wa(e)}}(e,t),_a(e)&&Sa(e)}async function xa(e,t){const r=L(e);r.asyncQueue.verifyOperationInProgress(),k(ta,"RemoteStore received new credentials");const n=ha(r);r.da.add(3),await ia(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.da.delete(3),await na(r)}async function ka(e,t){const r=L(e);t?(r.da.delete(2),await na(r)):t||(r.da.add(2),await ia(r),r.Va.set("Unknown"))}function Na(e){return e.fa||(e.fa=function(e,t,r){const n=L(e);return n.oa(),new Zo(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{e_:da.bind(null,e),n_:pa.bind(null,e),i_:ga.bind(null,e),Y_:ma.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),ua(e)?la(e):e.Va.set("Unknown")):(await e.fa.stop(),fa(e))})),e.fa}function Oa(e){return e.ga||(e.ga=function(e,t,r){const n=L(e);return n.oa(),new $o(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Ca.bind(null,e),i_:Ia.bind(null,e),na:Aa.bind(null,e),ra:Ta.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await wa(e)):(await e.ga.stop(),e.Ia.length>0&&(k(ta,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class Ra{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){const o=Date.now()+r,a=new Ra(e,t,o,n,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Da(e,t){if(N("AsyncQueue","".concat(t,": ").concat(e)),Ce(e))return new B(F.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(e,t)=>fe.comparator(e.key,t.key),this.keyedMap=qr(),this.sortedSet=new at(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ma{constructor(){this.pa=new at(fe.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?0!==e.type&&3===r.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==r.type?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pa=this.pa.remove(t):1===e.type&&2===r.type?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):D(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class La{constructor(e,t,r,n,i,o,a,s,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,n,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new La(e,t,Pa.emptySet(t),o,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==r[n].type||!t[n].doc.isEqual(r[n].doc))return!1;return!0}}class Fa{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Ba{constructor(){this.queries=ja(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const r=L(e),n=r.queries;r.queries=ja(),n.forEach((e,r)=>{for(const n of r.Sa)n.onError(t)})}(this,new B(F.ABORTED,"Firestore shutting down"))}}function ja(){return new Wr(e=>Br(e),Fr)}async function Ua(e,t){const r=L(e);let n=3;const i=t.query;let o=r.queries.get(i);o?!o.Da()&&t.va()&&(n=2):(o=new Fa,n=t.va()?0:1);try{switch(n){case 0:o.ba=await r.onListen(i,!0);break;case 1:o.ba=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(e){const r=Da(e,"Initialization of query '".concat(jr(t.query),"' failed"));return void t.onError(r)}r.queries.set(i,o),o.Sa.push(t),t.Fa(r.onlineState),o.ba&&t.Ma(o.ba)&&Wa(r)}async function Va(e,t){const r=L(e),n=t.query;let i=3;const o=r.queries.get(n);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.va()?0:1:!o.Da()&&t.va()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function za(e,t){const r=L(e);let n=!1;for(const i of t){const e=i.query,t=r.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(n=!0);t.ba=i}}n&&Wa(r)}function Ha(e,t,r){const n=L(e),i=n.queries.get(t);if(i)for(const o of i.Sa)o.onError(r);n.queries.delete(t)}function Wa(e){e.Ca.forEach(e=>{e.next()})}var Ga,Xa;(Xa=Ga||(Ga={})).xa="default",Xa.Cache="cache";class Ka{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new La(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const r="Offline"!==t;return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ga.Cache}}class qa{constructor(e){this.key=e}}class Ya{constructor(e){this.key=e}}class Za{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tn(),this.mutatedKeys=tn(),this.Za=zr(e),this.Xa=new Pa(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new Ma,n=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,o=n,a=!1;const s="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,c="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{const l=n.get(e),u=Ur(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let d=!1;l&&u?l.data.isEqual(u.data)?h!==f&&(r.track({type:3,doc:u}),d=!0):this.ru(l,u)||(r.track({type:2,doc:u}),d=!0,(s&&this.Za(u,s)>0||c&&this.Za(u,c)<0)&&(a=!0)):!l&&u?(r.track({type:0,doc:u}),d=!0):l&&!u&&(r.track({type:1,doc:l}),d=!0,(s||c)&&(a=!0)),d&&(u?(o=o.add(u),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{Xa:o,nu:r,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((e,t)=>function(e,t){const r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return D(20277,{Vt:e})}};return r(e)-r(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(r),n=null!=n&&n;const a=t&&!n?this.su():[],s=0===this.Ya.size&&this.current&&!n?1:0,c=s!==this.Ja;return this.Ja=s,0!==o.length||c?{snapshot:new La(this.query,e.Xa,i,o,e.mutatedKeys,0===s,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ma,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tn(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new Ya(e))}),this.Ya.forEach(r=>{e.has(r)||t.push(new qa(r))}),t}au(e){this.Ha=e.$s,this.Ya=tn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return La.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const $a="SyncEngine";class Qa{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ja{constructor(e){this.key=e,this.cu=!1}}class es{constructor(e,t,r,n,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Wr(e=>Br(e),Fr),this.Pu=new Map,this.Tu=new Set,this.Iu=new at(fe.comparator),this.Eu=new Map,this.du=new so,this.Au={},this.Ru=new Map,this.Vu=Ki.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function ts(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=_s(e);let i;const o=n.hu.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await ns(n,t,r,!0),i}async function rs(e,t){const r=_s(e);await ns(r,t,!0,!1)}async function ns(e,t,r,n){const i=await xo(e.localStore,Dr(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,r);let s;return n&&(s=await is(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&r&&oa(e.remoteStore,i),s}async function is(e,t,r,n,i){e.fu=(t,r,n)=>async function(e,t,r,n){let i=t.view.tu(r);i.Cs&&(i=await No(e.localStore,t.query,!1).then(e=>{let{documents:r}=e;return t.view.tu(r,i)}));const o=n&&n.targetChanges.get(t.targetId),a=n&&null!=n.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return ms(e,t.targetId,s.ou),s.snapshot}(e,t,r,n);const o=await No(e.localStore,t,!0),a=new Za(t,o.$s),s=a.tu(o.documents),c=Qn.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),l=a.applyChanges(s,e.isPrimaryClient,c);ms(e,r,l.ou);const u=new Qa(t,r,a);return e.hu.set(t,u),e.Pu.has(r)?e.Pu.get(r).push(t):e.Pu.set(r,[t]),l.snapshot}async function os(e,t,r){const n=L(e),i=n.hu.get(t),o=n.Pu.get(i.targetId);if(o.length>1)return n.Pu.set(i.targetId,o.filter(e=>!Fr(e,t))),void n.hu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ko(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&aa(n.remoteStore,i.targetId),ps(n,i.targetId)}).catch(Ee)):(ps(n,i.targetId),await ko(n.localStore,i.targetId,!0))}async function as(e,t){const r=L(e),n=r.hu.get(t),i=r.Pu.get(n.targetId);r.isPrimaryClient&&1===i.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),aa(r.remoteStore,n.targetId))}async function ss(e,t){const r=L(e);try{const e=await function(e,t){const r=L(e),n=t.snapshotVersion;let i=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=r.Bs.newChangeBuffer({trackRemovals:!0});i=r.xs;const a=[];t.targetChanges.forEach((o,s)=>{const c=i.get(s);if(!c)return;a.push(r.Ti.removeMatchingKeys(e,o.removedDocuments,s).next(()=>r.Ti.addMatchingKeys(e,o.addedDocuments,s)));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(dt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,n)),i=i.insert(s,l),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0)}(c,l,o)&&a.push(r.Ti.updateTargetData(e,l))});let s=Xr(),c=tn();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),a.push(To(e,o,t.documentUpdates).next(e=>{s=e.qs,c=e.Qs})),!n.isEqual(ae.min())){const t=r.Ti.getLastRemoteSnapshotVersion(e).next(t=>r.Ti.setTargetsMetadata(e,e.currentSequenceNumber,n));a.push(t)}return _e.waitFor(a).next(()=>o.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,s,c)).next(()=>s)}).then(e=>(r.xs=i,e))}(r.localStore,t);t.targetChanges.forEach((e,t)=>{const n=r.Eu.get(t);n&&(M(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?n.cu=!0:e.modifiedDocuments.size>0?M(n.cu,14607):e.removedDocuments.size>0&&(M(n.cu,42227),n.cu=!1))}),await ws(r,e,t)}catch(e){await Ee(e)}}function cs(e,t,r){const n=L(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const e=[];n.hu.forEach((r,n)=>{const i=n.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const r=L(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(const i of r.Sa)i.Fa(t)&&(n=!0)}),n&&Wa(r)}(n.eventManager,t),e.length&&n.lu.Y_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function ls(e,t,r){const n=L(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Eu.get(t),o=i&&i.key;if(o){let e=new at(fe.comparator);e=e.insert(o,Jt.newNoDocument(o,ae.min()));const r=tn().add(o),i=new $n(ae.min(),new Map,new at(Q),e,r);await ss(n,i),n.Iu=n.Iu.remove(o),n.Eu.delete(t),ys(n)}else await ko(n.localStore,t,!1).then(()=>ps(n,t,r)).catch(Ee)}async function us(e,t){const r=L(e),n=t.batch.batchId;try{const e=await function(e,t){const r=L(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const n=t.batch.keys(),i=r.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,r,n){const i=r.batch,o=i.keys();let a=_e.resolve();return o.forEach(e=>{a=a.next(()=>n.getEntry(t,e)).next(t=>{const o=r.docVersions.get(e);M(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(r,e,t,i).next(()=>i.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=tn();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,n))})}(r.localStore,t);ds(r,n,null),fs(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ws(r,e)}catch(e){await Ee(e)}}async function hs(e,t,r){const n=L(e);try{const e=await function(e,t){const r=L(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(M(null!==t,37113),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}(n.localStore,t);ds(n,t,r),fs(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await ws(n,e)}catch(r){await Ee(r)}}function fs(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function ds(e,t,r){const n=L(e);let i=n.Au[n.currentUser.toKey()];if(i){const e=i.get(t);e&&(r?e.reject(r):e.resolve(),i=i.remove(t)),n.Au[n.currentUser.toKey()]=i}}function ps(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Pu.get(t))e.hu.delete(n),r&&e.lu.gu(n,r);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||gs(e,t)})}function gs(e,t){e.Tu.delete(t.path.canonicalString());const r=e.Iu.get(t);null!==r&&(aa(e.remoteStore,r),e.Iu=e.Iu.remove(t),e.Eu.delete(r),ys(e))}function ms(e,t,r){for(const n of r)n instanceof qa?(e.du.addReference(n.key,t),vs(e,n)):n instanceof Ya?(k($a,"Document no longer in limbo: "+n.key),e.du.removeReference(n.key,t),e.du.containsKey(n.key)||gs(e,n.key)):D(19791,{pu:n})}function vs(e,t){const r=t.key,n=r.path.canonicalString();e.Iu.get(r)||e.Tu.has(n)||(k($a,"New document in limbo: "+r),e.Tu.add(n),ys(e))}function ys(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const r=new fe(le.fromString(t)),n=e.Vu.next();e.Eu.set(n,new Ja(r)),e.Iu=e.Iu.insert(r,n),oa(e.remoteStore,new Bi(Dr(kr(r.path)),n,"TargetPurposeLimboResolution",Ae.le))}}async function ws(e,t,r){const n=L(e),i=[],o=[],a=[];n.hu.isEmpty()||(n.hu.forEach((e,s)=>{a.push(n.fu(s,t,r).then(e=>{var t;if((e||r)&&n.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==r?void 0:r.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=yo.Rs(s.targetId,e);o.push(t)}}))}),await Promise.all(a),n.lu.Y_(i),await async function(e,t){const r=L(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_e.forEach(t,t=>_e.forEach(t.ds,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>_e.forEach(t.As,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(!Ce(e))throw e;k(Eo,"Failed to update sequence numbers: "+e)}for(const n of t){const e=n.targetId;if(!n.fromCache){const t=r.xs.get(e),n=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(n);r.xs=r.xs.insert(e,i)}}}(n.localStore,o))}async function bs(e,t){const r=L(e);if(!r.currentUser.isEqual(t)){k($a,"User change. New user:",t.toKey());const e=await Co(r.localStore,t);r.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new B(F.CANCELLED,t))})}),e.Ru.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ws(r,e.ks)}}function Es(e,t){const r=L(e),n=r.Eu.get(t);if(n&&n.cu)return tn().add(n.key);{let e=tn();const n=r.Pu.get(t);if(!n)return e;for(const t of n){const n=r.hu.get(t);e=e.unionWith(n.view.eu)}return e}}function _s(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ss.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Es.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ls.bind(null,t),t.lu.Y_=za.bind(null,t.eventManager),t.lu.gu=Ha.bind(null,t.eventManager),t}function Ss(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=us.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hs.bind(null,t),t}class Cs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xo(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return So(this.persistence,new bo,e.initialUser,this.serializer)}Su(e){return new po(mo.fi,this.serializer)}bu(e){return new Do}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cs.provider={build:()=>new Cs};class As extends Cs{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){M(this.persistence.referenceDelegate instanceof vo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Qi(r,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new po(e=>vo.fi(e,t),this.serializer)}}class Ts{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cs(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bs.bind(null,this.syncEngine),await ka(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ba}createDatastore(e){const t=Xo(e.databaseInfo.databaseId),r=function(e){return new Wo(e)}(e.databaseInfo);return function(e,t,r,n){return new Jo(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(e,t,r,n,i){return new ra(e,t,r,n,i)}(this.localStore,this.datastore,e.asyncQueue,e=>cs(this.syncEngine,e,0),Lo.C()?new Lo:new Po)}createSyncEngine(e,t){return function(e,t,r,n,i,o,a){const s=new es(e,t,r,n,i,o);return a&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);k(ta,"RemoteStore shutting down."),t.da.add(5),await ia(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ts.provider={build:()=>new Ts};class Is{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):N("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const xs="FirestoreClient";class ks{constructor(e,t,r,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=A.UNAUTHENTICATED,this.clientId=Z.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async e=>{k(xs,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(k(xs,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Da(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ns(e,t){e.asyncQueue.verifyOperationInProgress(),k(xs,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await Co(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Os(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Rs(e);k(xs,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>xa(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>xa(t.remoteStore,r)),e._onlineComponents=t}async function Rs(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){k(xs,"Using user provided OfflineComponentProvider");try{await Ns(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===F.FAILED_PRECONDITION||e.code===F.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;O("Error using user provided cache. Falling back to memory cache: "+r),await Ns(e,new Cs)}}else k(xs,"Using default OfflineComponentProvider"),await Ns(e,new As(void 0));return e._offlineComponents}async function Ds(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(k(xs,"Using user provided OnlineComponentProvider"),await Os(e,e._uninitializedComponentsProvider._online)):(k(xs,"Using default OnlineComponentProvider"),await Os(e,new Ts))),e._onlineComponents}function Ps(e){return Ds(e).then(e=>e.syncEngine)}async function Ms(e){const t=await Ds(e),r=t.eventManager;return r.onListen=ts.bind(null,t.syncEngine),r.onUnlisten=os.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=rs.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=as.bind(null,t.syncEngine),r}function Ls(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new j;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,r,n,i){const o=new Is({next:s=>{o.xu(),t.enqueueAndForget(()=>Va(e,a));const c=s.docs.has(r);!c&&s.fromCache?i.reject(new B(F.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&s.fromCache&&n&&"server"===n.source?i.reject(new B(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Ka(kr(r.path),o,{includeMetadataChanges:!0,Qa:!0});return Ua(e,a)}(await Ms(e),e.asyncQueue,t,r,n)),n.promise}function Fs(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new j;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,r,n,i){const o=new Is({next:r=>{o.xu(),t.enqueueAndForget(()=>Va(e,a)),r.fromCache&&"server"===n.source?i.reject(new B(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(r)},error:e=>i.reject(e)}),a=new Ka(r,o,{includeMetadataChanges:!0,Qa:!0});return Ua(e,a)}(await Ms(e),e.asyncQueue,t,r,n)),n.promise}function Bs(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const js=new Map;function Us(e,t,r){if(!r)throw new B(F.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Vs(e){if(!fe.isDocumentKey(e))throw new B(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zs(e){if(fe.isDocumentKey(e))throw new B(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":D(12329,{type:typeof e})}function Ws(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hs(e);throw new B(F.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(r))}}return e}const Gs="firestore.googleapis.com",Xs=!0;class Ks{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new B(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gs,this.ssl=Xs}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xs;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Gi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Yi)throw new B(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new B(F.INVALID_ARGUMENT,"".concat(e," and ").concat(r," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bs(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new B(F.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new B(F.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new B(F.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qs{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ks({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ks(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new G(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new B(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=js.get(e);t&&(k("ComponentProvider","Removing Datastore"),js.delete(e),t.terminate())}(this),Promise.resolve()}}class Ys{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Zs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zs(this.firestore,e,this._key)}}class $s extends Ys{constructor(e,t,r){super(e,t,kr(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zs(this.firestore,null,new fe(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Qs(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e=(0,u.Ku)(e),Us("collection","path",t),e instanceof qs){const r=le.fromString(t,...n);return zs(r),new $s(e,null,r)}{if(!(e instanceof Zs||e instanceof $s))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(le.fromString(t,...n));return zs(r),new $s(e.firestore,null,r)}}function Js(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e=(0,u.Ku)(e),1===arguments.length&&(t=Z.newId()),Us("doc","path",t),e instanceof qs){const r=le.fromString(t,...n);return Vs(r),new Zs(e,null,new fe(r))}{if(!(e instanceof Zs||e instanceof $s))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(le.fromString(t,...n));return Vs(r),new Zs(e.firestore,e instanceof $s?e.converter:null,new fe(r))}}const ec="AsyncQueue";class tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ko(this,"async_queue_retry"),this.rc=()=>{const e=Go();e&&k(ec,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Go();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Go();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new j;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ce(e))throw e;k(ec,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,N("INTERNAL UNHANDLED ERROR: ",rc(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const n=Ra.createAndSchedule(this,e,t,r,e=>this.uc(e));return this.Zu.push(n),n}oc(){this.Xu&&D(47125,{cc:rc(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function rc(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function nc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const n of t)if(n in r&&"function"==typeof r[n])return!0;return!1}(e,["next","error","complete"])}class ic extends qs{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new tc,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tc(e),this._firestoreClient=void 0,await e}}}function oc(e,t){const r="object"==typeof e?e:(0,i.Sx)(),n="string"==typeof e?e:t||Tt,o=(0,i.j6)(r,"firestore").getImmediate({identifier:n});if(!o._initialized){const e=(0,u.yU)("firestore");e&&function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Ws(e,qs);const o=(0,u.zJ)(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c="".concat(t,":").concat(r);o&&((0,u.gE)("https://".concat(c)),(0,u.P1)("Firestore",!0)),a.host!==Gs&&a.host!==c&&O("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:c,ssl:o,emulatorOptions:n});if(!(0,u.bD)(l,s)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=A.MOCK_USER;else{t=(0,u.Fy)(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=n.mockUserToken.sub||n.mockUserToken.user_id;if(!o)throw new B(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new A(o)}e._authCredentials=new z(new U(t,r))}}(o,...e)}return o}function ac(e){if(e._terminated)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sc(e),e._firestoreClient}function sc(e){var t,r,n;const i=e._freezeSettings(),o=function(e,t,r,n){return new At(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,Bs(n.experimentalLongPollingOptions),n.useFetchStreams,n.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(r=i.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ks(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(dt.fromBase64String(e))}catch(e){throw new B(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new cc(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lc{constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let n=0;n<t.length;++n)if(0===t[n].length)throw new B(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new he(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uc{constructor(e){this._methodName=e}}class hc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}class fc{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}}const dc=/^__.*__$/;class pc{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new On(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nn(e,this.data,t,this.fieldTransforms)}}class gc{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new On(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw D(40011,{Ic:e})}}class vc{constructor(e,t,r,n,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new vc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.dc({path:r,Rc:!1});return n.Vc(e),n}mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.dc({path:r,Rc:!1});return n.Ec(),n}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Dc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(mc(this.Ic)&&dc.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class yc{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Xo(e)}bc(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vc({Ic:e,methodName:t,wc:r,path:he.emptyPath(),Rc:!1,yc:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wc(e){const t=e._freezeSettings(),r=Xo(e._databaseId);return new yc(e._databaseId,!!t.ignoreUndefinedProperties,r)}function bc(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(o.merge||o.mergeFields?2:0,t,r,i);kc("Data must be an object, but it was:",a,n);const s=Ic(n,a);let c,l;if(o.merge)c=new ht(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const n of o.mergeFields){const i=Nc(t,n,r);if(!a.contains(i))throw new B(F.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Pc(e,i)||e.push(i)}c=new ht(e),l=a.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=a.fieldTransforms;return new pc(new $t(s),c,l)}class Ec extends uc{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ec}}class _c extends uc{_toFieldTransform(e){return new bn(e.path,new fn)}isEqual(e){return e instanceof _c}}function Sc(e,t,r,n){const i=e.bc(1,t,r);kc("Data must be an object, but it was:",i,n);const o=[],a=$t.empty();it(n,(e,n)=>{const s=Rc(t,e,r);n=(0,u.Ku)(n);const c=i.mc(s);if(n instanceof Ec)o.push(s);else{const e=Tc(n,c);null!=e&&(o.push(s),a.set(s,e))}});const s=new ht(o);return new gc(a,s,i.fieldTransforms)}function Cc(e,t,r,n,i,o){const a=e.bc(1,t,r),s=[Nc(t,n,r)],c=[i];if(o.length%2!=0)throw new B(F.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let u=0;u<o.length;u+=2)s.push(Nc(t,o[u])),c.push(o[u+1]);const l=[],h=$t.empty();for(let d=s.length-1;d>=0;--d)if(!Pc(l,s[d])){const e=s[d];let t=c[d];t=(0,u.Ku)(t);const r=a.mc(e);if(t instanceof Ec)l.push(e);else{const n=Tc(t,r);null!=n&&(l.push(e),h.set(e,n))}}const f=new ht(l);return new gc(h,f,a.fieldTransforms)}function Ac(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Tc(r,e.bc(n?4:3,t))}function Tc(e,t){if(xc(e=(0,u.Ku)(e)))return kc("Unsupported field value:",t,e),Ic(e,t);if(e instanceof uc)return function(e,t){if(!mc(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const i of e){let e=Tc(i,t.fc(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,u.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=oe.fromDate(e);return{timestampValue:hi(t.serializer,r)}}if(e instanceof oe){const r=new oe(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hi(t.serializer,r)}}if(e instanceof hc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cc)return{bytesValue:fi(t.serializer,e._byteString)};if(e instanceof Zs){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.gc("Document reference is for database ".concat(n.projectId,"/").concat(n.database," but should be for database ").concat(r.projectId,"/").concat(r.database));return{referenceValue:gi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fc)return function(e,t){return{mapValue:{fields:{[xt]:{stringValue:Ot},[Rt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return on(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Hs(e)))}(e,t)}function Ic(e,t){const r={};return ot(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):it(e,(e,n)=>{const i=Tc(n,t.Ac(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function xc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof hc||e instanceof cc||e instanceof Zs||e instanceof uc||e instanceof fc)}function kc(e,t,r){if(!xc(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){const n=Hs(r);throw"an object"===n?t.gc(e+" a custom object"):t.gc(e+" "+n)}}function Nc(e,t,r){if((t=(0,u.Ku)(t))instanceof lc)return t._internalPath;if("string"==typeof t)return Rc(e,t);throw Dc("Field path arguments must be of type string or ",e,!1,void 0,r)}const Oc=new RegExp("[~\\*/\\[\\]]");function Rc(e,t,r){if(t.search(Oc)>=0)throw Dc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,r);try{return new lc(...t.split("."))._internalPath}catch(n){throw Dc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,r)}}function Dc(e,t,r,n,i){const o=n&&!n.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");r&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=" in field ".concat(n)),a&&(c+=" in document ".concat(i)),c+=")"),new B(F.INVALID_ARGUMENT,s+e+c)}function Pc(e,t){return e.some(e=>e.isEqual(t))}class Mc{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lc extends Mc{data(){return super.data()}}function Fc(e,t){return"string"==typeof t?Rc(e,t):t instanceof lc?t._internalPath:t._delegate._internalPath}function Bc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new B(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jc{}class Uc extends jc{}function Vc(e,t){let r=[];for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];t instanceof jc&&r.push(t),r=r.concat(i),function(e){const t=e.filter(e=>e instanceof Wc).length,r=e.filter(e=>e instanceof zc).length;if(t>1||t>0&&r>0)throw new B(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class zc extends Uc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zc(e,t,r)}_apply(e){const t=this._parse(e);return Kc(e._query,t),new Ys(e.firestore,e.converter,Mr(e._query,t))}_parse(e){const t=wc(e.firestore),r=function(e,t,r,n,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new B(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Xc(a,o);const t=[];for(const r of a)t.push(Gc(n,e,r));s={arrayValue:{values:t}}}else s=Gc(n,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xc(a,o),s=Ac(r,t,a,"in"===o||"not-in"===o);return ar.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function Hc(e,t,r){const n=t,i=Fc("where",e);return zc._create(i,n,r)}class Wc extends jc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wc(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const i of n)Kc(r,i),r=Mr(r,i)}(e._query,t),new Ys(e.firestore,e.converter,Mr(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gc(e,t,r){if("string"==typeof(r=(0,u.Ku)(r))){if(""===r)throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Or(t)&&-1!==r.indexOf("/"))throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(r,"' contains a '/' character."));const n=t.path.child(le.fromString(r));if(!fe.isDocumentKey(n))throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(n,"' is not because it has an odd number of segments (").concat(n.length,")."));return zt(e,new fe(n))}if(r instanceof Zs)return zt(e,r._key);throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Hs(r),"."))}function Xc(e,t){if(!Array.isArray(e)||0===e.length)throw new B(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Kc(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new B(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new B(F.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(r.toString(),"' filters."))}class qc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Dt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw D(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const r={};return it(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){var t,r,n;const i=null===(n=null===(r=null===(t=e.fields)||void 0===t?void 0:t[Rt].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map(e=>mt(e.doubleValue));return new fc(i)}convertGeoPoint(e){return new hc(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=St(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ct(e));default:return null}}convertTimestamp(e){const t=gt(e);return new oe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=le.fromString(e);M(Fi(r),9688,{name:e});const n=new It(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return n.isEqual(t)||N("Document ".concat(i," contains a document reference within a different database (").concat(n.projectId,"/").concat(n.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Yc(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $c extends Mc{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qc extends $c{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Jc{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Zc(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qc(this._firestore,this._userDataWriter,r.key,r,new Zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new B(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{const n=new Qc(e._firestore,e._userDataWriter,r.doc.key,r.doc,new Zc(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const n=new Qc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),o=r.indexOf(t.doc.key)),{type:el(t.type),doc:n,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function el(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return D(61501,{type:e})}}function tl(e){e=Ws(e,Zs);const t=Ws(e.firestore,ic);return Ls(ac(t),e._key).then(r=>ll(t,e,r))}class rl extends qc{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,t)}}function nl(e){e=Ws(e,Ys);const t=Ws(e.firestore,ic),r=ac(t),n=new rl(t);return Bc(e._query),Fs(r,e._query).then(r=>new Jc(t,n,e,r))}function il(e,t,r){e=Ws(e,Zs);const n=Ws(e.firestore,ic),i=Yc(e.converter,t,r);return cl(n,[bc(wc(n),"setDoc",e._key,i,null!==e.converter,r).toMutation(e._key,_n.none())])}function ol(e,t,r){e=Ws(e,Zs);const n=Ws(e.firestore,ic),i=wc(n);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return o="string"==typeof(t=(0,u.Ku)(t))||t instanceof lc?Cc(i,"updateDoc",e._key,t,r,s):Sc(i,"updateDoc",e._key,t),cl(n,[o.toMutation(e._key,_n.exists(!0))])}function al(e){return cl(Ws(e.firestore,ic),[new Mn(e._key,_n.none())])}function sl(e,t){const r=Ws(e.firestore,ic),n=Js(e),i=Yc(e.converter,t);return cl(r,[bc(wc(e.firestore),"addDoc",n._key,i,null!==e.converter,{}).toMutation(n._key,_n.exists(!1))]).then(()=>n)}function cl(e,t){return function(e,t){const r=new j;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,r){const n=Ss(e);try{const e=await function(e,t){const r=L(e),n=oe.now(),i=t.reduce((e,t)=>e.add(t.key),tn());let o,a;return r.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Xr(),c=tn();return r.Bs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(c=c.add(e))})}).next(()=>r.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=xn(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new On(e.key,t,Qt(t.value.mapValue),_n.exists(!0)))}return r.mutationQueue.addMutationBatch(e,n,a,t)}).next(t=>{a=t;const n=t.applyToLocalDocumentSet(o,c);return r.documentOverlayCache.saveOverlays(e,t.batchId,n)})}).then(()=>({batchId:a.batchId,changes:Yr(o)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,r){let n=e.Au[e.currentUser.toKey()];n||(n=new at(Q)),n=n.insert(t,r),e.Au[e.currentUser.toKey()]=n}(n,e.batchId,r),await ws(n,e.changes),await wa(n.remoteStore)}catch(e){const t=Da(e,"Failed to persist write");r.reject(t)}}(await Ps(e),t,r)),r.promise}(ac(e),t)}function ll(e,t,r){const n=r.docs.get(t._key),i=new rl(e);return new $c(e,i,t._key,n,new Zc(r.hasPendingWrites,r.fromCache),t.converter)}function ul(){return new _c("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){T=e}(i.MF),(0,i.om)(new c.uA("firestore",(e,r)=>{let{instanceIdentifier:n,options:i}=r;const o=e.getProvider("app").getImmediate(),a=new ic(new H(e.getProvider("auth-internal")),new K(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new B(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new It(e.options.projectId,t)}(o,n),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(S,C,e),(0,i.KO)(S,C,"esm2017")}();var hl=r(799);const fl="@firebase/installations",dl="0.6.17",pl=1e4,gl="w:".concat(dl),ml="FIS_v2",vl=36e5,yl={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wl=new u.FA("installations","Installations",yl);function bl(e){return e instanceof u.g&&e.code.includes("request-failed")}function El(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function _l(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Sl(e,t){const r=(await t.json()).error;return wl.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Cl(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Al(e,t){let{refreshToken:r}=t;const n=Cl(e);return n.append("Authorization",function(e){return"".concat(ml," ").concat(e)}(r)),n}async function Tl(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Il(e){return new Promise(t=>{setTimeout(t,e)})}const xl=/^[cdef][\w-]{21}$/;function kl(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(r=e,btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_"));var r;return t.substr(0,22)}(e);return xl.test(t)?t:""}catch(ly){return""}}function Nl(e){return"".concat(e.appName,"!").concat(e.appId)}const Ol=new Map;function Rl(e,t){const r=Nl(e);Dl(r,t),function(e,t){const r=Ml();r&&r.postMessage({key:e,fid:t});Ll()}(r,t)}function Dl(e,t){const r=Ol.get(e);if(r)for(const n of r)n(t)}let Pl=null;function Ml(){return!Pl&&"BroadcastChannel"in self&&(Pl=new BroadcastChannel("[Firebase] FID Change"),Pl.onmessage=e=>{Dl(e.data.key,e.data.fid)}),Pl}function Ll(){0===Ol.size&&Pl&&(Pl.close(),Pl=null)}const Fl="firebase-installations-store";let Bl=null;function jl(){return Bl||(Bl=(0,hl.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Fl)}})),Bl}async function Ul(e,t){const r=Nl(e),n=(await jl()).transaction(Fl,"readwrite"),i=n.objectStore(Fl),o=await i.get(r);return await i.put(t,r),await n.done,o&&o.fid===t.fid||Rl(e,t.fid),t}async function Vl(e){const t=Nl(e),r=(await jl()).transaction(Fl,"readwrite");await r.objectStore(Fl).delete(t),await r.done}async function zl(e,t){const r=Nl(e),n=(await jl()).transaction(Fl,"readwrite"),i=n.objectStore(Fl),o=await i.get(r),a=t(o);return void 0===a?await i.delete(r):await i.put(a,r),await n.done,!a||o&&o.fid===a.fid||Rl(e,a.fid),a}async function Hl(e){let t;const r=await zl(e.appConfig,r=>{const n=function(e){const t=e||{fid:kl(),registrationStatus:0};return Xl(t)}(r),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(wl.create("app-offline"))}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const r=await async function(e,t){let{appConfig:r,heartbeatServiceProvider:n}=e,{fid:i}=t;const o=El(r),a=Cl(r),s=n.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const c={fid:i,authVersion:ml,appId:r.appId,sdkVersion:gl},l={method:"POST",headers:a,body:JSON.stringify(c)},u=await Tl(()=>fetch(o,l));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:_l(e.authToken)}}throw await Sl("Create Installation",u)}(e,t);return Ul(e.appConfig,r)}catch(r){throw bl(r)&&409===r.customData.serverCode?await Vl(e.appConfig):await Ul(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Wl(e)}:{installationEntry:t}}(e,n);return t=i.registrationPromise,i.installationEntry});return""===r.fid?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}async function Wl(e){let t=await Gl(e.appConfig);for(;1===t.registrationStatus;)await Il(100),t=await Gl(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:r}=await Hl(e);return r||t}return t}function Gl(e){return zl(e,e=>{if(!e)throw wl.create("installation-not-found");return Xl(e)})}function Xl(e){return 1===(t=e).registrationStatus&&t.registrationTime+pl<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Kl(e,t){let{appConfig:r,heartbeatServiceProvider:n}=e;const i=function(e,t){let{fid:r}=t;return"".concat(El(e),"/").concat(r,"/authTokens:generate")}(r,t),o=Al(r,t),a=n.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:gl,appId:r.appId}},c={method:"POST",headers:o,body:JSON.stringify(s)},l=await Tl(()=>fetch(i,c));if(l.ok){return _l(await l.json())}throw await Sl("Generate Auth Token",l)}async function ql(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await zl(e.appConfig,n=>{if(!Zl(n))throw wl.create("not-registered");const i=n.authToken;if(!r&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+vl}(e)}(i))return n;if(1===i.requestStatus)return t=async function(e,t){let r=await Yl(e.appConfig);for(;1===r.authToken.requestStatus;)await Il(100),r=await Yl(e.appConfig);const n=r.authToken;return 0===n.requestStatus?ql(e,t):n}(e,r),n;{if(!navigator.onLine)throw wl.create("app-offline");const r=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(n);return t=async function(e,t){try{const r=await Kl(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await Ul(e.appConfig,n),r}catch(r){if(!bl(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ul(e.appConfig,r)}else await Vl(e.appConfig);throw r}}(e,r),r}});return t?await t:n.authToken}function Yl(e){return zl(e,e=>{if(!Zl(e))throw wl.create("not-registered");const t=e.authToken;return 1===(r=t).requestStatus&&r.requestTime+pl<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var r})}function Zl(e){return void 0!==e&&2===e.registrationStatus}async function $l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=e;await async function(e){const{registrationPromise:t}=await Hl(e);t&&await t}(r);return(await ql(r,t)).token}function Ql(e){return wl.create("missing-app-config-values",{valueName:e})}const Jl="installations",eu=e=>{const t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw Ql("App Configuration");if(!e.name)throw Ql("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Ql(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:(0,i.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},tu=e=>{const t=e.getProvider("app").getImmediate(),r=(0,i.j6)(t,Jl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:r,registrationPromise:n}=await Hl(t);return n?n.catch(console.error):ql(t).catch(console.error),r.fid}(r),getToken:e=>$l(r,e)}};(0,i.om)(new c.uA(Jl,eu,"PUBLIC")),(0,i.om)(new c.uA("installations-internal",tu,"PRIVATE")),(0,i.KO)(fl,dl),(0,i.KO)(fl,dl,"esm2017");const ru="analytics",nu="https://www.googletagmanager.com/gtag/js",iu=new l.Vy("@firebase/analytics"),ou={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},au=new u.FA("analytics","Analytics",ou);function su(e){if(!e.startsWith(nu)){const t=au.create("invalid-gtag-resource",{gtagURL:e});return iu.warn(t.message),""}return e}function cu(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function lu(e,t){const r=function(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}("firebase-js-sdk-policy",{createScriptURL:su}),n=document.createElement("script"),i="".concat(nu,"?l=").concat(e,"&id=").concat(t);n.src=r?null===r||void 0===r?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function uu(e,t,r,n){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[n,i]=a;await async function(e,t,r,n,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const n=await cu(r);for(const r of e){const e=n.find(e=>e.measurementId===r),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",n,i||{})}catch(o){iu.error(o)}}(e,t,r,n,i)}else if("config"===i){const[i,o]=a;await async function(e,t,r,n,i,o){const a=n[i];try{if(a)await t[a];else{const e=(await cu(r)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(s){iu.error(s)}e("config",i,o)}(e,t,r,n,i,o)}else if("consent"===i){const[t,r]=a;e("consent",t,r)}else if("get"===i){const[t,r,n]=a;e("get",t,r,n)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(c){iu.error(c)}}}const hu=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fu(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function du(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hu,r=arguments.length>2?arguments[2]:void 0;const{appId:n,apiKey:i,measurementId:o}=e.options;if(!n)throw au.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:n};throw au.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new gu;return setTimeout(async()=>{s.abort()},void 0!==r?r:6e4),pu({appId:n,apiKey:i,measurementId:o},a,s,t)}async function pu(e,t,r){let{throttleEndTimeMillis:n,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hu;var a;const{appId:s,measurementId:c}=e;try{await function(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(o),n(au.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,n)}catch(l){if(c)return iu.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===l||void 0===l?void 0:l.message,"]")),{appId:s,measurementId:c};throw l}try{const t=await async function(e){var t;const{appId:r,apiKey:n}=e,i={method:"GET",headers:fu(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",r),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const r=await a.json();(null===(t=r.error)||void 0===t?void 0:t.message)&&(e=r.error.message)}catch(s){}throw au.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(l){const t=l;if(!function(e){if(!(e instanceof u.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(s),c)return iu.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:c};throw l}const n=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?(0,u.p9)(i,o.intervalMillis,30):(0,u.p9)(i,o.intervalMillis),h={throttleEndTimeMillis:Date.now()+n,backoffCount:i+1};return o.setThrottleMetadata(s,h),iu.debug("Calling attemptFetch again in ".concat(n," millis")),pu(e,h,r,o)}}class gu{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let mu,vu;function yu(e){vu=e}function wu(e){mu=e}async function bu(e,t,r,n,i,o,a){var s;const c=du(e);c.then(t=>{r[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&iu.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>iu.error(e)),t.push(c);const l=async function(){if(!(0,u.zW)())return iu.warn(au.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,u.eX)()}catch(e){return iu.warn(au.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?n.getId():void 0),[h,f]=await Promise.all([c,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(nu)&&r.src.includes(e))return r;return null})(o)||lu(o,h.measurementId),vu&&(i("consent","default",vu),yu(void 0)),i("js",new Date);const d=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return d.origin="firebase",d.update=!0,null!=f&&(d.firebase_id=f),i("config",h.measurementId,d),mu&&(i("set",mu),wu(void 0)),h.measurementId}class Eu{constructor(e){this.app=e}_delete(){return delete _u[this.app.options.appId],Promise.resolve()}}let _u={},Su=[];const Cu={};let Au,Tu,Iu="dataLayer",xu="gtag",ku=!1;function Nu(e,t,r){!function(){const e=[];if((0,u.sr)()&&e.push("This is a browser extension environment."),(0,u.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),r=au.create("invalid-analytics-context",{errorInfo:t});iu.warn(r.message)}}();const n=e.options.appId;if(!n)throw au.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw au.create("no-api-key");iu.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=_u[n])throw au.create("already-exists",{id:n});if(!ku){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Iu);const{wrappedGtag:e,gtagCore:t}=function(e,t,r,n,i){let o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window[n].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=uu(o,e,t,r),{gtagCore:o,wrappedGtag:window[i]}}(_u,Su,Cu,Iu,xu);Tu=e,Au=t,ku=!0}_u[n]=bu(e,Su,Cu,t,Au,Iu,r);return new Eu(e)}function Ou(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.Sx)();e=(0,u.Ku)(e);const t=(0,i.j6)(e,ru);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,i.j6)(e,ru);if(r.isInitialized()){const e=r.getImmediate();if((0,u.bD)(t,r.getOptions()))return e;throw au.create("already-initialized")}const n=r.initialize({options:t});return n}(e)}function Ru(e,t,r,n){e=(0,u.Ku)(e),async function(e,t,r,n,i){if(i&&i.global)e("event",r,n);else{const i=await t;e("event",r,Object.assign(Object.assign({},n),{send_to:i}))}}(Tu,_u[e.app.options.appId],t,r,n).catch(e=>iu.error(e))}const Du="@firebase/analytics",Pu="0.10.16";function Mu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(0,i.om)(new c.uA(ru,(e,t)=>{let{options:r}=t;return Nu(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),r)},"PUBLIC")),(0,i.om)(new c.uA("analytics-internal",function(e){try{const t=e.getProvider(ru).getImmediate();return{logEvent:(e,r,n)=>Ru(t,e,r,n)}}catch(t){throw au.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,i.KO)(Du,Pu),(0,i.KO)(Du,Pu,"esm2017");const Lu=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Fu=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var Bu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ju=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Uu=(0,e.forwardRef)((t,r)=>{let{color:i="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:c="",children:l,iconNode:u}=t,h=Mu(t,ju);return(0,e.createElement)("svg",(0,n.A)((0,n.A)((0,n.A)({ref:r},Bu),{},{width:o,height:o,stroke:i,strokeWidth:s?24*Number(a)/Number(o):a,className:Fu("lucide",c)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...u.map(t=>{let[r,n]=t;return(0,e.createElement)(r,n)}),...Array.isArray(l)?l:[l]])}),Vu=["className"],zu=(t,r)=>{const i=(0,e.forwardRef)((i,o)=>{let{className:a}=i,s=Mu(i,Vu);return(0,e.createElement)(Uu,(0,n.A)({ref:o,iconNode:r,className:Fu("lucide-".concat((c=Lu(t),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(t),a)},s));var c});return i.displayName=Lu(t),i},Hu=zu("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Wu=zu("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Gu=r(579);const Xu=e=>{let{userRole:t,onLogout:r,onGoHome:n,onViewAccount:i,logoUrl:o,appName:a}=e;return(0,Gu.jsxs)("nav",{className:"bg-white shadow-md p-4 flex justify-between items-center",children:[(0,Gu.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gu.jsx)("img",{src:o,alt:"Logo",className:"h-10 w-10 rounded-full"}),(0,Gu.jsx)("button",{onClick:n,className:"text-xl font-bold text-gray-800 hover:text-blue-600 transition-colors duration-200",children:a||"My Library"})]}),(0,Gu.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gu.jsxs)("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Gu.jsx)(Hu,{size:20}),(0,Gu.jsx)("span",{children:"My Account"})]}),(0,Gu.jsxs)("button",{onClick:r,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,Gu.jsx)(Wu,{size:20}),(0,Gu.jsx)("span",{children:"Logout"})]})]})]})},Ku=e=>{let{text:t="Loading...",logoUrl:r}=e;return(0,Gu.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,Gu.jsx)("img",{src:r,alt:"Logo",className:"h-20 w-20 mb-4"}),(0,Gu.jsx)("p",{children:t})]})};r(950);var qu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yu=e.createContext&&e.createContext(qu),Zu=["attr","size","title"];function $u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(this,arguments)}function Ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(r),!0).forEach(function(t){th(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ju(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function th(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rh(t){return t&&t.map((t,r)=>e.createElement(t.tag,eh({key:r},t.attr),rh(t.child)))}function nh(t){return r=>e.createElement(ih,Qu({attr:eh({},t.attr)},r),rh(t.child))}function ih(t){var r=r=>{var n,{attr:i,size:o,title:a}=t,s=$u(t,Zu),c=o||r.size||"1em";return r.className&&(n=r.className),t.className&&(n=(n?n+" ":"")+t.className),e.createElement("svg",Qu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,s,{className:n,style:eh(eh({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Yu?e.createElement(Yu.Consumer,null,e=>r(e)):r(qu)}function oh(e){return nh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function ah(e){return nh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}console.log("BookList render");const sh=t=>{let{books:r,onBookClick:n,onEditBook:i,onFetchAllCovers:o}=t;const[a,s]=(0,e.useState)("grid"),[c,l]=(0,e.useState)(!1),{currentUser:u,isAuthReady:h}=QR(),[f,d]=(0,e.useState)(""),[p,g]=(0,e.useState)(null),[m,v]=(0,e.useState)({show:!1,author:null}),[y,w]=(0,e.useState)(!1),b=Array.from(new Set(r.flatMap(e=>e.tags?e.tags.split(",").map(e=>e.trim()).filter(Boolean):[]))),E=r.filter(e=>{const t=f.trim().toLowerCase(),r=!t||e.title&&e.title.toLowerCase().includes(t)||e.author&&e.author.toLowerCase().includes(t)||e.genre&&e.genre.toLowerCase().includes(t),n=!p||e.tags&&e.tags.split(",").map(e=>e.trim()).includes(p);return r&&n}),_=m.author?r.filter(e=>e.author&&e.author.toLowerCase()===m.author.toLowerCase()):[];return(0,e.useEffect)(()=>{if(!y)return;const e=e=>{e.target.closest(".tag-selector-dropdown")||w(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[y]),(0,Gu.jsxs)("div",{style:{padding:40,background:"#f3f4f6",minHeight:"100vh"},children:[b.length>0&&(0,Gu.jsx)("div",{style:{marginBottom:16,position:"relative",minHeight:32},children:y?(0,Gu.jsxs)("div",{style:{position:"absolute",zIndex:10,background:"#fff",border:"1px solid #cbd5e1",borderRadius:10,boxShadow:"0 4px 24px rgba(0,0,0,0.10)",padding:12,display:"flex",flexWrap:"wrap",gap:8,minWidth:220},tabIndex:-1,onBlur:()=>w(!1),children:[(0,Gu.jsx)("button",{onClick:()=>{g(null),w(!1)},style:{background:p?"#e0e7ff":"#3b82f6",color:p?"#3730a3":"#fff",border:"none",borderRadius:8,padding:"4px 12px",fontWeight:600,cursor:"pointer"},children:"All"}),b.map(e=>(0,Gu.jsx)("button",{onClick:()=>{g(e),w(!1)},style:{background:p===e?"#3b82f6":"#e0e7ff",color:p===e?"#fff":"#3730a3",border:"none",borderRadius:8,padding:"4px 12px",fontWeight:600,cursor:"pointer"},children:e},e))]}):(0,Gu.jsx)("button",{onClick:()=>w(!0),style:{background:"#e0e7ff",color:"#3730a3",border:"none",borderRadius:8,padding:"4px 16px",fontWeight:600,cursor:"pointer",minWidth:120},children:p?"Tag: ".concat(p):"Filter by tag"})}),(0,Gu.jsx)("div",{style:{maxWidth:400,margin:"0 auto 24px auto",display:"flex",alignItems:"center",gap:12},children:(0,Gu.jsx)("input",{type:"text",value:f,onChange:e=>d(e.target.value),placeholder:"Search by title, author, or genre...",style:{width:"100%",padding:"10px 16px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16,outline:"none",boxShadow:"0 1px 4px rgba(59,130,246,0.06)",background:"#fff"}})}),(0,Gu.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:24,gap:8},children:[(0,Gu.jsx)("button",{onClick:()=>s("grid"===a?"list":"grid"),style:{background:"#fff",border:"1px solid #cbd5e1",borderRadius:8,padding:"8px 18px",fontWeight:600,color:"#3b82f6",cursor:"pointer",boxShadow:"0 2px 8px rgba(59,130,246,0.06)",marginRight:8,transition:"background 0.2s, color 0.2s"},children:"grid"===a?"List View":"Grid View"}),(0,Gu.jsx)("button",{onClick:o,style:{background:"#e0e7ff",color:"#3730a3",border:"none",borderRadius:8,padding:"8px 18px",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(59,130,246,0.06)",marginRight:8,transition:"background 0.2s, color 0.2s"},title:"Try to fetch covers for all books",children:"Fetch Covers"}),(0,Gu.jsxs)("button",{onClick:()=>{h&&l(e=>!e)},disabled:!h,style:{background:c?"#fbbf24":"#fff",border:"1px solid #cbd5e1",borderRadius:8,padding:"8px 12px",fontWeight:600,color:c?"#fff":"#64748b",cursor:h?"pointer":"not-allowed",boxShadow:"0 2px 8px rgba(59,130,246,0.06)",transition:"background 0.2s, color 0.2s",display:"flex",alignItems:"center",gap:6,opacity:h?1:.6},title:h?c?"Edit Mode: Click to lock (view only)":"View Mode: Click to unlock (edit on click)":"Checking authentication...",children:[h?c?(0,Gu.jsx)(ah,{size:18}):(0,Gu.jsx)(oh,{size:18}):(0,Gu.jsx)("span",{className:"animate-spin",style:{display:"inline-block",width:18,height:18,border:"2px solid #cbd5e1",borderTop:"2px solid #3b82f6",borderRadius:"50%"}}),c&&h?"Edit Unlocked":"Edit Locked"]})]}),"grid"===a?(0,Gu.jsx)("div",{className:"grid gap-7 justify-center items-stretch",style:{gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",willChange:"transform, opacity"},children:E.map((e,t)=>(0,Gu.jsx)("div",{className:"relative group",style:{"--fade-delay":"".concat(60*t,"ms")},children:(0,Gu.jsx)("div",{className:"cursor-pointer transition-all duration-300 rounded-2xl overflow-visible bg-gradient-to-br from-white via-blue-50 to-blue-100 shadow-lg border border-slate-100 hover:scale-105 hover:ring-2 hover:ring-blue-300 book-card-hover-group flex flex-col items-center relative",style:{boxShadow:"0 6px 24px rgba(59,130,246,0.10)",border:"none",padding:18,position:"relative",overflow:"visible",width:"100%",height:"100%",minWidth:0,maxWidth:"100%"},onClick:t=>{c&&"admin"===(null===u||void 0===u?void 0:u.role)?(console.log("[BookList] Book clicked in EDIT MODE:",e),i(e)):(console.log("[BookList] Book clicked in VIEW MODE:",e),n(e))},onContextMenu:t=>{console.log("onContextMenu fired",e),"admin"===(null===u||void 0===u?void 0:u.role)?(t.preventDefault(),t.stopPropagation(),console.log("ADMIN RIGHT CLICK - edit",e),t.currentTarget?(t.currentTarget.style.border="2px solid red",setTimeout(()=>{t.currentTarget&&(t.currentTarget.style.border="")},300)):console.log("currentTarget is null"),i(e)):t.preventDefault()},children:(0,Gu.jsxs)("div",{style:{width:"100%",height:"100%"},children:[(0,Gu.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,Gu.jsx)("img",{src:e.coverUrl||"https://placehold.co/120x180/3b82f6/ffffff?text=\ud83d\udcda",alt:"Cover of ".concat(e.title||"Book"),style:{width:120,height:180,objectFit:"cover",borderRadius:10,marginBottom:16,boxShadow:"0 2px 8px rgba(59,130,246,0.08)"},onError:e=>{e.target.src="https://placehold.co/120x180/3b82f6/ffffff?text=\ud83d\udcda"}})}),(0,Gu.jsx)("div",{style:{fontWeight:700,fontSize:17,marginBottom:6,textAlign:"center",color:"#1e293b",minHeight:44},children:e.title||"Untitled Book"}),(0,Gu.jsx)("div",{style:{color:"#64748b",fontSize:14,marginBottom:8,textAlign:"center",minHeight:20},children:e.author?(0,Gu.jsx)("span",{style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},onClick:t=>{t.stopPropagation(),v({show:!0,author:e.author})},title:"See more about ".concat(e.author),children:e.author}):"Unknown Author"}),e.genre&&(0,Gu.jsx)("span",{style:{display:"inline-block",background:"#e0e7ff",color:"#3730a3",borderRadius:8,fontSize:12,padding:"2px 10px",marginBottom:10,fontWeight:500},children:e.genre})]})})},e.id))}):(0,Gu.jsx)("div",{style:{maxWidth:900,margin:"0 auto"},children:E.map((e,t)=>(0,Gu.jsx)("div",{className:"relative group",style:{"--fade-delay":"".concat(60*t,"ms")},children:(0,Gu.jsxs)("div",{className:"flex items-center bg-white rounded-2xl shadow-lg transition-all duration-300 cursor-pointer relative",style:{borderRadius:14,boxShadow:"0 2px 8px rgba(0,0,0,0.06)",marginBottom:18,padding:16,border:"none",position:"relative",display:"flex",alignItems:"center",transition:"box-shadow 0.2s, transform 0.2s"},onClick:t=>{c&&"admin"===(null===u||void 0===u?void 0:u.role)?(console.log("[BookList] Book clicked in EDIT MODE:",e),i(e)):(console.log("[BookList] Book clicked in VIEW MODE:",e),n(e))},onContextMenu:t=>{console.log("onContextMenu fired",e),"admin"===(null===u||void 0===u?void 0:u.role)?(t.preventDefault(),t.stopPropagation(),console.log("ADMIN RIGHT CLICK - edit",e),t.currentTarget?(t.currentTarget.style.border="2px solid red",setTimeout(()=>{t.currentTarget&&(t.currentTarget.style.border="")},300)):console.log("currentTarget is null"),i(e)):t.preventDefault()},children:[(0,Gu.jsx)("img",{src:e.coverUrl||"https://placehold.co/60x90/3b82f6/ffffff?text=\ud83d\udcda",alt:"Cover of ".concat(e.title||"Book"),style:{width:60,height:90,objectFit:"cover",borderRadius:6,marginRight:18,boxShadow:"0 1px 4px rgba(59,130,246,0.08)"},onError:e=>{e.target.src="https://placehold.co/60x90/3b82f6/ffffff?text=\ud83d\udcda"}}),(0,Gu.jsxs)("div",{style:{flex:1},children:[(0,Gu.jsx)("div",{style:{fontWeight:700,fontSize:16,color:"#1e293b",marginBottom:2},children:e.title||"Untitled Book"}),(0,Gu.jsx)("div",{style:{color:"#64748b",fontSize:13,marginBottom:2},children:e.author?(0,Gu.jsx)("span",{style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},onClick:t=>{t.stopPropagation(),v({show:!0,author:e.author})},title:"See more about ".concat(e.author),children:e.author}):"Unknown Author"}),e.genre&&(0,Gu.jsx)("span",{style:{display:"inline-block",background:"#e0e7ff",color:"#3730a3",borderRadius:8,fontSize:12,padding:"2px 10px",marginTop:2,fontWeight:500},children:e.genre})]}),(0,Gu.jsx)("span",{style:{background:e.available>0?"#10b981":"#ef4444",color:"#fff",borderRadius:10,fontSize:12,padding:"2px 10px",fontWeight:600,marginLeft:16,minWidth:60,textAlign:"center"},children:e.available>0?"Available":"Out"})]})},e.id))}),m.show&&(0,Gu.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>v({show:!1,author:null}),children:(0,Gu.jsxs)("div",{style:{background:"#fff",borderRadius:12,padding:32,minWidth:320,maxWidth:480,boxShadow:"0 4px 24px rgba(0,0,0,0.12)"},onClick:e=>e.stopPropagation(),children:[(0,Gu.jsx)("h3",{style:{fontSize:22,fontWeight:700,marginBottom:8,color:"#1e293b"},children:m.author}),(0,Gu.jsx)("div",{style:{color:"#64748b",marginBottom:16},children:"Books by this author in your library:"}),(0,Gu.jsx)("ul",{style:{marginBottom:16},children:_.length>0?_.map(e=>(0,Gu.jsxs)("li",{style:{marginBottom:6},children:[(0,Gu.jsx)("span",{style:{fontWeight:600},children:e.title})," ",(0,Gu.jsxs)("span",{style:{color:"#64748b",fontSize:13},children:["(",e.isbn,")"]})]},e.id)):(0,Gu.jsx)("li",{style:{color:"#64748b"},children:"No other books found."})}),(0,Gu.jsx)("button",{onClick:()=>v({show:!1,author:null}),style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:8,padding:"8px 18px",fontWeight:600,cursor:"pointer"},children:"Close"})]})})]})},ch=e.memo(sh),lh=e=>{let{users:t,loading:r,onEditUser:n,onDeleteUser:i}=e;return(0,Gu.jsxs)("div",{className:"space-y-6",children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gu.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),(0,Gu.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add User"})]}),(0,Gu.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:r?(0,Gu.jsxs)("div",{className:"text-center py-8",children:[(0,Gu.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),(0,Gu.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):t.length>0?(0,Gu.jsxs)("table",{className:"w-full",children:[(0,Gu.jsx)("thead",{children:(0,Gu.jsxs)("tr",{className:"border-b",children:[(0,Gu.jsx)("th",{className:"text-left py-2",children:"Name"}),(0,Gu.jsx)("th",{className:"text-left py-2",children:"Email"}),(0,Gu.jsx)("th",{className:"text-left py-2",children:"Role"}),(0,Gu.jsx)("th",{className:"text-left py-2",children:"Status"}),(0,Gu.jsx)("th",{className:"text-left py-2",children:"Actions"})]})}),(0,Gu.jsx)("tbody",{children:t.map(e=>(0,Gu.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Gu.jsx)("td",{className:"py-2",children:e.name||e.displayName||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:e.email||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(0,Gu.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("admin"===e.role?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:"admin"===e.role?"Administrator":"Patron"})}),(0,Gu.jsx)("td",{className:"py-2",children:(0,Gu.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Active"})}),(0,Gu.jsxs)("td",{className:"py-2",children:[(0,Gu.jsx)("button",{onClick:()=>n(e),className:"text-blue-600 hover:text-blue-800 text-sm mr-2",children:"Edit"}),(0,Gu.jsx)("button",{onClick:()=>i(e),className:"text-red-600 hover:text-red-800 text-sm ".concat(e.isLocked?"opacity-50 cursor-not-allowed":""),disabled:!!e.isLocked,title:e.isLocked?"Cannot delete a locked account. Unlock the account first.":"Delete",children:"Delete"})]})]},e.id))})]}):(0,Gu.jsxs)("div",{className:"text-center py-8",children:[(0,Gu.jsx)("p",{className:"text-gray-500 mb-4",children:"No users found."}),(0,Gu.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Add First User"})]})})]})},uh=e=>{if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};function hh(e,t){void 0===t&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var fh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dh=function(e){function t(t,r){var n=this.constructor,i=e.call(this,t,r)||this;return Object.defineProperty(i,"name",{value:n.name,enumerable:!1,configurable:!0}),function(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}(i,n.prototype),hh(i),i}return fh(t,e),t}(Error);var ph=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const gh=function(e){function t(t){void 0===t&&(t=void 0);var r=e.call(this,t)||this;return r.message=t,r}return ph(t,e),t.prototype.getKind=function(){return this.constructor.kind},t.kind="Exception",t}(dh);var mh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const vh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mh(t,e),t.kind="ArgumentException",t}(gh);var yh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yh(t,e),t.kind="IllegalArgumentException",t}(gh);const bh=function(){function e(e){if(this.binarizer=e,null===e)throw new wh("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},e.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,r,n,i){var o=this.binarizer.getLuminanceSource().crop(t,r,n,i);return new e(this.binarizer.createBinarizer(o))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(e){return""}},e}();var Eh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const _h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Eh(t,e),t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(gh);const Sh=function(){function e(e){this.source=e}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}();var Ch=function(){function e(){}return e.arraycopy=function(e,t,r,n,i){for(;i--;)r[n++]=e[t++]},e.currentTimeMillis=function(){return Date.now()},e}();const Ah=Ch;var Th=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.kind="IndexOutOfBoundsException",t}(gh);var xh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const kh=function(e){function t(t,r){void 0===t&&(t=void 0),void 0===r&&(r=void 0);var n=e.call(this,r)||this;return n.index=t,n.message=r,n}return xh(t,e),t.kind="ArrayIndexOutOfBoundsException",t}(Ih);var Nh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oh=function(){function e(){}return e.fill=function(e,t){for(var r=0,n=e.length;r<n;r++)e[r]=t},e.fillWithin=function(t,r,n,i){e.rangeCheck(t.length,r,n);for(var o=r;o<n;o++)t[o]=i},e.rangeCheck=function(e,t,r){if(t>r)throw new wh("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new kh(t);if(r>e)throw new kh(r)},e.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.create=function(e,t,r){return Array.from({length:e}).map(function(e){return Array.from({length:t}).fill(r)})},e.createInt32Array=function(e,t,r){return Array.from({length:e}).map(function(e){return Int32Array.from({length:t}).fill(r)})},e.equals=function(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},e.hashCode=function(e){var t,r;if(null===e)return 0;var n=1;try{for(var i=Nh(e),o=i.next();!o.done;o=i.next()){n=31*n+o.value}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},e.copyOf=function(e,t){return e.slice(0,t)},e.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},e.copyOfRange=function(e,t,r){var n=r-t,i=new Int32Array(n);return Ah.arraycopy(e,t,i,0,n),i},e.binarySearch=function(t,r,n){void 0===n&&(n=e.numberComparator);for(var i=0,o=t.length-1;i<=o;){var a=o+i>>1,s=n(r,t[a]);if(s>0)i=a+1;else{if(!(s<0))return a;o=a-1}}return-i-1},e.numberComparator=function(e,t){return e-t},e}();const Rh=Oh;var Dh=function(){function e(){}return e.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var r=31;return 0!==(t=e<<16)&&(r-=16,e=t),0!==(t=e<<8)&&(r-=8,e=t),0!==(t=e<<4)&&(r-=4,e=t),0!==(t=e<<2)&&(r-=2,e=t),r-(e<<1>>>31)},e.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31},e.toHexString=function(e){return e.toString(16)},e.toBinaryString=function(e){return String(parseInt(String(e),2))},e.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},e.truncDivision=function(e,t){return Math.trunc(e/t)},e.parseInt=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}();const Ph=Dh;var Mh=function(){function e(t,r){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=void 0===r||null===r?e.makeArray(t):r)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var r=e.makeArray(t);Ah.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},e.prototype.get=function(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))},e.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},e.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},e.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,n=Math.floor(e/32),i=r[n];i&=~((1<<(31&e))-1);for(var o=r.length;0===i;){if(++n===o)return t;i=r[n]}var a=32*n+Ph.numberOfTrailingZeros(i);return a>t?t:a},e.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,n=Math.floor(e/32),i=~r[n];i&=~((1<<(31&e))-1);for(var o=r.length;0===i;){if(++n===o)return t;i=~r[n]}var a=32*n+Ph.numberOfTrailingZeros(i);return a>t?t:a},e.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},e.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new wh;if(t!==e){t--;for(var r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits,o=r;o<=n;o++){var a=(2<<(o<n?31:31&t))-(1<<(o>r?0:31&e));i[o]|=a}}},e.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},e.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new wh;if(t===e)return!0;t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits,a=n;a<=i;a++){var s=(2<<(a<i?31:31&t))-(1<<(a>n?0:31&e))&4294967295;if((o[a]&s)!==(r?s:0))return!1}return!0},e.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},e.prototype.appendBits=function(e,t){if(t<0||t>32)throw new wh("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit(1===(e>>r-1&1))},e.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},e.prototype.xor=function(e){if(this.size!==e.size)throw new wh("Sizes don't match");for(var t=this.bits,r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]},e.prototype.toBytes=function(e,t,r,n){for(var i=0;i<n;i++){for(var o=0,a=0;a<8;a++)this.get(e)&&(o|=1<<7-a),e++;t[r+i]=o}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits,i=0;i<r;i++){var o=n[i];o=(o=(o=(o=(o=o>>1&1431655765|(1431655765&o)<<1)>>2&858993459|(858993459&o)<<2)>>4&252645135|(252645135&o)<<4)>>8&16711935|(16711935&o)<<8)>>16&65535|(65535&o)<<16,e[t-i]=o}if(this.size!==32*r){var a=32*r-this.size,s=e[0]>>>a;for(i=1;i<r;i++){var c=e[i];s|=c<<32-a,e[i-1]=s,s=c>>>a}e[r-1]=s}this.bits=e},e.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.size===r.size&&Rh.equals(this.bits,r.bits)},e.prototype.hashCode=function(){return 31*this.size+Rh.hashCode(this.bits)},e.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},e}();const Lh=Mh;var Fh;!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"}(Fh||(Fh={}));const Bh=Fh;var jh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Uh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jh(t,e),t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(gh);var Vh,zh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(Vh||(Vh={}));var Hh=function(){function e(t,r,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=t,this.name=n,this.values="number"===typeof r?Int32Array.from([r]):r,this.otherEncodingNames=a,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(n,this);for(var c=this.values,l=0,u=c.length;l!==u;l++){var h=c[l];e.VALUES_TO_ECI.set(h,this)}try{for(var f=zh(a),d=f.next();!d.done;d=f.next()){var p=d.value;e.NAME_TO_ECI.set(p,this)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new Uh("incorect value");var r=e.VALUES_TO_ECI.get(t);if(void 0===r)throw new Uh("incorect value");return r},e.getCharacterSetECIByName=function(t){var r=e.NAME_TO_ECI.get(t);if(void 0===r)throw new Uh("incorect value");return r},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.getName()===r.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(Vh.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(Vh.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(Vh.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(Vh.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(Vh.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(Vh.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(Vh.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(Vh.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(Vh.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(Vh.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(Vh.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(Vh.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(Vh.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(Vh.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(Vh.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(Vh.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(Vh.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(Vh.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(Vh.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(Vh.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(Vh.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(Vh.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(Vh.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(Vh.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(Vh.Big5,28,"Big5"),e.GB18030=new e(Vh.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(Vh.EUC_KR,30,"EUC_KR","EUC-KR"),e}();const Wh=Hh;var Gh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gh(t,e),t.kind="UnsupportedOperationException",t}(gh);const Kh=function(){function e(){}return e.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&"ISO-8859-1"===t},e.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)},e.isBrowser=function(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)},e.encodingName=function(e){return"string"===typeof e?e:e.getName()},e.encodingCharacterSet=function(e){return e instanceof Wh?e:Wh.getCharacterSetECIByName(e)},e.decodeFallback=function(t,r){var n=this.encodingCharacterSet(r);if(e.isDecodeFallbackSupported(n)){for(var i="",o=0,a=t.length;o<a;o++){var s=t[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Wh.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Xh("Encoding "+this.encodingName(r)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(e){return e.equals(Wh.UTF8)||e.equals(Wh.ISO8859_1)||e.equals(Wh.ASCII)},e.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),r=[],n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)},e}();const qh=function(){function e(){}return e.castAsNonUtf8Char=function(e,t){void 0===t&&(t=null);var r=t?t.getName():this.ISO88591;return Kh.decode(new Uint8Array([e]),r)},e.guessEncoding=function(t,r){if(null!==r&&void 0!==r&&void 0!==r.get(Bh.CHARACTER_SET))return r.get(Bh.CHARACTER_SET).toString();for(var n=t.length,i=!0,o=!0,a=!0,s=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,m=0,v=0,y=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],w=0;w<n&&(i||o||a);w++){var b=255&t[w];a&&(s>0?0===(128&b)?a=!1:s--:0!==(128&b)&&(0===(64&b)?a=!1:(s++,0===(32&b)?c++:(s++,0===(16&b)?l++:(s++,0===(8&b)?u++:a=!1))))),i&&(b>127&&b<160?i=!1:b>159&&(b<192||215===b||247===b)&&v++),o&&(h>0?b<64||127===b||b>252?o=!1:h--:128===b||160===b||b>239?o=!1:b>160&&b<224?(f++,p=0,++d>g&&(g=d)):b>127?(h++,d=0,++p>m&&(m=p)):(d=0,p=0))}return a&&s>0&&(a=!1),o&&h>0&&(o=!1),a&&(y||c+l+u>0)?e.UTF8:o&&(e.ASSUME_SHIFT_JIS||g>=3||m>=3)?e.SHIFT_JIS:i&&o?2===g&&2===f||10*v>=n?e.SHIFT_JIS:e.ISO88591:i?e.ISO88591:o?e.SHIFT_JIS:a?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,r,i,o,a,s){if("%%"===e)return"%";if(void 0!==t[++n]){e=o?parseInt(o.substr(1)):void 0;var c,l=a?parseInt(a.substr(1)):void 0;switch(s){case"s":c=t[n];break;case"c":c=t[n][0];break;case"f":c=parseFloat(t[n]).toFixed(e);break;case"p":c=parseFloat(t[n]).toPrecision(e);break;case"e":c=parseFloat(t[n]).toExponential(e);break;case"x":c=parseInt(t[n]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[n],l||10).toPrecision(e)).toFixed(0)}c="object"===typeof c?JSON.stringify(c):(+c).toString(l);for(var u=parseInt(i),h=i&&i[0]+""==="0"?"0":" ";c.length<u;)c=void 0!==r?c+h:h+c;return c}})},e.getBytes=function(e,t){return Kh.encode(e,t)},e.getCharCode=function(e,t){return void 0===t&&(t=0),e.charCodeAt(t)},e.getCharAt=function(e){return String.fromCharCode(e)},e.SHIFT_JIS=Wh.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=Wh.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=Wh.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}();const Yh=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.enableDecoding=function(e){return this.encoding=e,this},e.prototype.append=function(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=qh.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},e.prototype.appendChars=function(e,t,r){for(var n=t;t<t+r;n++)this.append(e[n]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(e){return this.value.charAt(e)},e.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},e.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},e.prototype.substring=function(e,t){return this.value.substring(e,t)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},e}();var Zh=function(){function e(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new wh("Both dimensions must be greater than 0");void 0!==r&&null!==r||(r=Math.floor((e+31)/32)),this.rowSize=r,void 0!==n&&null!==n||(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var r=t.length,n=t[0].length,i=new e(n,r),o=0;o<r;o++)for(var a=t[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},e.parseFromString=function(t,r,n){if(null===t)throw new wh("stringRepresentation cannot be null");for(var i=new Array(t.length),o=0,a=0,s=-1,c=0,l=0;l<t.length;)if("\n"===t.charAt(l)||"\r"===t.charAt(l)){if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new wh("row lengths do not match");a=o,c++}l++}else if(t.substring(l,l+r.length)===r)l+=r.length,i[o]=!0,o++;else{if(t.substring(l,l+n.length)!==n)throw new wh("illegal character encountered: "+t.substring(l));l+=n.length,i[o]=!1,o++}if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new wh("row lengths do not match");c++}for(var u=new e(s,c),h=0;h<o;h++)i[h]&&u.set(Math.floor(h%s),Math.floor(h/s));return u},e.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[r]>>>(31&e)&1)},e.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295},e.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)},e.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295},e.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new wh("input matrix dimensions do not match");for(var t=new Lh(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits,i=0,o=this.height;i<o;i++)for(var a=i*r,s=e.getRow(i,t).getBitArray(),c=0;c<r;c++)n[a+c]^=s[c]},e.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},e.prototype.setRegion=function(e,t,r,n){if(t<0||e<0)throw new wh("Left and top must be nonnegative");if(n<1||r<1)throw new wh("Height and width must be at least 1");var i=e+r,o=t+n;if(o>this.height||i>this.width)throw new wh("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,c=t;c<o;c++)for(var l=c*a,u=e;u<i;u++)s[l+Math.floor(u/32)]|=1<<(31&u)&4294967295},e.prototype.getRow=function(e,t){null===t||void 0===t||t.getSize()<this.width?t=new Lh(this.width):t.clear();for(var r=this.rowSize,n=this.bits,i=e*r,o=0;o<r;o++)t.setBulk(32*o,n[i+o]);return t},e.prototype.setRow=function(e,t){Ah.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Lh(e),n=new Lh(e),i=0,o=Math.floor((t+1)/2);i<o;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)},e.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,n=this.bits,i=e,o=t,a=-1,s=-1,c=0;c<t;c++)for(var l=0;l<r;l++){var u=n[c*r+l];if(0!==u){if(c<o&&(o=c),c>s&&(s=c),32*l<i){for(var h=0;0===(u<<31-h&4294967295);)h++;32*l+h<i&&(i=32*l+h)}if(32*l+31>a){for(h=31;u>>>h===0;)h--;32*l+h>a&&(a=32*l+h)}}}return a<i||s<o?null:Int32Array.from([i,o,a-i+1,s-o+1])},e.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&0===t[r];)r++;if(r===t.length)return null;for(var n=r/e,i=r%e*32,o=t[r],a=0;0===(o<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,n])},e.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&0===t[r];)r--;if(r<0)return null;for(var n=Math.floor(r/e),i=32*Math.floor(r%e),o=t[r],a=31;o>>>a===0;)a--;return i+=a,Int32Array.from([i,n])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Rh.equals(this.bits,r.bits)},e.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+Rh.hashCode(this.bits)},e.prototype.toString=function(e,t,r){return void 0===e&&(e="X "),void 0===t&&(t="  "),void 0===r&&(r="\n"),this.buildToString(e,t,r)},e.prototype.buildToString=function(e,t,r){for(var n=new Yh,i=0,o=this.height;i<o;i++){for(var a=0,s=this.width;a<s;a++)n.append(this.get(a,i)?e:t);n.append(r)}return n.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}();const $h=Zh;var Qh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Jh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qh(t,e),t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(gh);var ef=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tf=function(e){function t(r){var n=e.call(this,r)||this;return n.luminances=t.EMPTY,n.buckets=new Int32Array(t.LUMINANCE_BUCKETS),n}return ef(t,e),t.prototype.getBlackRow=function(e,r){var n=this.getLuminanceSource(),i=n.getWidth();void 0===r||null===r||r.getSize()<i?r=new Lh(i):r.clear(),this.initArrays(i);for(var o=n.getRow(e,this.luminances),a=this.buckets,s=0;s<i;s++)a[(255&o[s])>>t.LUMINANCE_SHIFT]++;var c=t.estimateBlackPoint(a);if(i<3)for(s=0;s<i;s++)(255&o[s])<c&&r.set(s);else{var l=255&o[0],u=255&o[1];for(s=1;s<i-1;s++){var h=255&o[s+1];(4*u-l-h)/2<c&&r.set(s),l=u,u=h}}return r},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),r=e.getWidth(),n=e.getHeight(),i=new $h(r,n);this.initArrays(r);for(var o=this.buckets,a=1;a<5;a++)for(var s=Math.floor(n*a/5),c=e.getRow(s,this.luminances),l=Math.floor(4*r/5),u=Math.floor(r/5);u<l;u++){o[(255&c[u])>>t.LUMINANCE_SHIFT]++}var h=t.estimateBlackPoint(o),f=e.getMatrix();for(a=0;a<n;a++){var d=a*r;for(u=0;u<r;u++){(255&f[d+u])<h&&i.set(u,a)}}return i},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var r=this.buckets,n=0;n<t.LUMINANCE_BUCKETS;n++)r[n]=0},t.estimateBlackPoint=function(e){for(var r=e.length,n=0,i=0,o=0,a=0;a<r;a++)e[a]>o&&(i=a,o=e[a]),e[a]>n&&(n=e[a]);var s=0,c=0;for(a=0;a<r;a++){var l=a-i;(d=e[a]*l*l)>c&&(s=a,c=d)}if(i>s){var u=i;i=s,s=u}if(s-i<=r/16)throw new Jh;var h=s-1,f=-1;for(a=s-1;a>i;a--){var d,p=a-i;(d=p*p*(s-a)*(n-e[a]))>f&&(h=a,f=d)}return h<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(Sh);const rf=tf;var nf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),of=function(e){function t(t){var r=e.call(this,t)||this;return r.matrix=null,r}return nf(t,e),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=t.MINIMUM_DIMENSION&&i>=t.MINIMUM_DIMENSION){var o=r.getMatrix(),a=n>>t.BLOCK_SIZE_POWER;0!==(n&t.BLOCK_SIZE_MASK)&&a++;var s=i>>t.BLOCK_SIZE_POWER;0!==(i&t.BLOCK_SIZE_MASK)&&s++;var c=t.calculateBlackPoints(o,a,s,n,i),l=new $h(n,i);t.calculateThresholdForBlock(o,a,s,n,i,c,l),this.matrix=l}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,r,n,i,o,a,s){for(var c=o-t.BLOCK_SIZE,l=i-t.BLOCK_SIZE,u=0;u<n;u++){var h=u<<t.BLOCK_SIZE_POWER;h>c&&(h=c);for(var f=t.cap(u,2,n-3),d=0;d<r;d++){var p=d<<t.BLOCK_SIZE_POWER;p>l&&(p=l);for(var g=t.cap(d,2,r-3),m=0,v=-2;v<=2;v++){var y=a[f+v];m+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}var w=m/25;t.thresholdBlock(e,p,h,w,i,s)}}},t.cap=function(e,t,r){return e<t?t:e>r?r:e},t.thresholdBlock=function(e,r,n,i,o,a){for(var s=0,c=n*o+r;s<t.BLOCK_SIZE;s++,c+=o)for(var l=0;l<t.BLOCK_SIZE;l++)(255&e[c+l])<=i&&a.set(r+l,n+s)},t.calculateBlackPoints=function(e,r,n,i,o){for(var a=o-t.BLOCK_SIZE,s=i-t.BLOCK_SIZE,c=new Array(n),l=0;l<n;l++){c[l]=new Int32Array(r);var u=l<<t.BLOCK_SIZE_POWER;u>a&&(u=a);for(var h=0;h<r;h++){var f=h<<t.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0,p=255,g=0,m=0,v=u*i+f;m<t.BLOCK_SIZE;m++,v+=i){for(var y=0;y<t.BLOCK_SIZE;y++){var w=255&e[v+y];d+=w,w<p&&(p=w),w>g&&(g=w)}if(g-p>t.MIN_DYNAMIC_RANGE)for(m++,v+=i;m<t.BLOCK_SIZE;m++,v+=i)for(y=0;y<t.BLOCK_SIZE;y++)d+=255&e[v+y]}var b=d>>2*t.BLOCK_SIZE_POWER;if(g-p<=t.MIN_DYNAMIC_RANGE&&(b=p/2,l>0&&h>0)){var E=(c[l-1][h]+2*c[l][h-1]+c[l-1][h-1])/4;p<E&&(b=E)}c[l][h]=b}}return c},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(rf);const af=of;var sf=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(e,t,r,n){throw new Xh("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new Xh("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new Xh("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Yh,r=0;r<this.height;r++){for(var n=this.getRow(r,e),i=0;i<this.width;i++){var o=255&n[i],a=void 0;a=o<64?"#":o<128?"+":o<192?".":" ",t.append(a)}t.append("\n")}return t.toString()},e}();const cf=sf;var lf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const uf=function(e){function t(t){var r=e.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return lf(t,e),t.prototype.getRow=function(e,t){for(var r=this.delegate.getRow(e,t),n=this.getWidth(),i=0;i<n;i++)r[i]=255-(255&r[i]);return r},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t),n=0;n<t;n++)r[n]=255-(255&e[n]);return r},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,r,n,i){return new t(this.delegate.crop(e,r,n,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(cf);var hf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ff=function(e){function t(r,n){void 0===n&&(n=!1);var i=e.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=t.makeBufferFromCanvasImageData(r,n),i}return hf(t,e),t.makeBufferFromCanvasImageData=function(e,r){void 0===r&&(r=!1);var n=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(n.data,e.width,e.height,r)},t.toGrayscaleBuffer=function(e,r,n,i){void 0===i&&(i=!1);var o=new Uint8ClampedArray(r*n);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var a=0,s=0,c=e.length;a<c;a+=4,s++){var l=void 0;if(0===e[a+3])l=255;else l=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;o[s]=l}else{a=0,s=0;for(var u=e.length;a<u;a+=4,s++){l=void 0;if(0===e[a+3])l=255;else l=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;o[s]=255-l}}return o},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new wh("Requested row is outside the image: "+e);var r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,r,n,i){return e.prototype.crop.call(this,t,r,n,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement(),n=r.getContext("2d"),i=e*t.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),c=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);return r.width=s,r.height=c,n.translate(s/2,c/2),n.rotate(i),n.drawImage(this.canvas,o/-2,a/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new uf(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(cf),df=function(){function e(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),pf=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},gf=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mf=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vf=function(){function e(e,t,r){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return"undefined"!==typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return pf(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s,c,l,u,h;return gf(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),t=[];try{for(r=mf(e),n=r.next();!n.done;n=r.next())i=n.value,"videoinput"===(o="video"===i.kind?"videoinput":i.kind)&&(a=i.deviceId||i.id,s=i.label||"Video device "+(t.length+1),c=i.groupId,l={deviceId:a,label:s,kind:o,groupId:c},t.push(l))}catch(d){u={error:d}}finally{try{n&&!n.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}}return[2,t]}})})},e.prototype.getVideoInputDevices=function(){return pf(this,void 0,void 0,function(){return gf(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(e){return new df(e.deviceId,e.label)})]}})})},e.prototype.findDeviceById=function(e){return pf(this,void 0,void 0,function(){var t;return gf(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=r.sent())?[2,t.find(function(t){return t.deviceId===e})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(e,t){return pf(this,void 0,void 0,function(){return gf(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(e,t){return pf(this,void 0,void 0,function(){var r;return gf(this,function(n){switch(n.label){case 0:return this.reset(),r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,t)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(e,t){return pf(this,void 0,void 0,function(){var r;return gf(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,n.sent()]}})})},e.prototype.decodeOnceFromStream=function(e,t){return pf(this,void 0,void 0,function(){var r;return gf(this,function(n){switch(n.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=n.sent(),[4,this.decodeOnce(r)];case 2:return[2,n.sent()]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return pf(this,void 0,void 0,function(){return gf(this,function(n){switch(n.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeFromVideoDevice=function(e,t,r){return pf(this,void 0,void 0,function(){var n;return gf(this,function(i){switch(i.label){case 0:return n={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(n,t,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeFromConstraints=function(e,t,r){return pf(this,void 0,void 0,function(){var n;return gf(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeFromStream(n,t,r)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(e,t,r){return pf(this,void 0,void 0,function(){var n;return gf(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=i.sent(),[4,this.decodeContinuously(n,r)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(e,t){return pf(this,void 0,void 0,function(){var r;return gf(this,function(n){switch(n.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return n.sent(),[2,r]}})})},e.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,n){return t.playVideoOnLoad(e,function(){return r()})})},e.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},e.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},e.prototype.tryPlayVideo=function(e){return pf(this,void 0,void 0,function(){return gf(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new vh("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new vh("element with id '"+e+"' must be an "+t+" element");return r},e.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new vh("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},e.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new vh("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},e.prototype.decodeFromVideoContinuously=function(e,t,r){if(void 0===e&&void 0===t)throw new vh("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},e.prototype.decodeFromImageElement=function(e){if(!e)throw new vh("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},e.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},e.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},e.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new vh("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},e.prototype.decodeFromImageUrl=function(e){if(!e)throw new vh("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},e.prototype.decodeFromVideoUrl=function(e){if(!e)throw new vh("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},e.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new vh("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n},e.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,n){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,n)},e.addEventListener("load",t.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(e){return pf(this,void 0,void 0,function(){return gf(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(e,t){return pf(this,void 0,void 0,function(){return gf(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},e.prototype.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.prototype.prepareImageElement=function(e){var t;return"undefined"===typeof e&&((t=document.createElement("img")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},e.prototype.prepareVideoElement=function(e){var t;return e||"undefined"===typeof document||((t=document.createElement("video")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},e.prototype.decodeOnce=function(e,t,r){var n=this;void 0===t&&(t=!0),void 0===r&&(r=!0),this._stopAsyncDecode=!1;var i=function(o,a){if(n._stopAsyncDecode)return a(new Jh("Video stream has ended before any code could be detected.")),void(n._stopAsyncDecode=void 0);try{o(n.decode(e))}catch(s){if(t&&s instanceof Jh||(s instanceof _h||s instanceof Uh)&&r)return setTimeout(i,n._timeBetweenDecodingAttempts,o,a);a(s)}};return new Promise(function(e,t){return i(e,t)})},e.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var n=function(){if(r._stopContinuousDecode)r._stopContinuousDecode=void 0;else try{var i=r.decode(e);t(i,null),setTimeout(n,r.timeBetweenScansMillis)}catch(o){t(null,o),(o instanceof _h||o instanceof Uh||o instanceof Jh)&&setTimeout(n,r._timeBetweenDecodingAttempts)}};n()},e.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},e.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new ff(r,t),i=new af(n);return new bh(i)},e.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch(n){r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(e,t,r){void 0===t&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.drawImageOnCanvas=function(e,t,r){void 0===t&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},e.prototype.createCaptureCanvas=function(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;var t,r,n=document.createElement("canvas");return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(t=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(t=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),n.style.width=t+"px",n.style.height=r+"px",n.width=t,n.height=r,n},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch(r){e.src=URL.createObjectURL(t)}},e.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")},e}();const yf=function(){function e(e,t,r,n,i,o){void 0===r&&(r=null==t?0:8*t.length),void 0===o&&(o=Ah.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=void 0===r||null===r?null===t||void 0===t?0:8*t.length:r,this.resultPoints=n,this.format=i,this.resultMetadata=null,this.timestamp=void 0===o||null===o?Ah.currentTimeMillis():o}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},e.prototype.putAllMetadata=function(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))},e.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var r=new Array(t.length+e.length);Ah.arraycopy(t,0,r,0,t.length),Ah.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}();var wf;!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(wf||(wf={}));const bf=wf;var Ef;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(Ef||(Ef={}));const _f=Ef;const Sf=function(){function e(e,t,r,n,i,o){void 0===i&&(i=-1),void 0===o&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=void 0===e||null===e?0:8*e.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(e){this.numBits=e},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(e){this.erasures=e},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(e){this.other=e},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}();const Cf=function(){function e(){}return e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new wh;return this.logTable[e]},e.addOrSubtract=function(e,t){return e^t},e}();var Af=function(){function e(e,t){if(0===t.length)throw new wh;this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var n=1;n<r&&0===t[n];)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),Ah.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var t,r=this.coefficients;if(1===e){t=0;for(var n=0,i=r.length;n!==i;n++){var o=r[n];t=Cf.addOrSubtract(t,o)}return t}t=r[0];var a=r.length,s=this.field;for(n=1;n<a;n++)t=Cf.addOrSubtract(s.multiply(e,t),r[n]);return t},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new wh("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;Ah.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=Cf.addOrSubtract(r[s-a],n[s]);return new e(this.field,o)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new wh("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=t.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,c=0;c<n;c++)for(var l=r[c],u=0;u<o;u++)a[c+u]=Cf.addOrSubtract(a[c+u],s.multiply(l,i[u]));return new e(s,a)},e.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(o[a],t);return new e(n,i)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new wh;if(0===r)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+t),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],r);return new e(a,o)},e.prototype.divide=function(e){if(!this.field.equals(e.field))throw new wh("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new wh("Divide by 0");for(var t=this.field,r=t.getZero(),n=this,i=e.getCoefficient(e.getDegree()),o=t.inverse(i);n.getDegree()>=e.getDegree()&&!n.isZero();){var a=n.getDegree()-e.getDegree(),s=t.multiply(n.getCoefficient(n.getDegree()),o),c=e.multiplyByMonomial(a,s),l=t.buildMonomial(a,s);r=r.addOrSubtract(l),n=n.addOrSubtract(c)}return[r,n]},e.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){var n=this.field.log(r);0===n?e+="1":1===n?e+="a":(e+="a^",e+=n)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},e}();const Tf=Af;var If=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return If(t,e),t.kind="ArithmeticException",t}(gh);var kf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nf=function(e){function t(t,r,n){var i=e.call(this)||this;i.primitive=t,i.size=r,i.generatorBase=n;for(var o=new Int32Array(r),a=1,s=0;s<r;s++)o[s]=a,(a*=2)>=r&&(a^=t,a&=r-1);i.expTable=o;var c=new Int32Array(r);for(s=0;s<r-1;s++)c[o[s]]=s;return i.logTable=c,i.zero=new Tf(i,Int32Array.from([0])),i.one=new Tf(i,Int32Array.from([1])),i}return kf(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new wh;if(0===t)return this.zero;var r=new Int32Array(e+1);return r[0]=t,new Tf(this,r)},t.prototype.inverse=function(e){if(0===e)throw new xf;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+Ph.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Cf);const Of=Nf;var Rf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rf(t,e),t.kind="ReedSolomonException",t}(gh);var Pf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pf(t,e),t.kind="IllegalStateException",t}(gh);var Lf=function(){function e(e){this.field=e}return e.prototype.decode=function(e,t){for(var r=this.field,n=new Tf(r,e),i=new Int32Array(t),o=!0,a=0;a<t;a++){var s=n.evaluateAt(r.exp(a+r.getGeneratorBase()));i[i.length-1-a]=s,0!==s&&(o=!1)}if(!o){var c=new Tf(r,i),l=this.runEuclideanAlgorithm(r.buildMonomial(t,1),c,t),u=l[0],h=l[1],f=this.findErrorLocations(u),d=this.findErrorMagnitudes(h,f);for(a=0;a<f.length;a++){var p=e.length-1-r.log(f[a]);if(p<0)throw new Df("Bad error location");e[p]=Of.addOrSubtract(e[p],d[a])}}},e.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var n=e;e=t,t=n}for(var i=this.field,o=e,a=t,s=i.getZero(),c=i.getOne();a.getDegree()>=(r/2|0);){var l=o,u=s;if(s=c,(o=a).isZero())throw new Df("r_{i-1} was zero");a=l;for(var h=i.getZero(),f=o.getCoefficient(o.getDegree()),d=i.inverse(f);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),d);h=h.addOrSubtract(i.buildMonomial(p,g)),a=a.addOrSubtract(o.multiplyByMonomial(p,g))}if(c=h.multiply(s).addOrSubtract(u),a.getDegree()>=o.getDegree())throw new Mf("Division algorithm failed to reduce polynomial?")}var m=c.getCoefficient(0);if(0===m)throw new Df("sigmaTilde(0) was zero");var v=i.inverse(m);return[c.multiplyScalar(v),a.multiplyScalar(v)]},e.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),n=0,i=this.field,o=1;o<i.getSize()&&n<t;o++)0===e.evaluateAt(o)&&(r[n]=i.inverse(o),n++);if(n!==t)throw new Df("Error locator degree does not match number of roots");return r},e.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,n=new Int32Array(r),i=this.field,o=0;o<r;o++){for(var a=i.inverse(t[o]),s=1,c=0;c<r;c++)if(o!==c){var l=i.multiply(t[c],a),u=0===(1&l)?1|l:-2&l;s=i.multiply(s,u)}n[o]=i.multiply(e.evaluateAt(a),i.inverse(s)),0!==i.getGeneratorBase()&&(n[o]=i.multiply(n[o],a))}return n},e}();const Ff=Lf;var Bf;!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(Bf||(Bf={}));var jf=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var r=t.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=e.convertBoolArrayToByteArray(i),a=e.getEncodedData(i),s=new Sf(o,a,null,null);return s.setNumBits(i.length),s},e.highLevelDecode=function(e){return this.getEncodedData(e)},e.getEncodedData=function(t){for(var r=t.length,n=Bf.UPPER,i=Bf.UPPER,o="",a=0;a<r;)if(i===Bf.BINARY){if(r-a<5)break;var s=e.readCode(t,a,5);if(a+=5,0===s){if(r-a<11)break;s=e.readCode(t,a,11)+31,a+=11}for(var c=0;c<s;c++){if(r-a<8){a=r;break}var l=e.readCode(t,a,8);o+=qh.castAsNonUtf8Char(l),a+=8}i=n}else{var u=i===Bf.DIGIT?4:5;if(r-a<u)break;l=e.readCode(t,a,u);a+=u;var h=e.getCharacter(i,l);h.startsWith("CTRL_")?(n=i,i=e.getTable(h.charAt(5)),"L"===h.charAt(6)&&(n=i)):(o+=h,i=n)}return o},e.getTable=function(e){switch(e){case"L":return Bf.LOWER;case"P":return Bf.PUNCT;case"M":return Bf.MIXED;case"D":return Bf.DIGIT;case"B":return Bf.BINARY;default:return Bf.UPPER}},e.getCharacter=function(t,r){switch(t){case Bf.UPPER:return e.UPPER_TABLE[r];case Bf.LOWER:return e.LOWER_TABLE[r];case Bf.MIXED:return e.MIXED_TABLE[r];case Bf.PUNCT:return e.PUNCT_TABLE[r];case Bf.DIGIT:return e.DIGIT_TABLE[r];default:throw new Mf("Bad table")}},e.prototype.correctBits=function(t){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Of.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Of.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Of.AZTEC_DATA_10):(n=12,r=Of.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=t.length/n;if(o<i)throw new Uh;for(var a=t.length%n,s=new Int32Array(o),c=0;c<o;c++,a+=n)s[c]=e.readCode(t,a,n);try{new Ff(r).decode(s,o-i)}catch(g){throw new Uh(g)}var l=(1<<n)-1,u=0;for(c=0;c<i;c++){if(0===(d=s[c])||d===l)throw new Uh;1!==d&&d!==l-1||u++}var h=new Array(i*n-u),f=0;for(c=0;c<i;c++){var d;if(1===(d=s[c])||d===l-1)h.fill(d>1,f,f+n-1),f+=n-1;else for(var p=n-1;p>=0;--p)h[f++]=0!==(d&1<<p)}return h},e.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(var a=0;a<i.length;a++)i[a]=a;else{var s=n+1+2*Ph.truncDivision(Ph.truncDivision(n,2)-1,15),c=n/2,l=Ph.truncDivision(s,2);for(a=0;a<c;a++){var u=a+Ph.truncDivision(a,15);i[c-a-1]=l-u-1,i[c+a]=l+u+1}}a=0;for(var h=0;a<r;a++){for(var f=4*(r-a)+(t?9:12),d=2*a,p=n-1-d,g=0;g<f;g++)for(var m=2*g,v=0;v<2;v++)o[h+m+v]=e.get(i[d+v],i[d+g]),o[h+2*f+m+v]=e.get(i[d+g],i[p-v]),o[h+4*f+m+v]=e.get(i[p-v],i[p-g]),o[h+6*f+m+v]=e.get(i[p-g],i[d+v]);h+=8*f}return o},e.readCode=function(e,t,r){for(var n=0,i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n},e.readByte=function(t,r){var n=t.length-r;return n>=8?e.readCode(t,r,8):e.readCode(t,r,n)<<8-n},e.convertBoolArrayToByteArray=function(t){for(var r=new Uint8Array((t.length+7)/8),n=0;n<r.length;n++)r[n]=e.readByte(t,8*n);return r},e.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}();const Uf=jf;var Vf=function(){function e(){}return e.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},e.distance=function(e,t,r,n){var i=e-r,o=t-n;return Math.sqrt(i*i+o*o)},e.sum=function(e){for(var t=0,r=0,n=e.length;r!==n;r++){t+=e[r]}return t},e}();const zf=Vf;const Hf=function(){function e(){}return e.floatToIntBits=function(e){return e},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}();var Wf=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var r=t;return this.x===r.x&&this.y===r.y}return!1},e.prototype.hashCode=function(){return 31*Hf.floatToIntBits(this.x)+Hf.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(e){var t,r,n,i=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]);if(o>=i&&o>=a?(r=e[0],t=e[1],n=e[2]):a>=o&&a>=i?(r=e[1],t=e[0],n=e[2]):(r=e[2],t=e[0],n=e[1]),this.crossProductZ(t,r,n)<0){var s=t;t=n,n=s}e[0]=t,e[1]=r,e[2]=n},e.distance=function(e,t){return zf.distance(e.x,e.y,t.x,t.y)},e.crossProductZ=function(e,t,r){var n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)},e}();const Gf=Wf;const Xf=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();var Kf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const qf=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r)||this;return a.compact=n,a.nbDatablocks=i,a.nbLayers=o,a}return Kf(t,e),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(Xf);var Yf=function(){function e(t,r,n,i){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),void 0!==r&&null!==r||(r=e.INIT_SIZE),void 0!==n&&null!==n||(n=t.getWidth()/2|0),void 0!==i&&null!==i||(i=t.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Jh}return e.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,o=!0,a=!1,s=!1,c=!1,l=!1,u=!1,h=this.width,f=this.height;o;){o=!1;for(var d=!0;(d||!s)&&t<h;)(d=this.containsBlackPoint(r,n,t,!1))?(t++,o=!0,s=!0):s||t++;if(t>=h){i=!0;break}for(var p=!0;(p||!c)&&n<f;)(p=this.containsBlackPoint(e,t,n,!0))?(n++,o=!0,c=!0):c||n++;if(n>=f){i=!0;break}for(var g=!0;(g||!l)&&e>=0;)(g=this.containsBlackPoint(r,n,e,!1))?(e--,o=!0,l=!0):l||e--;if(e<0){i=!0;break}for(var m=!0;(m||!u)&&r>=0;)(m=this.containsBlackPoint(e,t,r,!0))?(r--,o=!0,u=!0):u||r--;if(r<0){i=!0;break}o&&(a=!0)}if(!i&&a){for(var v=t-e,y=null,w=1;null===y&&w<v;w++)y=this.getBlackPointOnSegment(e,n-w,e+w,n);if(null==y)throw new Jh;var b=null;for(w=1;null===b&&w<v;w++)b=this.getBlackPointOnSegment(e,r+w,e+w,r);if(null==b)throw new Jh;var E=null;for(w=1;null===E&&w<v;w++)E=this.getBlackPointOnSegment(t,r+w,t-w,r);if(null==E)throw new Jh;var _=null;for(w=1;null===_&&w<v;w++)_=this.getBlackPointOnSegment(t,n-w,t-w,n);if(null==_)throw new Jh;return this.centerEdges(_,y,E,b)}throw new Jh},e.prototype.getBlackPointOnSegment=function(e,t,r,n){for(var i=zf.round(zf.distance(e,t,r,n)),o=(r-e)/i,a=(n-t)/i,s=this.image,c=0;c<i;c++){var l=zf.round(e+c*o),u=zf.round(t+c*a);if(s.get(l,u))return new Gf(l,u)}return null},e.prototype.centerEdges=function(t,r,n,i){var o=t.getX(),a=t.getY(),s=r.getX(),c=r.getY(),l=n.getX(),u=n.getY(),h=i.getX(),f=i.getY(),d=e.CORR;return o<this.width/2?[new Gf(h-d,f+d),new Gf(s+d,c+d),new Gf(l-d,u-d),new Gf(o+d,a-d)]:[new Gf(h+d,f+d),new Gf(s+d,c-d),new Gf(l-d,u+d),new Gf(o-d,a-d)]},e.prototype.containsBlackPoint=function(e,t,r,n){var i=this.image;if(n){for(var o=e;o<=t;o++)if(i.get(o,r))return!0}else for(var a=e;a<=t;a++)if(i.get(r,a))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}();const Zf=Yf;var $f=function(){function e(){}return e.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),n=e.getHeight(),i=!0,o=0;o<t.length&&i;o+=2){var a=Math.floor(t[o]),s=Math.floor(t[o+1]);if(a<-1||a>r||s<-1||s>n)throw new Jh;i=!1,-1===a?(t[o]=0,i=!0):a===r&&(t[o]=r-1,i=!0),-1===s?(t[o+1]=0,i=!0):s===n&&(t[o+1]=n-1,i=!0)}i=!0;for(o=t.length-2;o>=0&&i;o-=2){a=Math.floor(t[o]),s=Math.floor(t[o+1]);if(a<-1||a>r||s<-1||s>n)throw new Jh;i=!1,-1===a?(t[o]=0,i=!0):a===r&&(t[o]=r-1,i=!0),-1===s?(t[o+1]=0,i=!0):s===n&&(t[o+1]=n-1,i=!0)}},e}();const Qf=$f;var Jf=function(){function e(e,t,r,n,i,o,a,s,c){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=o,this.a13=a,this.a23=s,this.a33=c}return e.quadrilateralToQuadrilateral=function(t,r,n,i,o,a,s,c,l,u,h,f,d,p,g,m){var v=e.quadrilateralToSquare(t,r,n,i,o,a,s,c);return e.squareToQuadrilateral(l,u,h,f,d,p,g,m).times(v)},e.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,h=0;h<t;h+=2){var f=e[h],d=e[h+1],p=i*f+s*d+u;e[h]=(r*f+o*d+c)/p,e[h+1]=(n*f+a*d+l)/p}},e.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,n=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,h=e.length,f=0;f<h;f++){var d=e[f],p=t[f],g=i*d+s*p+u;e[f]=(r*d+o*p+c)/g,t[f]=(n*d+a*p+l)/g}},e.squareToQuadrilateral=function(t,r,n,i,o,a,s,c){var l=t-n+o-s,u=r-i+a-c;if(0===l&&0===u)return new e(n-t,o-n,t,i-r,a-i,r,0,0,1);var h=n-o,f=s-o,d=i-a,p=c-a,g=h*p-f*d,m=(l*p-f*u)/g,v=(h*u-l*d)/g;return new e(n-t+m*n,s-t+v*s,t,i-r+m*i,c-r+v*c,r,m,v,1)},e.quadrilateralToSquare=function(t,r,n,i,o,a,s,c){return e.squareToQuadrilateral(t,r,n,i,o,a,s,c).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}();const ed=Jf;var td=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return td(t,e),t.prototype.sampleGrid=function(e,t,r,n,i,o,a,s,c,l,u,h,f,d,p,g,m,v,y){var w=ed.quadrilateralToQuadrilateral(n,i,o,a,s,c,l,u,h,f,d,p,g,m,v,y);return this.sampleGridWithTransform(e,t,r,w)},t.prototype.sampleGridWithTransform=function(e,t,r,n){if(t<=0||r<=0)throw new Jh;for(var i=new $h(t,r),o=new Float32Array(2*t),a=0;a<r;a++){for(var s=o.length,c=a+.5,l=0;l<s;l+=2)o[l]=l/2+.5,o[l+1]=c;n.transformPoints(o),Qf.checkAndNudgePoints(e,o);try{for(l=0;l<s;l+=2)e.get(Math.floor(o[l]),Math.floor(o[l+1]))&&i.set(l/2,a)}catch(u){throw new Jh}}return i},t}(Qf);const nd=rd;const id=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new nd,e}();var od=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toResultPoint=function(){return new Gf(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),ad=function(){function e(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var n=r[0];r[0]=r[2],r[2]=n}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new qf(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Jh;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var n=0,i=0;i<4;i++){var o=r[(this.shift+i)%4];this.compact?(n<<=7,n+=o>>1&127):(n<<=10,n+=(o>>2&992)+(o>>1&31))}var a=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},e.prototype.getRotation=function(e,t){var r=0;e.forEach(function(e,n,i){r=(r<<3)+((e>>t-2<<1)+(1&e))}),r=((1&r)<<11)+(r>>1);for(var n=0;n<4;n++)if(Ph.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new Jh},e.prototype.getCorrectedParameterData=function(e,t){var r,n;t?(r=7,n=2):(r=10,n=4);for(var i=r-n,o=new Int32Array(r),a=r-1;a>=0;--a)o[a]=15&e,e>>=4;try{new Ff(Of.AZTEC_PARAM).decode(o,i)}catch(c){throw new Jh}var s=0;for(a=0;a<n;a++)s=(s<<4)+o[a];return s},e.prototype.getBullsEyeCorners=function(e){var t=e,r=e,n=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(t,o,1,-1),s=this.getFirstDifferent(r,o,1,1),c=this.getFirstDifferent(n,o,-1,1),l=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var u=this.distancePoint(l,a)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(u<.75||u>1.25||!this.isWhiteOrBlackRectangle(a,s,c,l))break}t=a,r=s,n=c,i=l,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Jh;this.compact=5===this.nbCenterLayers;var h=new Gf(t.getX()+.5,t.getY()-.5),f=new Gf(r.getX()+.5,r.getY()+.5),d=new Gf(n.getX()-.5,n.getY()+.5),p=new Gf(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,f,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var e,t,r,n;try{e=(c=new Zf(this.image).detect())[0],t=c[1],r=c[2],n=c[3]}catch(l){var i=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new od(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new od(i+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new od(i-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new od(i-7,o-7),!1,-1,-1).toResultPoint()}var a=zf.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=zf.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{var c;e=(c=new Zf(this.image,15,a,s).detect())[0],t=c[1],r=c[2],n=c[3]}catch(l){e=this.getFirstDifferent(new od(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new od(a+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new od(a-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new od(a-7,s-7),!1,-1,-1).toResultPoint()}return a=zf.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=zf.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new od(a,s)},e.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(e,t,r,n,i){var o=id.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,c=a/2+this.nbCenterLayers;return o.sampleGrid(e,a,a,s,s,c,s,c,c,s,c,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(e,t,r){for(var n=0,i=this.distanceResultPoint(e,t),o=i/r,a=e.getX(),s=e.getY(),c=o*(t.getX()-e.getX())/i,l=o*(t.getY()-e.getY())/i,u=0;u<r;u++)this.image.get(zf.round(a+u*c),zf.round(s+u*l))&&(n|=1<<r-u-1);return n},e.prototype.isWhiteOrBlackRectangle=function(e,t,r,n){e=new od(e.getX()-3,e.getY()+3),t=new od(t.getX()-3,t.getY()-3),r=new od(r.getX()+3,r.getY()-3),n=new od(n.getX()+3,n.getY()+3);var i=this.getColor(n,e);if(0===i)return!1;var o=this.getColor(e,t);return o===i&&((o=this.getColor(t,r))===i&&(o=this.getColor(r,n))===i)},e.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,o=0,a=e.getX(),s=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(r),u=0;u<l;u++)a+=n,s+=i,this.image.get(zf.round(a),zf.round(s))!==c&&o++;var h=o/r;return h>.1&&h<.9?0:h<=.1===c?1:-1},e.prototype.getFirstDifferent=function(e,t,r,n){for(var i=e.getX()+r,o=e.getY()+n;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r,o+=n;for(i-=r,o-=n;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===t;)o+=n;return new od(i,o-=n)},e.prototype.expandSquare=function(e,t,r){var n=r/(2*t),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,c=new Gf(a+n*i,s+n*o),l=new Gf(a-n*i,s-n*o);return i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[c,new Gf(a+n*i,s+n*o),l,new Gf(a-n*i,s-n*o)]},e.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},e.prototype.isValidPoint=function(e){var t=zf.round(e.getX()),r=zf.round(e.getY());return this.isValid(t,r)},e.prototype.distancePoint=function(e,t){return zf.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.distanceResultPoint=function(e,t){return zf.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ph.truncDivision(this.nbLayers-4,8)+1)+15},e}();const sd=ad;const cd=function(){function e(){}return e.prototype.decode=function(e,t){void 0===t&&(t=null);var r=null,n=new sd(e.getBlackMatrix()),i=null,o=null;try{i=(a=n.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,i),o=(new Uf).decode(a)}catch(u){r=u}if(null==o)try{var a;i=(a=n.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,i),o=(new Uf).decode(a)}catch(u){if(null!=r)throw r;throw u}var s=new yf(o.getText(),o.getRawBytes(),o.getNumBits(),i,bf.AZTEC,Ah.currentTimeMillis()),c=o.getByteSegments();null!=c&&s.putMetadata(_f.BYTE_SEGMENTS,c);var l=o.getECLevel();return null!=l&&s.putMetadata(_f.ERROR_CORRECTION_LEVEL,l),s},e.prototype.reportFoundResultPoints=function(e,t){if(null!=e){var r=e.get(Bh.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach(function(e,t,n){r.foundPossibleResultPoint(e)})}},e.prototype.reset=function(){},e}();var ld=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ud=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new cd,t)||this}ld(t,e)}(vf),function(){function e(){}return e.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(l){if(t&&!0===t.get(Bh.TRY_HARDER)&&e.isRotateSupported()){var r=e.rotateCounterClockwise(),n=this.doDecode(r,t),i=n.getResultMetadata(),o=270;null!==i&&!0===i.get(_f.ORIENTATION)&&(o+=i.get(_f.ORIENTATION)%360),n.putMetadata(_f.ORIENTATION,o);var a=n.getResultPoints();if(null!==a)for(var s=r.getHeight(),c=0;c<a.length;c++)a[c]=new Gf(s-a[c].getY()-1,a[c].getX());return n}throw new Jh}},e.prototype.reset=function(){},e.prototype.doDecode=function(e,t){var r,n=e.getWidth(),i=e.getHeight(),o=new Lh(n),a=t&&!0===t.get(Bh.TRY_HARDER),s=Math.max(1,i>>(a?8:5));r=a?i:15;for(var c=Math.trunc(i/2),l=0;l<r;l++){var u=Math.trunc((l+1)/2),h=c+s*(0===(1&l)?u:-u);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch(m){continue}for(var f=function(e){if(1===e&&(o.reverse(),t&&!0===t.get(Bh.NEED_RESULT_POINT_CALLBACK))){var r=new Map;t.forEach(function(e,t){return r.set(t,e)}),r.delete(Bh.NEED_RESULT_POINT_CALLBACK),t=r}try{var i=d.decodeRow(h,o,t);if(1===e){i.putMetadata(_f.ORIENTATION,180);var a=i.getResultPoints();null!==a&&(a[0]=new Gf(n-a[0].getX()-1,a[0].getY()),a[1]=new Gf(n-a[1].getX()-1,a[1].getY()))}return{value:i}}catch(s){}},d=this,p=0;p<2;p++){var g=f(p);if("object"===typeof g)return g.value}}throw new Jh},e.recordPattern=function(e,t,r){for(var n=r.length,i=0;i<n;i++)r[i]=0;var o=e.getSize();if(t>=o)throw new Jh;for(var a=!e.get(t),s=0,c=t;c<o;){if(e.get(c)!==a)r[s]++;else{if(++s===n)break;r[s]=1,a=!a}c++}if(s!==n&&(s!==n-1||c!==o))throw new Jh},e.recordPatternInReverse=function(t,r,n){for(var i=n.length,o=t.get(r);r>0&&i>=0;)t.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new Jh;e.recordPattern(t,r+1,n)},e.patternMatchVariance=function(e,t,r){for(var n=e.length,i=0,o=0,a=0;a<n;a++)i+=e[a],o+=t[a];if(i<o)return Number.POSITIVE_INFINITY;var s=i/o;r*=s;for(var c=0,l=0;l<n;l++){var u=e[l],h=t[l]*s,f=u>h?u-h:h-u;if(f>r)return Number.POSITIVE_INFINITY;c+=f}return c/i},e}());const hd=ud;var fd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fd(t,e),t.findStartPattern=function(e){for(var r=e.getSize(),n=e.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),a=n,s=!1,c=n;c<r;c++)if(e.get(c)!==s)o[i]++;else{if(5===i){for(var l=t.MAX_AVG_VARIANCE,u=-1,h=t.CODE_START_A;h<=t.CODE_START_C;h++){var f=hd.patternMatchVariance(o,t.CODE_PATTERNS[h],t.MAX_INDIVIDUAL_VARIANCE);f<l&&(l=f,u=h)}if(u>=0&&e.isRange(Math.max(0,a-(c-a)/2),a,!1))return Int32Array.from([a,c,u]);a+=o[0]+o[1],(o=o.slice(2,o.length))[i-1]=0,o[i]=0,i--}else i++;o[i]=1,s=!s}throw new Jh},t.decodeCode=function(e,r,n){hd.recordPattern(e,n,r);for(var i=t.MAX_AVG_VARIANCE,o=-1,a=0;a<t.CODE_PATTERNS.length;a++){var s=t.CODE_PATTERNS[a],c=this.patternMatchVariance(r,s,t.MAX_INDIVIDUAL_VARIANCE);c<i&&(i=c,o=a)}if(o>=0)return o;throw new Jh},t.prototype.decodeRow=function(e,r,n){var i,o=n&&!0===n.get(Bh.ASSUME_GS1),a=t.findStartPattern(r),s=a[2],c=0,l=new Uint8Array(20);switch(l[c++]=s,s){case t.CODE_START_A:i=t.CODE_CODE_A;break;case t.CODE_START_B:i=t.CODE_CODE_B;break;case t.CODE_START_C:i=t.CODE_CODE_C;break;default:throw new Uh}for(var u=!1,h=!1,f="",d=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,v=0,y=s,w=0,b=!0,E=!1,_=!1;!u;){var S=h;switch(h=!1,m=v,v=t.decodeCode(r,g,p),l[c++]=v,v!==t.CODE_STOP&&(b=!0),v!==t.CODE_STOP&&(y+=++w*v),d=p,p+=g.reduce(function(e,t){return e+t},0),v){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new Uh}switch(i){case t.CODE_CODE_A:if(v<64)f+=_===E?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),_=!1;else if(v<96)f+=_===E?String.fromCharCode(v-64):String.fromCharCode(v+64),_=!1;else switch(v!==t.CODE_STOP&&(b=!1),v){case t.CODE_FNC_1:o&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!E&&_?(E=!0,_=!1):E&&_?(E=!1,_=!1):_=!0;break;case t.CODE_SHIFT:h=!0,i=t.CODE_CODE_B;break;case t.CODE_CODE_B:i=t.CODE_CODE_B;break;case t.CODE_CODE_C:i=t.CODE_CODE_C;break;case t.CODE_STOP:u=!0}break;case t.CODE_CODE_B:if(v<96)f+=_===E?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),_=!1;else switch(v!==t.CODE_STOP&&(b=!1),v){case t.CODE_FNC_1:o&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!E&&_?(E=!0,_=!1):E&&_?(E=!1,_=!1):_=!0;break;case t.CODE_SHIFT:h=!0,i=t.CODE_CODE_A;break;case t.CODE_CODE_A:i=t.CODE_CODE_A;break;case t.CODE_CODE_C:i=t.CODE_CODE_C;break;case t.CODE_STOP:u=!0}break;case t.CODE_CODE_C:if(v<100)v<10&&(f+="0"),f+=v;else switch(v!==t.CODE_STOP&&(b=!1),v){case t.CODE_FNC_1:o&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_CODE_A:i=t.CODE_CODE_A;break;case t.CODE_CODE_B:i=t.CODE_CODE_B;break;case t.CODE_STOP:u=!0}}S&&(i=i===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var C=p-d;if(p=r.getNextUnset(p),!r.isRange(p,Math.min(r.getSize(),p+(p-d)/2),!1))throw new Jh;if((y-=w*m)%103!==m)throw new _h;var A=f.length;if(0===A)throw new Jh;A>0&&b&&(f=i===t.CODE_CODE_C?f.substring(0,A-2):f.substring(0,A-1));for(var T=(a[1]+a[0])/2,I=d+C/2,x=l.length,k=new Uint8Array(x),N=0;N<x;N++)k[N]=l[N];var O=[new Gf(T,e),new Gf(I,e)];return new yf(f,k,0,O,bf.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(hd);var pd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},md=function(e){function t(t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.call(this)||this;return n.usingCheckDigit=t,n.extendedMode=r,n.decodeRowResult="",n.counters=new Int32Array(9),n}return pd(t,e),t.prototype.decodeRow=function(e,r,n){var i,o,a,s,c=this.counters;c.fill(0),this.decodeRowResult="";var l,u,h=t.findAsteriskPattern(r,c),f=r.getNextSet(h[1]),d=r.getSize();do{t.recordPattern(r,f,c);var p=t.toNarrowWidePattern(c);if(p<0)throw new Jh;l=t.patternToChar(p),this.decodeRowResult+=l,u=f;try{for(var g=(i=void 0,gd(c)),m=g.next();!m.done;m=g.next()){f+=m.value}}catch(T){i={error:T}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=r.getNextSet(f)}while("*"!==l);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var v,y=0;try{for(var w=gd(c),b=w.next();!b.done;b=w.next()){y+=b.value}}catch(I){a={error:I}}finally{try{b&&!b.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}if(f!==d&&2*(f-u-y)<y)throw new Jh;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,_=0,S=0;S<E;S++)_+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(E)!==t.ALPHABET_STRING.charAt(_%43))throw new _h;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(0===this.decodeRowResult.length)throw new Jh;v=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var C=(h[1]+h[0])/2,A=u+y/2;return new yf(v,null,0,[new Gf(C,e),new Gf(A,e)],bf.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,r){for(var n=e.getSize(),i=e.getNextSet(0),o=0,a=i,s=!1,c=r.length,l=i;l<n;l++)if(e.get(l)!==s)r[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,s=!s}throw new Jh},t.toNarrowWidePattern=function(e){var t,r,n,i=e.length,o=0;do{var a=2147483647;try{for(var s=(t=void 0,gd(e)),c=s.next();!c.done;c=s.next()){(f=c.value)<a&&f>o&&(a=f)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}o=a,n=0;for(var l=0,u=0,h=0;h<i;h++){(f=e[h])>o&&(u|=1<<i-1-h,n++,l+=f)}if(3===n){for(h=0;h<i&&n>0;h++){var f;if((f=e[h])>o&&(n--,2*f>=l))return-1}return u}}while(n>3);return-1},t.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);if(e===t.ASTERISK_ENCODING)return"*";throw new Jh},t.decodeExtended=function(e){for(var t=e.length,r="",n=0;n<t;n++){var i=e.charAt(n);if("+"===i||"$"===i||"%"===i||"/"===i){var o=e.charAt(n+1),a="\0";switch(i){case"+":if(!(o>="A"&&o<="Z"))throw new Uh;a=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new Uh;a=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")a=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")a=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")a=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)a="\0";else if("V"===o)a="@";else if("W"===o)a="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new Uh;a="\x7f"}break;case"/":if(o>="A"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new Uh;a=":"}}r+=a,n++}else r+=i}return r},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(hd);const vd=md;var yd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bd=function(e){function t(){var t=e.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return yd(t,e),t.prototype.decodeRow=function(e,r,n){var i,o,a,s,c,l,u=this.findAsteriskPattern(r),h=r.getNextSet(u[1]),f=r.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";do{t.recordPattern(r,h,d);var p=this.toPattern(d);if(p<0)throw new Jh;c=this.patternToChar(p),this.decodeRowResult+=c,l=h;try{for(var g=(i=void 0,wd(d)),m=g.next();!m.done;m=g.next()){h+=m.value}}catch(S){i={error:S}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}h=r.getNextSet(h)}while("*"!==c);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var v=0;try{for(var y=wd(d),w=y.next();!w.done;w=y.next()){v+=w.value}}catch(C){a={error:C}}finally{try{w&&!w.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(h===f||!r.get(h))throw new Jh;if(this.decodeRowResult.length<2)throw new Jh;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var b=this.decodeExtended(this.decodeRowResult),E=(u[1]+u[0])/2,_=l+v/2;return new yf(b,null,0,[new Gf(E,e),new Gf(_,e)],bf.CODE_93,(new Date).getTime())},t.prototype.findAsteriskPattern=function(e){var r=e.getSize(),n=e.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=n,a=!1,s=i.length,c=0,l=n;l<r;l++)if(e.get(l)!==a)i[c]++;else{if(c===s-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([o,l]);o+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,a=!a}throw new Jh},t.prototype.toPattern=function(e){var t,r,n=0;try{for(var i=wd(e),o=i.next();!o.done;o=i.next()){n+=o.value}}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}for(var a=0,s=e.length,c=0;c<s;c++){var l=Math.round(9*e[c]/n);if(l<1||l>4)return-1;if(0===(1&c))for(var u=0;u<l;u++)a=a<<1|1;else a<<=l}return a},t.prototype.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);throw new Jh},t.prototype.decodeExtended=function(e){for(var t=e.length,r="",n=0;n<t;n++){var i=e.charAt(n);if(i>="a"&&i<="d"){if(n>=t-1)throw new Uh;var o=e.charAt(n+1),a="\0";switch(i){case"d":if(!(o>="A"&&o<="Z"))throw new Uh;a=String.fromCharCode(o.charCodeAt(0)+32);break;case"a":if(!(o>="A"&&o<="Z"))throw new Uh;a=String.fromCharCode(o.charCodeAt(0)-64);break;case"b":if(o>="A"&&o<="E")a=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")a=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")a=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)a="\0";else if("V"===o)a="@";else if("W"===o)a="`";else{if(!(o>="X"&&o<="Z"))throw new Uh;a=String.fromCharCode(127)}break;case"c":if(o>="A"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new Uh;a=":"}}r+=a,n++}else r+=i}return r},t.prototype.checkChecksums=function(e){var t=e.length;this.checkOneChecksum(e,t-2,20),this.checkOneChecksum(e,t-1,15)},t.prototype.checkOneChecksum=function(e,r,n){for(var i=1,o=0,a=r-1;a>=0;a--)o+=i*t.ALPHABET_STRING.indexOf(e.charAt(a)),++i>n&&(i=1);if(e.charAt(r)!==t.ALPHABET_STRING[o%47])throw new _h},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(hd);const Ed=bd;var _d=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return _d(t,e),t.prototype.decodeRow=function(e,r,n){var i,o,a=this.decodeStart(r),s=this.decodeEnd(r),c=new Yh;t.decodeMiddle(r,a[1],s[0],c);var l=c.toString(),u=null;null!=n&&(u=n.get(Bh.ALLOWED_LENGTHS)),null==u&&(u=t.DEFAULT_ALLOWED_LENGTHS);var h=l.length,f=!1,d=0;try{for(var p=Sd(u),g=p.next();!g.done;g=p.next()){var m=g.value;if(h===m){f=!0;break}m>d&&(d=m)}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!f&&h>d&&(f=!0),!f)throw new Uh;var v=[new Gf(a[1],e),new Gf(s[0],e)];return new yf(l,null,0,v,bf.ITF,(new Date).getTime())},t.decodeMiddle=function(e,r,n,i){var o=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(o.fill(0),a.fill(0),s.fill(0);r<n;){hd.recordPattern(e,r,o);for(var c=0;c<5;c++){var l=2*c;a[c]=o[l],s[c]=o[l+1]}var u=t.decodeDigit(a);i.append(u.toString()),u=this.decodeDigit(s),i.append(u.toString()),o.forEach(function(e){r+=e})}},t.prototype.decodeStart=function(e){var r=t.skipWhiteSpace(e),n=t.findGuardPattern(e,r,t.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n},t.prototype.validateQuietZone=function(e,t){var r=10*this.narrowLineWidth;r=r<t?r:t;for(var n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new Jh},t.skipWhiteSpace=function(e){var t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new Jh;return r},t.prototype.decodeEnd=function(e){e.reverse();try{var r=t.skipWhiteSpace(e),n=void 0;try{n=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[0])}catch(o){o instanceof Jh&&(n=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);var i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}},t.findGuardPattern=function(e,r,n){var i=n.length,o=new Int32Array(i),a=e.getSize(),s=!1,c=0,l=r;o.fill(0);for(var u=r;u<a;u++)if(e.get(u)!==s)o[c]++;else{if(c===i-1){if(hd.patternMatchVariance(o,n,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[l,u];l+=o[0]+o[1],Ah.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,s=!s}throw new Jh},t.decodeDigit=function(e){for(var r=t.MAX_AVG_VARIANCE,n=-1,i=t.PATTERNS.length,o=0;o<i;o++){var a=t.PATTERNS[o],s=hd.patternMatchVariance(e,a,t.MAX_INDIVIDUAL_VARIANCE);s<r?(r=s,n=o):s===r&&(n=-1)}if(n>=0)return n%10;throw new Jh},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(hd);const Ad=Cd;var Td=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Id=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return Td(t,e),t.findStartGuardPattern=function(e){for(var r,n=!1,i=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]);var a=(r=t.findGuardPattern(e,i,!1,this.START_END_PATTERN,o))[0],s=a-((i=r[1])-a);s>=0&&(n=e.isRange(s,a,!1))}return r},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var n=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===n},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,r=0,n=t-1;n>=0;n-=2){if((i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new Uh;r+=i}r*=3;for(n=t-2;n>=0;n-=2){var i;if((i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new Uh;r+=i}return(1e3-r)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))},t.findGuardPattern=function(e,r,n,i,o){for(var a=e.getSize(),s=0,c=r=n?e.getNextUnset(r):e.getNextSet(r),l=i.length,u=n,h=r;h<a;h++)if(e.get(h)!==u)o[s]++;else{if(s===l-1){if(hd.patternMatchVariance(o,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=o[0]+o[1];for(var f=o.slice(2,o.length),d=0;d<s-1;d++)o[d]=f[d];o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new Jh},t.decodeDigit=function(e,r,n,i){this.recordPattern(e,n,r);for(var o=this.MAX_AVG_VARIANCE,a=-1,s=i.length,c=0;c<s;c++){var l=i[c],u=hd.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);u<o&&(o=u,a=c)}if(a>=0)return a;throw new Jh},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(hd);const xd=Id;var kd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nd=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=e.parseExtensionString(a),c=[new Gf((n[0]+n[1])/2,t),new Gf(o,t)],l=new yf(a,null,0,c,bf.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},e.prototype.decodeMiddle=function(t,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=t.getSize(),c=r[1],l=0,u=0;u<5&&c<s;u++){var h=xd.decodeDigit(t,a,c,xd.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var f=(i=void 0,kd(a)),d=f.next();!d.done;d=f.next()){c+=d.value}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}h>=10&&(l|=1<<4-u),4!==u&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(5!==n.length)throw new Jh;var p=this.determineCheckDigit(l);if(e.extensionChecksum(n.toString())!==p)throw new Jh;return c},e.extensionChecksum=function(e){for(var t=e.length,r=0,n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new Jh},e.parseExtensionString=function(t){if(5!==t.length)return null;var r=e.parseExtension5String(t);return null==r?null:new Map([[_f.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())},e}();const Od=Nd;var Rd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dd=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=e.parseExtensionString(a),c=[new Gf((n[0]+n[1])/2,t),new Gf(o,t)],l=new yf(a,null,0,c,bf.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},e.prototype.decodeMiddle=function(e,t,r){var n,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var a=e.getSize(),s=t[1],c=0,l=0;l<2&&s<a;l++){var u=xd.decodeDigit(e,o,s,xd.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+u%10);try{for(var h=(n=void 0,Rd(o)),f=h.next();!f.done;f=h.next()){s+=f.value}}catch(d){n={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}u>=10&&(c|=1<<1-l),1!==l&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(2!==r.length)throw new Jh;if(parseInt(r.toString())%4!==c)throw new Jh;return s},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[_f.ISSUE_NUMBER,parseInt(e)]])},e}();const Pd=Dd;const Md=function(){function e(){}return e.decodeRow=function(e,t,r){var n=xd.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Od).decodeRow(e,t,n)}catch(i){return(new Pd).decodeRow(e,t,n)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}();var Ld=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fd=function(e){function t(){var r=e.call(this)||this;r.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(e){return Int32Array.from(e)});for(var n=10;n<20;n++){for(var i=t.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];t.L_AND_G_PATTERNS[n]=o}return r}return Ld(t,e),t.prototype.decodeRow=function(e,r,n){var i=t.findStartGuardPattern(r),o=null==n?null:n.get(Bh.NEED_RESULT_POINT_CALLBACK);if(null!=o){var a=new Gf((i[0]+i[1])/2,e);o.foundPossibleResultPoint(a)}var s=this.decodeMiddle(r,i,this.decodeRowStringBuffer),c=s.rowOffset,l=s.resultString;if(null!=o){var u=new Gf(c,e);o.foundPossibleResultPoint(u)}var h=t.decodeEnd(r,c);if(null!=o){var f=new Gf((h[0]+h[1])/2,e);o.foundPossibleResultPoint(f)}var d=h[1],p=d+(d-h[0]);if(p>=r.getSize()||!r.isRange(d,p,!1))throw new Jh;var g=l.toString();if(g.length<8)throw new Uh;if(!t.checkChecksum(g))throw new _h;var m=(i[1]+i[0])/2,v=(h[1]+h[0])/2,y=this.getBarcodeFormat(),w=[new Gf(m,e),new Gf(v,e)],b=new yf(g,null,0,w,y,(new Date).getTime()),E=0;try{var _=Md.decodeRow(e,r,h[1]);b.putMetadata(_f.UPC_EAN_EXTENSION,_.getText()),b.putAllMetadata(_.getResultMetadata()),b.addResultPoints(_.getResultPoints()),E=_.getText().length}catch(T){}var S=null==n?null:n.get(Bh.ALLOWED_EAN_EXTENSIONS);if(null!=S){var C=!1;for(var A in S)if(E.toString()===A){C=!0;break}if(!C)throw new Jh}return y===bf.EAN_13||bf.UPC_A,b},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var n=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===n},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,r=0,n=t-1;n>=0;n-=2){if((i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new Uh;r+=i}r*=3;for(n=t-2;n>=0;n-=2){var i;if((i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new Uh;r+=i}return(1e3-r)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(xd);const Bd=Fd;var jd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ud=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vd=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return jd(t,e),t.prototype.decodeMiddle=function(e,r,n){var i,o,a,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=r[1],h=0,f=0;f<6&&u<l;f++){var d=Bd.decodeDigit(e,c,u,Bd.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var p=(i=void 0,Ud(c)),g=p.next();!g.done;g=p.next()){u+=g.value}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}d>=10&&(h|=1<<5-f)}n=t.determineFirstDigit(n,h),u=Bd.findGuardPattern(e,u,!0,Bd.MIDDLE_PATTERN,new Int32Array(Bd.MIDDLE_PATTERN.length).fill(0))[1];for(f=0;f<6&&u<l;f++){d=Bd.decodeDigit(e,c,u,Bd.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var m=(a=void 0,Ud(c)),v=m.next();!v.done;v=m.next()){u+=v.value}}catch(w){a={error:w}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}return{rowOffset:u,resultString:n}},t.prototype.getBarcodeFormat=function(){return bf.EAN_13},t.determineFirstDigit=function(e,t){for(var r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new Jh},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(Bd);const zd=Vd;var Hd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gd=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return Hd(t,e),t.prototype.decodeMiddle=function(e,t,r){var n,i,o,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var c=e.getSize(),l=t[1],u=0;u<4&&l<c;u++){var h=Bd.decodeDigit(e,s,l,Bd.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var f=(n=void 0,Wd(s)),d=f.next();!d.done;d=f.next()){l+=d.value}}catch(m){n={error:m}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}l=Bd.findGuardPattern(e,l,!0,Bd.MIDDLE_PATTERN,new Int32Array(Bd.MIDDLE_PATTERN.length).fill(0))[1];for(u=0;u<4&&l<c;u++){h=Bd.decodeDigit(e,s,l,Bd.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(o=void 0,Wd(s)),g=p.next();!g.done;g=p.next()){l+=g.value}}catch(v){o={error:v}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}return{rowOffset:l,resultString:r}},t.prototype.getBarcodeFormat=function(){return bf.EAN_8},t}(Bd);const Xd=Gd;var Kd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const qd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ean13Reader=new zd,t}return Kd(t,e),t.prototype.getBarcodeFormat=function(){return bf.UPC_A},t.prototype.decode=function(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))},t.prototype.decodeMiddle=function(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)},t.prototype.maybeReturnResult=function(e){var t=e.getText();if("0"===t.charAt(0)){var r=new yf(t.substring(1),null,null,e.getResultPoints(),bf.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new Jh},t.prototype.reset=function(){this.ean13Reader.reset()},t}(Bd);var Yd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zd=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$d=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return Yd(t,e),t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters.map(function(e){return e});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),c=r[1],l=0,u=0;u<6&&c<s;u++){var h=t.decodeDigit(e,a,c,t.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var f=(i=void 0,Zd(a)),d=f.next();!d.done;d=f.next()){c+=d.value}}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}h>=10&&(l|=1<<5-u)}return t.determineNumSysAndCheckDigit(new Yh(n),l),c},t.prototype.decodeEnd=function(e,r){return t.findGuardPatternWithoutCounters(e,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return Bd.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,t){for(var r=0;r<=1;r++)for(var n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return e.insert(0,"0"+r),void e.append("0"+n);throw Jh.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return bf.UPC_E},t.convertUPCEtoUPCA=function(e){var t=e.slice(1,7).split("").map(function(e){return e.charCodeAt(0)}),r=new Yh;r.append(e.charAt(0));var n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(Bd);const Qd=$d;var Jd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ep=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tp=function(e){function t(t){var r=e.call(this)||this,n=null==t?null:t.get(Bh.POSSIBLE_FORMATS),i=[];return null!=n&&(n.indexOf(bf.EAN_13)>-1&&i.push(new zd),n.indexOf(bf.UPC_A)>-1&&i.push(new qd),n.indexOf(bf.EAN_8)>-1&&i.push(new Xd),n.indexOf(bf.UPC_E)>-1&&i.push(new Qd)),0===i.length&&(i.push(new zd),i.push(new qd),i.push(new Xd),i.push(new Qd)),r.readers=i,r}return Jd(t,e),t.prototype.decodeRow=function(e,t,r){var n,i;try{for(var o=ep(this.readers),a=o.next();!a.done;a=o.next()){var s=a.value;try{var c=s.decodeRow(e,t,r),l=c.getBarcodeFormat()===bf.EAN_13&&"0"===c.getText().charAt(0),u=null==r?null:r.get(Bh.POSSIBLE_FORMATS),h=null==u||u.includes(bf.UPC_A);if(l&&h){var f=c.getRawBytes(),d=new yf(c.getText().substring(1),f,f?f.length:null,c.getResultPoints(),bf.UPC_A);return d.putAllMetadata(c.getResultMetadata()),d}return c}catch(p){}}}catch(g){n={error:g}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new Jh},t.prototype.reset=function(){var e,t;try{for(var r=ep(this.readers),n=r.next();!n.done;n=r.next()){n.value.reset()}}catch(i){e={error:i}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t}(hd);const rp=tp;var np=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ip=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return np(t,e),t.prototype.decodeRow=function(e,t,r){var n=this.getValidRowData(t);if(!n)throw new Jh;var i=this.codaBarDecodeRow(n.row);if(!i)throw new Jh;return new yf(i,null,0,[new Gf(n.left,e),new Gf(n.right,e)],bf.CODABAR,(new Date).getTime())},t.prototype.getValidRowData=function(e){var t=e.toArray(),r=t.indexOf(!0);if(-1===r)return null;var n=t.lastIndexOf(!0);if(n<=r)return null;for(var i=[],o=(t=t.slice(r,n+1))[0],a=1,s=1;s<t.length;s++)t[s]===o?a++:(o=t[s],i.push(a),a=1);return i.push(a),i.length<23&&(i.length+1)%8!==0?null:{row:i,left:r,right:n}},t.prototype.codaBarDecodeRow=function(e){for(var t=[],r=Math.ceil(e.reduce(function(e,t){return(e+t)/2},0));e.length>0;){var n=e.splice(0,8).splice(0,7).map(function(e){return e<r?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[n])return null;t.push(this.CODA_BAR_CHAR_SET[n])}var i=t.join("");return this.validCodaBarString(i)?i:null},t.prototype.validCodaBarString=function(e){return/^[A-D].{1,}[A-D]$/.test(e)},t}(hd);const op=ip;var ap=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cp=function(e){function t(){var t=e.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return ap(t,e),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,r){for(var n=0;n<r.length;n++)if(hd.patternMatchVariance(e,r[n],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return n;throw new Jh},t.count=function(e){return zf.sum(new Int32Array(e))},t.increment=function(e,t){for(var r=0,n=t[0],i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++},t.decrement=function(e,t){for(var r=0,n=t[0],i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--},t.isFinderPattern=function(e){var r,n,i=e[0]+e[1],o=i/(i+e[2]+e[3]);if(o>=t.MIN_FINDER_PATTERN_RATIO&&o<=t.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var c=sp(e),l=c.next();!l.done;l=c.next()){var u=l.value;u>s&&(s=u),u<a&&(a=u)}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return s<10*a}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(hd);const lp=cp;const up=function(){function e(e,t){this.value=e,this.checksumPortion=t}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}();const hp=function(){function e(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Gf(r,i)),this.resultPoints.push(new Gf(n,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.hashCode=function(){return this.value},e}();var fp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dp=function(){function e(){}return e.getRSSvalue=function(t,r,n){var i,o,a=0;try{for(var s=fp(t),c=s.next();!c.done;c=s.next()){a+=c.value}}catch(v){i={error:v}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var l=0,u=0,h=t.length,f=0;f<h-1;f++){var d=void 0;for(d=1,u|=1<<f;d<t[f];d++,u&=~(1<<f)){var p=e.combins(a-d-1,h-f-2);if(n&&0===u&&a-d-(h-f-1)>=h-f-1&&(p-=e.combins(a-d-(h-f),h-f-2)),h-f-1>1){for(var g=0,m=a-d-(h-f-2);m>r;m--)g+=e.combins(a-d-m-1,h-f-3);p-=g*(h-1-f)}else a-d>r&&p--;l+=p}a-=d}return l},e.combins=function(e,t){var r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);for(var i=1,o=1,a=e;a>r;a--)i*=a,o<=n&&(i/=o,o++);for(;o<=n;)i/=o,o++;return i},e}();const pp=dp;var gp=function(){function e(){}return e.buildBitArray=function(e){var t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);for(var r=new Lh(12*t),n=0,i=e[0].getRightChar().getValue(),o=11;o>=0;--o)0!==(i&1<<o)&&r.set(n),n++;for(o=1;o<e.length;++o){for(var a=e[o],s=a.getLeftChar().getValue(),c=11;c>=0;--c)0!==(s&1<<c)&&r.set(n),n++;if(null!==a.getRightChar()){var l=a.getRightChar().getValue();for(c=11;c>=0;--c)0!==(l&1<<c)&&r.set(n),n++}}return r},e}();const mp=gp;const vp=function(){function e(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}();const yp=function(){function e(e){this.newPosition=e}return e.prototype.getNewPosition=function(){return this.newPosition},e}();var wp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const bp=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return wp(t,e),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(yp);var Ep=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const _p=function(e){function t(t,r,n){var i=e.call(this,t)||this;return n?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return Ep(t,e),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(yp);var Sp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Cp=function(e){function t(t,r,n){var i=e.call(this,t)||this;if(r<0||r>10||n<0||n>10)throw new Uh;return i.firstDigit=r,i.secondDigit=n,i}return Sp(t,e),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(yp);var Ap=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tp=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var r,n,i,o,a,s,c,l;if(!t)return null;if(t.length<2)throw new Jh;var u=t.substring(0,2);try{for(var h=Ap(e.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){if((E=f.value)[0]===u)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,E[2],t):e.processFixedAI(2,E[1],t)}}catch(_){r={error:_}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(t.length<3)throw new Jh;var d=t.substring(0,3);try{for(var p=Ap(e.THREE_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){if((E=g.value)[0]===d)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,E[2],t):e.processFixedAI(3,E[1],t)}}catch(S){i={error:S}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var m=Ap(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=m.next();!v.done;v=m.next()){if((E=v.value)[0]===d)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,E[2],t):e.processFixedAI(4,E[1],t)}}catch(C){a={error:C}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(t.length<4)throw new Jh;var y=t.substring(0,4);try{for(var w=Ap(e.FOUR_DIGIT_DATA_LENGTH),b=w.next();!b.done;b=w.next()){var E;if((E=b.value)[0]===y)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,E[2],t):e.processFixedAI(4,E[1],t)}}catch(A){c={error:A}}finally{try{b&&!b.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}throw new Jh},e.processFixedAI=function(t,r,n){if(n.length<t)throw new Jh;var i=n.substring(0,t);if(n.length<t+r)throw new Jh;var o=n.substring(t,t+r),a=n.substring(t+r),s="("+i+")"+o,c=e.parseFieldsInGeneralPurpose(a);return null==c?s:s+c},e.processVariableAI=function(t,r,n){var i,o=n.substring(0,t);i=n.length<t+r?n.length:t+r;var a=n.substring(t,i),s=n.substring(i),c="("+o+")"+a,l=e.parseFieldsInGeneralPurpose(s);return null==l?c:c+l},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}();const Ip=Tp;const xp=function(){function e(e){this.buffer=new Yh,this.information=e}return e.prototype.decodeAllCodes=function(e,t){for(var r=t,n=null;;){var i=this.decodeGeneralPurposeField(r,n),o=Ip.parseFieldsInGeneralPurpose(i.getNewString());if(null!=o&&e.append(o),n=i.isRemaining()?""+i.getRemainingValue():null,r===i.getNewPosition())break;r=i.getNewPosition()}return e.toString()},e.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},e.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new Cp(this.information.getSize(),0===t?Cp.FNC1:t-1,Cp.FNC1)}var r=this.extractNumericValueFromBitArray(e,7);return new Cp(e+7,(r-8)/11,(r-8)%11)},e.prototype.extractNumericValueFromBitArray=function(t,r){return e.extractNumericValueFromBitArray(this.information,t,r)},e.extractNumericValueFromBitArray=function(e,t,r){for(var n=0,i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n},e.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return null!=r&&r.isRemaining()?new _p(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new _p(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new _p(this.current.getPosition(),this.buffer.toString()):new _p(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new vp(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){t=new _p(this.current.getPosition(),this.buffer.toString());return new vp(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vp(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new _p(this.current.getPosition(),this.buffer.toString());return new vp(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vp(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new _p(this.current.getPosition(),this.buffer.toString());return new vp(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vp(!1)},e.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253},e.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new bp(e+5,bp.FNC1);if(t>=5&&t<15)return new bp(e+5,"0"+(t-5));var r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new bp(e+7,""+(n+1));if(n>=90&&n<116)return new bp(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new Uh}return new bp(e+8,r)},e.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},e.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new bp(e+5,bp.FNC1);if(t>=5&&t<15)return new bp(e+5,"0"+(t-5));var r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new bp(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new Mf("Decoding invalid alphanumeric value: "+n)}return new bp(e+6,r)},e.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},e}();const kp=function(){function e(e){this.information=e,this.generalDecoder=new xp(e)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}();var Np=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Op=function(e){function t(t){return e.call(this,t)||this}return Np(t,e),t.prototype.encodeCompressedGtin=function(e,t){e.append("(01)");var r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)},t.prototype.encodeCompressedGtinWithoutAI=function(e,r,n){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}t.appendCheckDigit(e,n)},t.appendCheckDigit=function(e,t){for(var r=0,n=0;n<13;n++){var i=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=0===(1&n)?3*i:i}10===(r=10-r%10)&&(r=0),e.append(r)},t.GTIN_SIZE=40,t}(kp);var Rp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Dp=function(e){function t(t){return e.call(this,t)||this}return Rp(t,e),t.prototype.parseInformation=function(){var e=new Yh;e.append("(01)");var r=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Op);var Pp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Mp=function(e){function t(t){return e.call(this,t)||this}return Pp(t,e),t.prototype.parseInformation=function(){var e=new Yh;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(kp);var Lp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Fp=function(e){function t(t){return e.call(this,t)||this}return Lp(t,e),t.prototype.encodeCompressedWeight=function(e,t,r){var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);for(var i=this.checkWeight(n),o=1e5,a=0;a<5;++a)i/o===0&&e.append("0"),o/=10;e.append(i)},t}(Op);var Bp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const jp=function(e){function t(t){return e.call(this,t)||this}return Bp(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+Fp.GTIN_SIZE+t.WEIGHT_SIZE)throw new Jh;var e=new Yh;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+Fp.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(Fp);var Up=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Vp=function(e){function t(t){return e.call(this,t)||this}return Up(t,e),t.prototype.addWeightCode=function(e,t){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(jp);var zp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Hp=function(e){function t(t){return e.call(this,t)||this}return zp(t,e),t.prototype.addWeightCode=function(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(jp);var Wp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Gp=function(e){function t(t){return e.call(this,t)||this}return Wp(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Op.GTIN_SIZE)throw new Jh;var e=new Yh;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Op.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");var n=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Op.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Op);var Xp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Kp=function(e){function t(t){return e.call(this,t)||this}return Xp(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Op.GTIN_SIZE)throw new Jh;var e=new Yh;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Op.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Op.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);n/100===0&&e.append("0"),n/10===0&&e.append("0"),e.append(n);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Op.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Op);var qp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Yp=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.dateCode=n,i.firstAIdigits=r,i}return qp(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Jh;var e=new Yh;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,r){var n=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(38400!==n){e.append("("),e.append(this.dateCode),e.append(")");var i=n%32,o=(n/=32)%12+1,a=n/=12;a/10===0&&e.append("0"),e.append(a),o/10===0&&e.append("0"),e.append(o),i/10===0&&e.append("0"),e.append(i)}},t.prototype.addWeightCode=function(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(Fp);const Zp=function(){function e(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return null==this.rightchar},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,r){return t instanceof e&&(e.equalsOrNull(t.leftchar,r.leftchar)&&e.equalsOrNull(t.rightchar,r.rightchar)&&e.equalsOrNull(t.finderpattern,r.finderpattern))},e.equalsOrNull=function(t,r){return null===t?null===r:e.equals(t,r)},e.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},e}();const $p=function(){function e(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,r){return t instanceof e&&(this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed)},e.prototype.checkEqualitity=function(e,t){var r;if(e&&t)return e.forEach(function(e,n){t.forEach(function(t){e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(r=!0)})}),r},e}();var Qp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eg=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.pairs=new Array(t.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return Qp(t,e),t.prototype.decodeRow=function(e,r,n){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,r))}catch(i){}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,t){for(var r,n=!1;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof Jh){if(!this.pairs.length)throw new Jh;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){var i=this.checkRowsBoolean(!1);if(null!=i)return i;if(null!=(i=this.checkRowsBoolean(!0)))return i}throw new Jh},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var t=null;try{t=this.checkRows(new Array,0)}catch(r){console.log(r)}return e&&(this.rows=this.rows.reverse()),t},t.prototype.checkRows=function(e,r){for(var n,i,o=r;o<this.rows.length;o++){var a=this.rows[o];this.pairs.length=0;try{for(var s=(n=void 0,Jp(e)),c=s.next();!c.done;c=s.next()){var l=c.value;this.pairs.push(l.getPairs())}}catch(h){n={error:h}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}if(this.pairs.push(a.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var u=new Array(e);u.push(a);try{return this.checkRows(u,o+1)}catch(f){console.log(f)}}}throw new Jh},t.isValidSequence=function(e){var r,n;try{for(var i=Jp(t.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var a=o.value;if(!(e.length>a.length)){for(var s=!0,c=0;c<e.length;c++)if(e[c].getFinderPattern().getValue()!==a[c]){s=!1;break}if(s)return!0}}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(e,r){for(var n=0,i=!1,o=!1;n<this.rows.length;){var a=this.rows[n];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),n++}o||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new $p(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,t){var r,n,i,o,a,s;try{for(var c=Jp(t),l=c.next();!l.done;l=c.next()){var u=l.value;if(u.getPairs().length!==e.length){try{for(var h=(i=void 0,Jp(u.getPairs())),f=h.next();!f.done;f=h.next()){var d=f.value,p=!1;try{for(var g=(a=void 0,Jp(e)),m=g.next();!m.done;m=g.next()){var v=m.value;if(Zp.equals(d,v)){p=!0;break}}}catch(y){a={error:y}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}p||!1}}catch(w){i={error:w}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}}catch(b){r={error:b}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}},t.isPartialRow=function(e,t){var r,n,i,o,a,s;try{for(var c=Jp(t),l=c.next();!l.done;l=c.next()){var u=l.value,h=!0;try{for(var f=(i=void 0,Jp(e)),d=f.next();!d.done;d=f.next()){var p=d.value,g=!1;try{for(var m=(a=void 0,Jp(u.getPairs())),v=m.next();!v.done;v=m.next()){var y=v.value;if(p.equals(y)){g=!0;break}}}catch(w){a={error:w}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!g){h=!1;break}}}catch(b){i={error:b}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}if(h)return!0}}catch(E){r={error:E}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var t=function(e){try{if(e.get(1))return new Dp(e);if(!e.get(2))return new Mp(e);switch(xp.extractNumericValueFromBitArray(e,1,4)){case 4:return new Vp(e);case 5:return new Hp(e)}switch(xp.extractNumericValueFromBitArray(e,1,5)){case 12:return new Gp(e);case 13:return new Kp(e)}switch(xp.extractNumericValueFromBitArray(e,1,7)){case 56:return new Yp(e,"310","11");case 57:return new Yp(e,"320","11");case 58:return new Yp(e,"310","13");case 59:return new Yp(e,"320","13");case 60:return new Yp(e,"310","15");case 61:return new Yp(e,"320","15");case 62:return new Yp(e,"310","17");case 63:return new Yp(e,"320","17")}}catch(t){throw console.log(t),new Mf("unknown decoder: "+e)}}(mp.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints(),i=[r[0],r[1],n[0],n[1]];return new yf(t,null,null,i,bf.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null===r)return!1;for(var n=r.getChecksumPortion(),i=2,o=1;o<this.pairs.size();++o){var a=this.pairs.get(o);n+=a.getLeftChar().getChecksumPortion(),i++;var s=a.getRightChar();null!=s&&(n+=s.getChecksumPortion(),i++)}return 211*(i-4)+(n%=211)===t.getValue()},t.getNextSecondBar=function(e,t){var r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r},t.prototype.retrieveNextPair=function(e,r,n){var i,o=r.length%2===0;this.startFromEven&&(o=!o);var a=!0,s=-1;do{this.findNextPair(e,r,s),null===(i=this.parseFoundFinderPattern(e,n,o))?s=t.getNextSecondBar(e,this.startEnd[0]):a=!1}while(a);var c,l=this.decodeDataCharacter(e,i,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Jh;try{c=this.decodeDataCharacter(e,i,o,!1)}catch(u){c=null,console.log(u)}return new Zp(l,c,i,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o,a=e.getSize();if(n>=0)o=n;else if(this.isEmptyPair(r))o=0;else{o=r[r.length-1].getFinderPattern().getStartEnd()[1]}var s=r.length%2!==0;this.startFromEven&&(s=!s);for(var c=!1;o<a&&(c=!e.get(o));)o++;for(var l=0,u=o,h=o;h<a;h++)if(e.get(h)!==c)i[l]++;else{if(3===l){if(s&&t.reverseCounters(i),t.isFinderPattern(i))return this.startEnd[0]=u,void(this.startEnd[1]=h);s&&t.reverseCounters(i),u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,c=!c}throw new Jh},t.reverseCounters=function(e){for(var t=e.length,r=0;r<t/2;++r){var n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}},t.prototype.parseFoundFinderPattern=function(e,r,n){var i,o,a;if(n){for(var s=this.startEnd[0]-1;s>=0&&!e.get(s);)s--;s++,i=this.startEnd[0]-s,o=s,a=this.startEnd[1]}else o=this.startEnd[0],i=(a=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var c,l=this.getDecodeFinderCounters();Ah.arraycopy(l,0,l,1,l.length-1),l[0]=i;try{c=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch(u){return null}return new hp(c,[o,a],o,a,r)},t.prototype.decodeDataCharacter=function(e,r,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)t.recordPatternInReverse(e,r.getStartEnd()[0],o);else{t.recordPattern(e,r.getStartEnd()[1],o);for(var s=0,c=o.length-1;s<c;s++,c--){var l=o[s];o[s]=o[c],o[c]=l}}var u=zf.sum(new Int32Array(o))/17,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(u-h)/h>.3)throw new Jh;var f=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<o.length;s++){var m=1*o[s]/u,v=m+.5;if(v<1){if(m<.3)throw new Jh;v=1}else if(v>8){if(m>8.7)throw new Jh;v=8}var y=s/2;0===(1&s)?(f[y]=v,p[y]=m-v):(d[y]=v,g[y]=m-v)}this.adjustOddEvenCounts(17);var w=4*r.getValue()+(n?0:2)+(i?0:1)-1,b=0,E=0;for(s=f.length-1;s>=0;s--){if(t.isNotA1left(r,n,i)){var _=t.WEIGHTS[w][2*s];E+=f[s]*_}b+=f[s]}var S=0;for(s=d.length-1;s>=0;s--)if(t.isNotA1left(r,n,i)){_=t.WEIGHTS[w][2*s+1];S+=d[s]*_}var C=E+S;if(0!==(1&b)||b>13||b<4)throw new Jh;var A=(13-b)/2,T=t.SYMBOL_WIDEST[A],I=9-T,x=pp.getRSSvalue(f,T,!0),k=pp.getRSSvalue(d,I,!1),N=t.EVEN_TOTAL_SUBSET[A],O=t.GSUM[A];return new up(x*N+k+O,C)},t.isNotA1left=function(e,t,r){return!(0===e.getValue()&&t&&r)},t.prototype.adjustOddEvenCounts=function(e){var r=zf.sum(new Int32Array(this.getOddCounts())),n=zf.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;r>13?o=!0:r<4&&(i=!0);var a=!1,s=!1;n>13?s=!0:n<4&&(a=!0);var c=r+n-e,l=1===(1&r),u=0===(1&n);if(1===c)if(l){if(u)throw new Jh;o=!0}else{if(!u)throw new Jh;s=!0}else if(-1===c)if(l){if(u)throw new Jh;i=!0}else{if(!u)throw new Jh;a=!0}else{if(0!==c)throw new Jh;if(l){if(!u)throw new Jh;r<n?(i=!0,s=!0):(o=!0,a=!0)}else if(u)throw new Jh}if(i){if(o)throw new Jh;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new Jh;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(lp);const tg=eg;var rg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const ng=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.count=0,i.finderPattern=n,i}return rg(t,e),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(up);var ig=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),og=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ag=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return ig(t,e),t.prototype.decodeRow=function(e,r,n){var i,o,a,s,c=this.decodePair(r,!1,e,n);t.addOrTally(this.possibleLeftPairs,c),r.reverse();var l=this.decodePair(r,!0,e,n);t.addOrTally(this.possibleRightPairs,l),r.reverse();try{for(var u=og(this.possibleLeftPairs),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.getCount()>1)try{for(var d=(a=void 0,og(this.possibleRightPairs)),p=d.next();!p.done;p=d.next()){var g=p.value;if(g.getCount()>1&&t.checkChecksum(f,g))return t.constructResult(f,g)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}throw new Jh},t.addOrTally=function(e,t){var r,n;if(null!=t){var i=!1;try{for(var o=og(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getValue()===t.getValue()){s.incrementCount(),i=!0;break}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}i||e.push(t)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,t){for(var r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new Yh,o=13-n.length;o>0;o--)i.append("0");i.append(n);var a=0;for(o=0;o<13;o++){var s=i.charAt(o).charCodeAt(0)-"0".charCodeAt(0);a+=0===(1&o)?3*s:s}10===(a=10-a%10)&&(a=0),i.append(a.toString());var c=e.getFinderPattern().getResultPoints(),l=t.getFinderPattern().getResultPoints();return new yf(i.toString(),null,0,[c[0],c[1],l[0],l[1]],bf.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,t){var r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n},t.prototype.decodePair=function(e,t,r,n){try{var i=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,i),a=null==n?null:n.get(Bh.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(i[0]+i[1])/2;t&&(s=e.getSize()-1-s),a.foundPossibleResultPoint(new Gf(s,r))}var c=this.decodeDataCharacter(e,o,!0),l=this.decodeDataCharacter(e,o,!1);return new ng(1597*c.getValue()+l.getValue(),c.getChecksumPortion()+4*l.getChecksumPortion(),o)}catch(u){return null}},t.prototype.decodeDataCharacter=function(e,r,n){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(n)hd.recordPatternInReverse(e,r.getStartEnd()[0],i);else{hd.recordPattern(e,r.getStartEnd()[1]+1,i);for(var a=0,s=i.length-1;a<s;a++,s--){var c=i[a];i[a]=i[s],i[s]=c}}var l=n?16:15,u=zf.sum(new Int32Array(i))/l,h=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(a=0;a<i.length;a++){var g=i[a]/u,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var v=Math.floor(a/2);0===(1&a)?(h[v]=m,d[v]=g-m):(f[v]=m,p[v]=g-m)}this.adjustOddEvenCounts(n,l);var y=0,w=0;for(a=h.length-1;a>=0;a--)w*=9,w+=h[a],y+=h[a];var b=0,E=0;for(a=f.length-1;a>=0;a--)b*=9,b+=f[a],E+=f[a];var _=w+3*b;if(n){if(0!==(1&y)||y>12||y<4)throw new Jh;var S=(12-y)/2,C=9-(k=t.OUTSIDE_ODD_WIDEST[S]),A=pp.getRSSvalue(h,k,!1),T=pp.getRSSvalue(f,C,!0),I=t.OUTSIDE_EVEN_TOTAL_SUBSET[S],x=t.OUTSIDE_GSUM[S];return new up(A*I+T+x,_)}if(0!==(1&E)||E>10||E<4)throw new Jh;S=(10-E)/2,C=9-(k=t.INSIDE_ODD_WIDEST[S]),A=pp.getRSSvalue(h,k,!0),T=pp.getRSSvalue(f,C,!1);var k,N=t.INSIDE_ODD_TOTAL_SUBSET[S];x=t.INSIDE_GSUM[S];return new up(T*N+A+x,_)},t.prototype.findFinderPattern=function(e,t){var r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;for(var n=e.getSize(),i=!1,o=0;o<n&&t!==(i=!e.get(o));)o++;for(var a=0,s=o,c=o;c<n;c++)if(e.get(c)!==i)r[a]++;else{if(3===a){if(lp.isFinderPattern(r))return[s,c];s+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,a--}else a++;r[a]=1,i=!i}throw new Jh},t.prototype.parseFoundFinderPattern=function(e,r,n,i){for(var o=e.get(i[0]),a=i[0]-1;a>=0&&o!==e.get(a);)a--;a++;var s=i[0]-a,c=this.getDecodeFinderCounters(),l=new Int32Array(c.length);Ah.arraycopy(c,0,l,1,c.length-1),l[0]=s;var u=this.parseFinderValue(l,t.FINDER_PATTERNS),h=a,f=i[1];return n&&(h=e.getSize()-1-h,f=e.getSize()-1-f),new hp(u,[a,i[1]],h,f,r)},t.prototype.adjustOddEvenCounts=function(e,t){var r=zf.sum(new Int32Array(this.getOddCounts())),n=zf.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,a=!1,s=!1;e?(r>12?o=!0:r<4&&(i=!0),n>12?s=!0:n<4&&(a=!0)):(r>11?o=!0:r<5&&(i=!0),n>10?s=!0:n<4&&(a=!0));var c=r+n-t,l=(1&r)===(e?1:0),u=1===(1&n);if(1===c)if(l){if(u)throw new Jh;o=!0}else{if(!u)throw new Jh;s=!0}else if(-1===c)if(l){if(u)throw new Jh;i=!0}else{if(!u)throw new Jh;a=!0}else{if(0!==c)throw new Jh;if(l){if(!u)throw new Jh;r<n?(i=!0,s=!0):(o=!0,a=!0)}else if(u)throw new Jh}if(i){if(o)throw new Jh;lp.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&lp.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new Jh;lp.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&lp.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(lp);const sg=ag;var cg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const lg=function(e){function t(t){var r=e.call(this)||this;r.readers=[];var n=t?t.get(Bh.POSSIBLE_FORMATS):null,i=t&&void 0!==t.get(Bh.ASSUME_CODE_39_CHECK_DIGIT),o=t&&void 0!==t.get(Bh.ENABLE_CODE_39_EXTENDED_MODE);return n&&((n.includes(bf.EAN_13)||n.includes(bf.UPC_A)||n.includes(bf.EAN_8)||n.includes(bf.UPC_E))&&r.readers.push(new rp(t)),n.includes(bf.CODE_39)&&r.readers.push(new vd(i,o)),n.includes(bf.CODE_93)&&r.readers.push(new Ed),n.includes(bf.CODE_128)&&r.readers.push(new dd),n.includes(bf.ITF)&&r.readers.push(new Ad),n.includes(bf.CODABAR)&&r.readers.push(new op),n.includes(bf.RSS_14)&&r.readers.push(new sg),n.includes(bf.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new tg))),0===r.readers.length&&(r.readers.push(new rp(t)),r.readers.push(new vd),r.readers.push(new Ed),r.readers.push(new rp(t)),r.readers.push(new dd),r.readers.push(new Ad),r.readers.push(new sg)),r}return cg(t,e),t.prototype.decodeRow=function(e,t,r){for(var n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch(i){}throw new Jh},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t}(hd);var ug=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hg=(function(e){function t(t,r){return void 0===t&&(t=500),e.call(this,new lg(r),t,r)||this}ug(t,e)}(vf),function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),fg=function(){function e(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),dg=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),pg=function(){function e(e,t,r,n,i,o){var a,s;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=o;var c=0,l=o.getECCodewords(),u=o.getECBlocks();try{for(var h=hg(u),f=h.next();!f.done;f=h.next()){var d=f.value;c+=d.getCount()*(d.getDataCodewords()+l)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}this.totalCodewords=c}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,r){var n,i;if(0!==(1&t)||0!==(1&r))throw new Uh;try{for(var o=hg(e.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new Uh},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new fg(5,new dg(1,3))),new e(2,12,12,10,10,new fg(7,new dg(1,5))),new e(3,14,14,12,12,new fg(10,new dg(1,8))),new e(4,16,16,14,14,new fg(12,new dg(1,12))),new e(5,18,18,16,16,new fg(14,new dg(1,18))),new e(6,20,20,18,18,new fg(18,new dg(1,22))),new e(7,22,22,20,20,new fg(20,new dg(1,30))),new e(8,24,24,22,22,new fg(24,new dg(1,36))),new e(9,26,26,24,24,new fg(28,new dg(1,44))),new e(10,32,32,14,14,new fg(36,new dg(1,62))),new e(11,36,36,16,16,new fg(42,new dg(1,86))),new e(12,40,40,18,18,new fg(48,new dg(1,114))),new e(13,44,44,20,20,new fg(56,new dg(1,144))),new e(14,48,48,22,22,new fg(68,new dg(1,174))),new e(15,52,52,24,24,new fg(42,new dg(2,102))),new e(16,64,64,14,14,new fg(56,new dg(2,140))),new e(17,72,72,16,16,new fg(36,new dg(4,92))),new e(18,80,80,18,18,new fg(48,new dg(4,114))),new e(19,88,88,20,20,new fg(56,new dg(4,144))),new e(20,96,96,22,22,new fg(68,new dg(4,174))),new e(21,104,104,24,24,new fg(56,new dg(6,136))),new e(22,120,120,18,18,new fg(68,new dg(6,175))),new e(23,132,132,20,20,new fg(62,new dg(8,163))),new e(24,144,144,22,22,new fg(62,new dg(8,156),new dg(2,155))),new e(25,8,18,6,16,new fg(7,new dg(1,5))),new e(26,8,32,6,14,new fg(11,new dg(1,10))),new e(27,12,26,10,24,new fg(14,new dg(1,16))),new e(28,12,36,10,16,new fg(18,new dg(1,22))),new e(29,16,36,14,16,new fg(24,new dg(1,32))),new e(30,16,48,14,22,new fg(28,new dg(1,49)))]},e.VERSIONS=e.buildVersions(),e}();const gg=pg;var mg=function(){function e(t){var r=t.getHeight();if(r<8||r>144||0!==(1&r))throw new Uh;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new $h(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return gg.getVersionForDimensions(t,r)},e.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,n=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),a=!1,s=!1,c=!1,l=!1;do{if(r!==i||0!==n||a)if(r!==i-2||0!==n||0===(3&o)||s)if(r!==i+4||2!==n||0!==(7&o)||c)if(r!==i-2||0!==n||4!==(7&o)||l){do{r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,o)),r-=2,n+=2}while(r>=0&&n<o);r+=1,n+=3;do{r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,o)),r+=2,n-=2}while(r<i&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(i,o),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner3(i,o),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner2(i,o),r-=2,n+=2,s=!0;else e[t++]=255&this.readCorner1(i,o),r-=2,n+=2,a=!0}while(r<i||n<o);if(t!==this.version.getTotalCodewords())throw new Uh;return e},e.prototype.readModule=function(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},e.prototype.readUtah=function(e,t,r,n){var i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i},e.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},e.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},e.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},e.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},e.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new wh("Dimension of bitMatrix must match the version size");for(var n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=t/n|0,a=r/i|0,s=new $h(a*i,o*n),c=0;c<o;++c)for(var l=c*n,u=0;u<a;++u)for(var h=u*i,f=0;f<n;++f)for(var d=c*(n+2)+1+f,p=l+f,g=0;g<i;++g){var m=u*(i+2)+1+g;if(e.get(m,d)){var v=h+g;s.set(v,p)}}return s},e}();const vg=mg;var yg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wg=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,r){var n,i,o,a,s=r.getECBlocks(),c=0,l=s.getECBlocks();try{for(var u=yg(l),h=u.next();!h.done;h=u.next()){c+=(m=h.value).getCount()}}catch(k){n={error:k}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var f=new Array(c),d=0;try{for(var p=yg(l),g=p.next();!g.done;g=p.next())for(var m=g.value,v=0;v<m.getCount();v++){var y=m.getDataCodewords(),w=s.getECCodewords()+y;f[d++]=new e(y,new Uint8Array(w))}}catch(N){o={error:N}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}var b=f[0].codewords.length-s.getECCodewords(),E=b-1,_=0;for(v=0;v<E;v++)for(var S=0;S<d;S++)f[S].codewords[v]=t[_++];var C=24===r.getVersionNumber(),A=C?8:d;for(S=0;S<A;S++)f[S].codewords[b-1]=t[_++];var T=f[0].codewords.length;for(v=b;v<T;v++)for(S=0;S<d;S++){var I=C?(S+8)%d:S,x=C&&I>7?v-1:v;f[I].codewords[x]=t[_++]}if(_!==t.length)throw new wh;return f},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();const bg=wg;const Eg=function(){function e(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new wh(""+e);var t=0,r=this.bitOffset,n=this.byteOffset,i=this.bytes;if(r>0){var o=8-r,a=e<o?e:o,s=255>>8-a<<(c=o-a);t=(i[n]&s)>>c,e-=a,8===(r+=a)&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&i[n],n++,e-=8;if(e>0){var c;s=255>>(c=8-e)<<c;t=t<<e|(i[n]&s)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=n,t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();var _g;!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(_g||(_g={}));var Sg=function(){function e(){}return e.decode=function(e){var t=new Eg(e),r=new Yh,n=new Yh,i=new Array,o=_g.ASCII_ENCODE;do{if(o===_g.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case _g.C40_ENCODE:this.decodeC40Segment(t,r);break;case _g.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case _g.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case _g.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case _g.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new Uh}o=_g.ASCII_ENCODE}}while(o!==_g.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new Sf(e,r.toString(),0===i.length?null:i,null)},e.decodeAsciiSegment=function(e,t,r){var n=!1;do{var i=e.readBits(8);if(0===i)throw new Uh;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),_g.ASCII_ENCODE;if(129===i)return _g.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&t.append("0"),t.append(""+o)}else switch(i){case 230:return _g.C40_ENCODE;case 231:return _g.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return _g.ANSIX12_ENCODE;case 239:return _g.TEXT_ENCODE;case 240:return _g.EDIFACT_ENCODE;default:if(254!==i||0!==e.available())throw new Uh}}while(e.available()>0);return _g.ASCII_ENCODE},e.decodeC40Segment=function(e,t){var r=!1,n=[],i=0;do{if(8===e.available())return;var o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(var a=0;a<3;a++){var s=n[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new Uh;var c=this.C40_BASIC_SET_CHARS[s];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}break;case 1:r?(t.append(String.fromCharCode(s+128)),r=!1):t.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){c=this.C40_SHIFT2_SET_CHARS[s];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new Uh}i=0;break;case 3:r?(t.append(String.fromCharCode(s+224)),r=!1):t.append(String.fromCharCode(s+96)),i=0;break;default:throw new Uh}}}while(e.available()>0)},e.decodeTextSegment=function(e,t){var r=!1,n=[],i=0;do{if(8===e.available())return;var o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(var a=0;a<3;a++){var s=n[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new Uh;var c=this.TEXT_BASIC_SET_CHARS[s];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}break;case 1:r?(t.append(String.fromCharCode(s+128)),r=!1):t.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){c=this.TEXT_SHIFT2_SET_CHARS[s];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new Uh}i=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new Uh;c=this.TEXT_SHIFT3_SET_CHARS[s];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c),i=0;break;default:throw new Uh}}}while(e.available()>0)},e.decodeAnsiX12Segment=function(e,t){var r=[];do{if(8===e.available())return;var n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(var i=0;i<3;i++){var o=r[i];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else{if(!(o<40))throw new Uh;t.append(String.fromCharCode(o+51))}}}}while(e.available()>0)},e.parseTwoBytes=function(e,t,r){var n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=1600*i,i=Math.floor(n/40),r[1]=i,r[2]=n-40*i},e.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var n=e.readBits(6);if(31===n){var i=8-e.getBitOffset();return void(8!==i&&e.readBits(i))}0===(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)},e.decodeBase256Segment=function(e,t,r){var n,i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++);if((n=0===o?e.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(e.readBits(8),i++))<0)throw new Uh;for(var a=new Uint8Array(n),s=0;s<n;s++){if(e.available()<8)throw new Uh;a[s]=this.unrandomize255State(e.readBits(8),i++)}r.push(a);try{t.append(Kh.decode(a,qh.ISO88591))}catch(c){throw new Mf("Platform does not support required encoding: "+c.message)}},e.unrandomize255State=function(e,t){var r=e-(149*t%255+1);return r>=0?r:r+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}();const Cg=Sg;var Ag=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tg=function(){function e(){this.rsDecoder=new Ff(Of.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var t,r,n=new vg(e),i=n.getVersion(),o=n.readCodewords(),a=bg.getDataBlocks(o,i),s=0;try{for(var c=Ag(a),l=c.next();!l.done;l=c.next()){s+=l.value.getNumDataCodewords()}}catch(v){t={error:v}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}for(var u=new Uint8Array(s),h=a.length,f=0;f<h;f++){var d=a[f],p=d.getCodewords(),g=d.getNumDataCodewords();this.correctErrors(p,g);for(var m=0;m<g;m++)u[m*h+f]=p[m]}return Cg.decode(u)},e.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(i){throw new _h}for(var n=0;n<t;n++)e[n]=r[n]},e}();const Ig=Tg;var xg=function(){function e(e){this.image=e,this.rectangleDetector=new Zf(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),r=this.detectSolid1(t);if((r=this.detectSolid2(r))[3]=this.correctTopRight(r),!r[3])throw new Jh;var n=(r=this.shiftToModuleCenter(r))[0],i=r[1],o=r[2],a=r[3],s=this.transitionsBetween(n,a)+1,c=this.transitionsBetween(o,a)+1;1===(1&s)&&(s+=1),1===(1&c)&&(c+=1),4*s<7*c&&4*c<7*s&&(s=c=Math.max(s,c));var l=e.sampleGrid(this.image,n,i,o,a,s,c);return new Xf(l,[n,i,o,a])},e.shiftPoint=function(e,t,r){var n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new Gf(e.getX()+n,e.getY()+i)},e.moveAway=function(e,t,r){var n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new Gf(n,i)},e.prototype.detectSolid1=function(e){var t=e[0],r=e[1],n=e[3],i=e[2],o=this.transitionsBetween(t,r),a=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),c=this.transitionsBetween(i,t),l=o,u=[i,t,r,n];return l>a&&(l=a,u[0]=t,u[1]=r,u[2]=n,u[3]=i),l>s&&(l=s,u[0]=r,u[1]=n,u[2]=i,u[3]=t),l>c&&(u[0]=n,u[1]=i,u[2]=t,u[3]=r),u},e.prototype.detectSolid2=function(t){var r=t[0],n=t[1],i=t[2],o=t[3],a=this.transitionsBetween(r,o),s=e.shiftPoint(n,i,4*(a+1)),c=e.shiftPoint(i,n,4*(a+1));return this.transitionsBetween(s,r)<this.transitionsBetween(c,o)?(t[0]=r,t[1]=n,t[2]=i,t[3]=o):(t[0]=n,t[1]=i,t[2]=o,t[3]=r),t},e.prototype.correctTopRight=function(t){var r=t[0],n=t[1],i=t[2],o=t[3],a=this.transitionsBetween(r,o),s=this.transitionsBetween(n,o),c=e.shiftPoint(r,n,4*(s+1)),l=e.shiftPoint(i,n,4*(a+1));a=this.transitionsBetween(c,o),s=this.transitionsBetween(l,o);var u=new Gf(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),h=new Gf(o.getX()+(r.getX()-n.getX())/(s+1),o.getY()+(r.getY()-n.getY())/(s+1));return this.isValid(u)?this.isValid(h)?this.transitionsBetween(c,u)+this.transitionsBetween(l,u)>this.transitionsBetween(c,h)+this.transitionsBetween(l,h)?u:h:u:this.isValid(h)?h:null},e.prototype.shiftToModuleCenter=function(t){var r=t[0],n=t[1],i=t[2],o=t[3],a=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(i,o)+1,c=e.shiftPoint(r,n,4*s),l=e.shiftPoint(i,n,4*a);1===(1&(a=this.transitionsBetween(c,o)+1))&&(a+=1),1===(1&(s=this.transitionsBetween(l,o)+1))&&(s+=1);var u,h,f=(r.getX()+n.getX()+i.getX()+o.getX())/4,d=(r.getY()+n.getY()+i.getY()+o.getY())/4;return r=e.moveAway(r,f,d),n=e.moveAway(n,f,d),i=e.moveAway(i,f,d),o=e.moveAway(o,f,d),c=e.shiftPoint(r,n,4*s),c=e.shiftPoint(c,o,4*a),u=e.shiftPoint(n,r,4*s),u=e.shiftPoint(u,i,4*a),l=e.shiftPoint(i,o,4*s),l=e.shiftPoint(l,n,4*a),h=e.shiftPoint(o,i,4*s),[c,u,l,h=e.shiftPoint(h,r,4*a)]},e.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},e.sampleGrid=function(e,t,r,n,i,o,a){return id.getInstance().sampleGrid(e,o,a,.5,.5,o-.5,.5,o-.5,a-.5,.5,a-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())},e.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),a=Math.abs(o-n)>Math.abs(i-r);if(a){var s=r;r=n,n=s,s=i,i=o,o=s}for(var c=Math.abs(i-r),l=Math.abs(o-n),u=-c/2,h=n<o?1:-1,f=r<i?1:-1,d=0,p=this.image.get(a?n:r,a?r:n),g=r,m=n;g!==i;g+=f){var v=this.image.get(a?m:g,a?g:m);if(v!==p&&(d++,p=v),(u+=l)>0){if(m===o)break;m+=h,u-=c}}return d},e}();const kg=xg;var Ng=function(){function e(){this.decoder=new Ig}return e.prototype.decode=function(t,r){var n,i;if(void 0===r&&(r=null),null!=r&&r.has(Bh.PURE_BARCODE)){var o=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(o),i=e.NO_POINTS}else{var a=new kg(t.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),c=new yf(n.getText(),s,8*s.length,i,bf.DATA_MATRIX,Ah.currentTimeMillis()),l=n.getByteSegments();null!=l&&c.putMetadata(_f.BYTE_SEGMENTS,l);var u=n.getECLevel();return null!=u&&c.putMetadata(_f.ERROR_CORRECTION_LEVEL,u),c},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new Jh;var n=this.moduleSize(t,e),i=t[1],o=r[1],a=t[0],s=(r[0]-a+1)/n,c=(o-i+1)/n;if(s<=0||c<=0)throw new Jh;var l=n/2;i+=l,a+=l;for(var u=new $h(s,c),h=0;h<c;h++)for(var f=i+h*n,d=0;d<s;d++)e.get(a+d*n,f)&&u.set(d,h);return u},e.moduleSize=function(e,t){for(var r=t.getWidth(),n=e[0],i=e[1];n<r&&t.get(n,i);)n++;if(n===r)throw new Jh;var o=n-e[0];if(0===o)throw new Jh;return o},e.NO_POINTS=[],e}();const Og=Ng;var Rg,Dg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Og,t)||this}Dg(t,e)}(vf);!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(Rg||(Rg={}));const Pg=function(){function e(t,r,n){this.value=t,this.stringValue=r,this.bits=n,e.FOR_BITS.set(n,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new vh(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new wh;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(Rg.L,"L",1),e.M=new e(Rg.M,"M",0),e.Q=new e(Rg.Q,"Q",3),e.H=new e(Rg.H,"H",2),e}();var Mg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lg=function(){function e(e){this.errorCorrectionLevel=Pg.forBits(e>>3&3),this.dataMask=7&e}return e.numBitsDiffering=function(e,t){return Ph.bitCount(e^t)},e.decodeFormatInformation=function(t,r){var n=e.doDecodeFormatInformation(t,r);return null!==n?n:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,r^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,r){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=Mg(e.FORMAT_INFO_DECODE_LOOKUP),c=s.next();!c.done;c=s.next()){var l=c.value,u=l[0];if(u===t||u===r)return new e(l[1]);var h=e.numBitsDiffering(t,u);h<o&&(a=l[1],o=h),t!==r&&(h=e.numBitsDiffering(r,u))<o&&(a=l[1],o=h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new e(a):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}();const Fg=Lg;var Bg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jg=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var e,t,r=0,n=this.ecBlocks;try{for(var i=Bg(n),o=i.next();!o.done;o=i.next()){r+=o.value.getCount()}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}();const Ug=jg;var Vg=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}();const zg=Vg;var Hg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wg=function(){function e(e,t){for(var r,n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=i;var a=0,s=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();try{for(var l=Hg(c),u=l.next();!u.done;u=l.next()){var h=u.value;a+=h.getCount()*(h.getDataCodewords()+s)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}this.totalCodewords=a}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},e.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Uh;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new Uh}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new wh;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<e.VERSION_DECODE_INFO.length;i++){var o=e.VERSION_DECODE_INFO[i];if(o===t)return e.getVersionForNumber(i+7);var a=Fg.numBitsDiffering(t,o);a<r&&(n=i+7,r=a)}return r<=3?e.getVersionForNumber(n):null},e.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new $h(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,n=0;n<r;n++)for(var i=this.alignmentPatternCenters[n]-2,o=0;o<r;o++)0===n&&(0===o||o===r-1)||n===r-1&&0===o||t.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new Ug(7,new zg(1,19)),new Ug(10,new zg(1,16)),new Ug(13,new zg(1,13)),new Ug(17,new zg(1,9))),new e(2,Int32Array.from([6,18]),new Ug(10,new zg(1,34)),new Ug(16,new zg(1,28)),new Ug(22,new zg(1,22)),new Ug(28,new zg(1,16))),new e(3,Int32Array.from([6,22]),new Ug(15,new zg(1,55)),new Ug(26,new zg(1,44)),new Ug(18,new zg(2,17)),new Ug(22,new zg(2,13))),new e(4,Int32Array.from([6,26]),new Ug(20,new zg(1,80)),new Ug(18,new zg(2,32)),new Ug(26,new zg(2,24)),new Ug(16,new zg(4,9))),new e(5,Int32Array.from([6,30]),new Ug(26,new zg(1,108)),new Ug(24,new zg(2,43)),new Ug(18,new zg(2,15),new zg(2,16)),new Ug(22,new zg(2,11),new zg(2,12))),new e(6,Int32Array.from([6,34]),new Ug(18,new zg(2,68)),new Ug(16,new zg(4,27)),new Ug(24,new zg(4,19)),new Ug(28,new zg(4,15))),new e(7,Int32Array.from([6,22,38]),new Ug(20,new zg(2,78)),new Ug(18,new zg(4,31)),new Ug(18,new zg(2,14),new zg(4,15)),new Ug(26,new zg(4,13),new zg(1,14))),new e(8,Int32Array.from([6,24,42]),new Ug(24,new zg(2,97)),new Ug(22,new zg(2,38),new zg(2,39)),new Ug(22,new zg(4,18),new zg(2,19)),new Ug(26,new zg(4,14),new zg(2,15))),new e(9,Int32Array.from([6,26,46]),new Ug(30,new zg(2,116)),new Ug(22,new zg(3,36),new zg(2,37)),new Ug(20,new zg(4,16),new zg(4,17)),new Ug(24,new zg(4,12),new zg(4,13))),new e(10,Int32Array.from([6,28,50]),new Ug(18,new zg(2,68),new zg(2,69)),new Ug(26,new zg(4,43),new zg(1,44)),new Ug(24,new zg(6,19),new zg(2,20)),new Ug(28,new zg(6,15),new zg(2,16))),new e(11,Int32Array.from([6,30,54]),new Ug(20,new zg(4,81)),new Ug(30,new zg(1,50),new zg(4,51)),new Ug(28,new zg(4,22),new zg(4,23)),new Ug(24,new zg(3,12),new zg(8,13))),new e(12,Int32Array.from([6,32,58]),new Ug(24,new zg(2,92),new zg(2,93)),new Ug(22,new zg(6,36),new zg(2,37)),new Ug(26,new zg(4,20),new zg(6,21)),new Ug(28,new zg(7,14),new zg(4,15))),new e(13,Int32Array.from([6,34,62]),new Ug(26,new zg(4,107)),new Ug(22,new zg(8,37),new zg(1,38)),new Ug(24,new zg(8,20),new zg(4,21)),new Ug(22,new zg(12,11),new zg(4,12))),new e(14,Int32Array.from([6,26,46,66]),new Ug(30,new zg(3,115),new zg(1,116)),new Ug(24,new zg(4,40),new zg(5,41)),new Ug(20,new zg(11,16),new zg(5,17)),new Ug(24,new zg(11,12),new zg(5,13))),new e(15,Int32Array.from([6,26,48,70]),new Ug(22,new zg(5,87),new zg(1,88)),new Ug(24,new zg(5,41),new zg(5,42)),new Ug(30,new zg(5,24),new zg(7,25)),new Ug(24,new zg(11,12),new zg(7,13))),new e(16,Int32Array.from([6,26,50,74]),new Ug(24,new zg(5,98),new zg(1,99)),new Ug(28,new zg(7,45),new zg(3,46)),new Ug(24,new zg(15,19),new zg(2,20)),new Ug(30,new zg(3,15),new zg(13,16))),new e(17,Int32Array.from([6,30,54,78]),new Ug(28,new zg(1,107),new zg(5,108)),new Ug(28,new zg(10,46),new zg(1,47)),new Ug(28,new zg(1,22),new zg(15,23)),new Ug(28,new zg(2,14),new zg(17,15))),new e(18,Int32Array.from([6,30,56,82]),new Ug(30,new zg(5,120),new zg(1,121)),new Ug(26,new zg(9,43),new zg(4,44)),new Ug(28,new zg(17,22),new zg(1,23)),new Ug(28,new zg(2,14),new zg(19,15))),new e(19,Int32Array.from([6,30,58,86]),new Ug(28,new zg(3,113),new zg(4,114)),new Ug(26,new zg(3,44),new zg(11,45)),new Ug(26,new zg(17,21),new zg(4,22)),new Ug(26,new zg(9,13),new zg(16,14))),new e(20,Int32Array.from([6,34,62,90]),new Ug(28,new zg(3,107),new zg(5,108)),new Ug(26,new zg(3,41),new zg(13,42)),new Ug(30,new zg(15,24),new zg(5,25)),new Ug(28,new zg(15,15),new zg(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new Ug(28,new zg(4,116),new zg(4,117)),new Ug(26,new zg(17,42)),new Ug(28,new zg(17,22),new zg(6,23)),new Ug(30,new zg(19,16),new zg(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new Ug(28,new zg(2,111),new zg(7,112)),new Ug(28,new zg(17,46)),new Ug(30,new zg(7,24),new zg(16,25)),new Ug(24,new zg(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new Ug(30,new zg(4,121),new zg(5,122)),new Ug(28,new zg(4,47),new zg(14,48)),new Ug(30,new zg(11,24),new zg(14,25)),new Ug(30,new zg(16,15),new zg(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new Ug(30,new zg(6,117),new zg(4,118)),new Ug(28,new zg(6,45),new zg(14,46)),new Ug(30,new zg(11,24),new zg(16,25)),new Ug(30,new zg(30,16),new zg(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new Ug(26,new zg(8,106),new zg(4,107)),new Ug(28,new zg(8,47),new zg(13,48)),new Ug(30,new zg(7,24),new zg(22,25)),new Ug(30,new zg(22,15),new zg(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new Ug(28,new zg(10,114),new zg(2,115)),new Ug(28,new zg(19,46),new zg(4,47)),new Ug(28,new zg(28,22),new zg(6,23)),new Ug(30,new zg(33,16),new zg(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new Ug(30,new zg(8,122),new zg(4,123)),new Ug(28,new zg(22,45),new zg(3,46)),new Ug(30,new zg(8,23),new zg(26,24)),new Ug(30,new zg(12,15),new zg(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new Ug(30,new zg(3,117),new zg(10,118)),new Ug(28,new zg(3,45),new zg(23,46)),new Ug(30,new zg(4,24),new zg(31,25)),new Ug(30,new zg(11,15),new zg(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new Ug(30,new zg(7,116),new zg(7,117)),new Ug(28,new zg(21,45),new zg(7,46)),new Ug(30,new zg(1,23),new zg(37,24)),new Ug(30,new zg(19,15),new zg(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new Ug(30,new zg(5,115),new zg(10,116)),new Ug(28,new zg(19,47),new zg(10,48)),new Ug(30,new zg(15,24),new zg(25,25)),new Ug(30,new zg(23,15),new zg(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new Ug(30,new zg(13,115),new zg(3,116)),new Ug(28,new zg(2,46),new zg(29,47)),new Ug(30,new zg(42,24),new zg(1,25)),new Ug(30,new zg(23,15),new zg(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new Ug(30,new zg(17,115)),new Ug(28,new zg(10,46),new zg(23,47)),new Ug(30,new zg(10,24),new zg(35,25)),new Ug(30,new zg(19,15),new zg(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new Ug(30,new zg(17,115),new zg(1,116)),new Ug(28,new zg(14,46),new zg(21,47)),new Ug(30,new zg(29,24),new zg(19,25)),new Ug(30,new zg(11,15),new zg(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new Ug(30,new zg(13,115),new zg(6,116)),new Ug(28,new zg(14,46),new zg(23,47)),new Ug(30,new zg(44,24),new zg(7,25)),new Ug(30,new zg(59,16),new zg(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new Ug(30,new zg(12,121),new zg(7,122)),new Ug(28,new zg(12,47),new zg(26,48)),new Ug(30,new zg(39,24),new zg(14,25)),new Ug(30,new zg(22,15),new zg(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new Ug(30,new zg(6,121),new zg(14,122)),new Ug(28,new zg(6,47),new zg(34,48)),new Ug(30,new zg(46,24),new zg(10,25)),new Ug(30,new zg(2,15),new zg(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new Ug(30,new zg(17,122),new zg(4,123)),new Ug(28,new zg(29,46),new zg(14,47)),new Ug(30,new zg(49,24),new zg(10,25)),new Ug(30,new zg(24,15),new zg(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new Ug(30,new zg(4,122),new zg(18,123)),new Ug(28,new zg(13,46),new zg(32,47)),new Ug(30,new zg(48,24),new zg(14,25)),new Ug(30,new zg(42,15),new zg(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new Ug(30,new zg(20,117),new zg(4,118)),new Ug(28,new zg(40,47),new zg(7,48)),new Ug(30,new zg(43,24),new zg(22,25)),new Ug(30,new zg(10,15),new zg(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new Ug(30,new zg(19,118),new zg(6,119)),new Ug(28,new zg(18,47),new zg(31,48)),new Ug(30,new zg(34,24),new zg(34,25)),new Ug(30,new zg(20,15),new zg(61,16)))],e}();const Gg=Wg;var Xg;!function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(Xg||(Xg={}));var Kg=function(){function e(e,t){this.value=e,this.isMasked=t}return e.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},e.values=new Map([[Xg.DATA_MASK_000,new e(Xg.DATA_MASK_000,function(e,t){return 0===(e+t&1)})],[Xg.DATA_MASK_001,new e(Xg.DATA_MASK_001,function(e,t){return 0===(1&e)})],[Xg.DATA_MASK_010,new e(Xg.DATA_MASK_010,function(e,t){return t%3===0})],[Xg.DATA_MASK_011,new e(Xg.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Xg.DATA_MASK_100,new e(Xg.DATA_MASK_100,function(e,t){return 0===(Math.floor(e/2)+Math.floor(t/3)&1)})],[Xg.DATA_MASK_101,new e(Xg.DATA_MASK_101,function(e,t){return e*t%6===0})],[Xg.DATA_MASK_110,new e(Xg.DATA_MASK_110,function(e,t){return e*t%6<3})],[Xg.DATA_MASK_111,new e(Xg.DATA_MASK_111,function(e,t){return 0===(e+t+e*t%3&1)})]]),e}();const qg=Kg;var Yg=function(){function e(e){var t=e.getHeight();if(t<21||1!==(3&t))throw new Uh;this.bitMatrix=e}return e.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);var n=this.bitMatrix.getHeight(),i=0,o=n-7;for(r=n-1;r>=o;r--)i=this.copyBit(8,r,i);for(t=n-8;t<n;t++)i=this.copyBit(t,8,i);if(this.parsedFormatInfo=Fg.decodeFormatInformation(e,i),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Uh},e.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Gg.getVersionForNumber(t);for(var r=0,n=e-11,i=5;i>=0;i--)for(var o=e-9;o>=n;o--)r=this.copyBit(o,i,r);var a=Gg.decodeVersionInformation(r);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;r=0;for(o=5;o>=0;o--)for(i=e-9;i>=n;i--)r=this.copyBit(o,i,r);if(null!==(a=Gg.decodeVersionInformation(r))&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new Uh},e.prototype.copyBit=function(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1},e.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=qg.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);for(var i=t.buildFunctionPattern(),o=!0,a=new Uint8Array(t.getTotalCodewords()),s=0,c=0,l=0,u=n-1;u>0;u-=2){6===u&&u--;for(var h=0;h<n;h++)for(var f=o?n-1-h:h,d=0;d<2;d++)i.get(u-d,f)||(l++,c<<=1,this.bitMatrix.get(u-d,f)&&(c|=1),8===l&&(a[s++]=c,l=0,c=0));o=!o}if(s!==t.getTotalCodewords())throw new Uh;return a},e.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=qg.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},e.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},e.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))},e}();const Zg=Yg;var $g=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qg=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,r,n){var i,o,a,s;if(t.length!==r.getTotalCodewords())throw new wh;var c=r.getECBlocksForLevel(n),l=0,u=c.getECBlocks();try{for(var h=$g(u),f=h.next();!f.done;f=h.next()){l+=(v=f.value).getCount()}}catch(x){i={error:x}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var d=new Array(l),p=0;try{for(var g=$g(u),m=g.next();!m.done;m=g.next())for(var v=m.value,y=0;y<v.getCount();y++){var w=v.getDataCodewords(),b=c.getECCodewordsPerBlock()+w;d[p++]=new e(w,new Uint8Array(b))}}catch(k){a={error:k}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var E=d[0].codewords.length,_=d.length-1;_>=0;){if(d[_].codewords.length===E)break;_--}_++;var S=E-c.getECCodewordsPerBlock(),C=0;for(y=0;y<S;y++)for(var A=0;A<p;A++)d[A].codewords[y]=t[C++];for(A=_;A<p;A++)d[A].codewords[S]=t[C++];var T=d[0].codewords.length;for(y=S;y<T;y++)for(A=0;A<p;A++){var I=A<_?y:y+1;d[A].codewords[I]=t[C++]}return d},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();const Jg=Qg;var em;!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(em||(em={}));var tm=function(){function e(t,r,n,i){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,e.FOR_BITS.set(i,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var r=e.FOR_BITS.get(t);if(void 0===r)throw new wh;return r},e.prototype.getCharacterCountBits=function(e){var t,r=e.getVersionNumber();return t=r<=9?0:r<=26?1:2,this.characterCountBitsForVersions[t]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(em.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(em.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(em.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(em.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(em.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(em.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(em.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(em.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(em.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(em.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}();const rm=tm;var nm=function(){function e(){}return e.decode=function(t,r,n,i){var o=new Eg(t),a=new Yh,s=new Array,c=-1,l=-1;try{var u=null,h=!1,f=void 0;do{if(o.available()<4)f=rm.TERMINATOR;else{var d=o.readBits(4);f=rm.forBits(d)}switch(f){case rm.TERMINATOR:break;case rm.FNC1_FIRST_POSITION:case rm.FNC1_SECOND_POSITION:h=!0;break;case rm.STRUCTURED_APPEND:if(o.available()<16)throw new Uh;c=o.readBits(8),l=o.readBits(8);break;case rm.ECI:var p=e.parseECIValue(o);if(null===(u=Wh.getCharacterSetECIByValue(p)))throw new Uh;break;case rm.HANZI:var g=o.readBits(4),m=o.readBits(f.getCharacterCountBits(r));g===e.GB2312_SUBSET&&e.decodeHanziSegment(o,a,m);break;default:var v=o.readBits(f.getCharacterCountBits(r));switch(f){case rm.NUMERIC:e.decodeNumericSegment(o,a,v);break;case rm.ALPHANUMERIC:e.decodeAlphanumericSegment(o,a,v,h);break;case rm.BYTE:e.decodeByteSegment(o,a,v,u,s,i);break;case rm.KANJI:e.decodeKanjiSegment(o,a,v);break;default:throw new Uh}}}while(f!==rm.TERMINATOR)}catch(y){throw new Uh}return new Sf(t,a.toString(),0===s.length?null:s,null===n?null:n.toString(),c,l)},e.decodeHanziSegment=function(e,t,r){if(13*r>e.available())throw new Uh;for(var n=new Uint8Array(2*r),i=0;r>0;){var o=e.readBits(13),a=o/96<<8&4294967295|o%96;a+=a<959?41377:42657,n[i]=a>>8&255,n[i+1]=255&a,i+=2,r--}try{t.append(Kh.decode(n,qh.GB2312))}catch(s){throw new Uh(s)}},e.decodeKanjiSegment=function(e,t,r){if(13*r>e.available())throw new Uh;for(var n=new Uint8Array(2*r),i=0;r>0;){var o=e.readBits(13),a=o/192<<8&4294967295|o%192;a+=a<7936?33088:49472,n[i]=a>>8,n[i+1]=a,i+=2,r--}try{t.append(Kh.decode(n,qh.SHIFT_JIS))}catch(s){throw new Uh(s)}},e.decodeByteSegment=function(e,t,r,n,i,o){if(8*r>e.available())throw new Uh;for(var a,s=new Uint8Array(r),c=0;c<r;c++)s[c]=e.readBits(8);a=null===n?qh.guessEncoding(s,o):n.getName();try{t.append(Kh.decode(s,a))}catch(l){throw new Uh(l)}i.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new Uh;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,r,n,i){for(var o=r.length();n>1;){if(t.available()<11)throw new Uh;var a=t.readBits(11);r.append(e.toAlphaNumericChar(Math.floor(a/45))),r.append(e.toAlphaNumericChar(a%45)),n-=2}if(1===n){if(t.available()<6)throw new Uh;r.append(e.toAlphaNumericChar(t.readBits(6)))}if(i)for(var s=o;s<r.length();s++)"%"===r.charAt(s)&&(s<r.length()-1&&"%"===r.charAt(s+1)?r.deleteCharAt(s+1):r.setCharAt(s,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,r,n){for(;n>=3;){if(t.available()<10)throw new Uh;var i=t.readBits(10);if(i>=1e3)throw new Uh;r.append(e.toAlphaNumericChar(Math.floor(i/100))),r.append(e.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(e.toAlphaNumericChar(i%10)),n-=3}if(2===n){if(t.available()<7)throw new Uh;var o=t.readBits(7);if(o>=100)throw new Uh;r.append(e.toAlphaNumericChar(Math.floor(o/10))),r.append(e.toAlphaNumericChar(o%10))}else if(1===n){if(t.available()<4)throw new Uh;var a=t.readBits(4);if(a>=10)throw new Uh;r.append(e.toAlphaNumericChar(a))}},e.parseECIValue=function(e){var t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new Uh},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}();const im=nm;const om=function(){function e(e){this.mirrored=e}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},e}();var am=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sm=function(){function e(){this.rsDecoder=new Ff(Of.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix($h.parseFromBooleanArray(e),t)},e.prototype.decodeBitMatrix=function(e,t){var r=new Zg(e),n=null;try{return this.decodeBitMatrixParser(r,t)}catch(o){n=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,t);return i.setOther(new om(!0)),i}catch(o){if(null!==n)throw n;throw o}},e.prototype.decodeBitMatrixParser=function(e,t){var r,n,i,o,a=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),l=Jg.getDataBlocks(c,a,s),u=0;try{for(var h=am(l),f=h.next();!f.done;f=h.next()){u+=(v=f.value).getNumDataCodewords()}}catch(E){r={error:E}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}var d=new Uint8Array(u),p=0;try{for(var g=am(l),m=g.next();!m.done;m=g.next()){var v,y=(v=m.value).getCodewords(),w=v.getNumDataCodewords();this.correctErrors(y,w);for(var b=0;b<w;b++)d[p++]=y[b]}}catch(_){i={error:_}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return im.decode(d,a,s,t)},e.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(i){throw new _h}for(var n=0;n<t;n++)e[n]=r[n]},e}();const cm=sm;var lm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),um=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.estimatedModuleSize=n,i}return lm(t,e),t.prototype.aboutEquals=function(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){var n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,n){return new t((this.getX()+r)/2,(this.getY()+e)/2,(this.estimatedModuleSize+n)/2)},t}(Gf);const hm=um;var fm=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dm=function(){function e(e,t,r,n,i,o,a){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,i=new Int32Array(3),o=this.image,a=0;a<t;a++){var s=n+(0===(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var c=e;c<r&&!o.get(c,s);)c++;for(var l=0;c<r;){if(o.get(c,s))if(1===l)i[1]++;else if(2===l){var u;if(this.foundPatternCross(i))if(null!==(u=this.handlePossibleCenter(i,s,c)))return u;i[0]=i[2],i[1]=1,i[2]=0,l=1}else i[++l]++;else 1===l&&l++,i[l]++;c++}if(this.foundPatternCross(i))if(null!==(u=this.handlePossibleCenter(i,s,r)))return u}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Jh},e.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},e.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0},e.prototype.crossCheckVertical=function(t,r,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var c=t;c>=0&&o.get(r,c)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&!o.get(r,c)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=t+1;c<a&&o.get(r,c)&&s[1]<=n;)s[1]++,c++;if(c===a||s[1]>n)return NaN;for(;c<a&&!o.get(r,c)&&s[2]<=n;)s[2]++,c++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n){var i,o,a=t[0]+t[1]+t[2],s=e.centerFromEnd(t,n),c=this.crossCheckVertical(r,s,2*t[1],a);if(!isNaN(c)){var l=(t[0]+t[1]+t[2])/3;try{for(var u=fm(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.aboutEquals(l,c,s))return f.combineEstimate(c,s,l)}}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var d=new hm(s,c,l);this.possibleCenters.push(d),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return null},e}();const pm=dm;var gm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mm=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.estimatedModuleSize=n,o.count=i,void 0===i&&(o.count=1),o}return gm(t,e),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){var n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,n){var i=this.count+1;return new t((this.count*this.getX()+r)/i,(this.count*this.getY()+e)/i,(this.count*this.estimatedModuleSize+n)/i,i)},t}(Gf);const vm=mm;const ym=function(){function e(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}();var wm=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bm=function(){function e(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var r=null!==t&&void 0!==t&&void 0!==t.get(Bh.TRY_HARDER),n=null!==t&&void 0!==t&&void 0!==t.get(Bh.PURE_BARCODE),i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*e.MAX_MODULES));(s<e.MIN_SKIP||r)&&(s=e.MIN_SKIP);for(var c=!1,l=new Int32Array(5),u=s-1;u<o&&!c;u+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var h=0,f=0;f<a;f++)if(i.get(f,u))1===(1&h)&&h++,l[h]++;else if(0===(1&h))if(4===h)if(e.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,f,n)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;continue}if(s=2,!0===this.hasSkipped)c=this.haveMultiplyConfirmedCenters();else{var d=this.findRowSkip();d>l[2]&&(u+=d-l[2]-s,f=a-1)}h=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;else l[++h]++;else l[h]++;if(e.foundPatternCross(l))!0===this.handlePossibleCenter(l,u,a,n)&&(s=l[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return Gf.orderBestPatterns(p),new ym(p)},e.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},e.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var n=e[r];if(0===n)return!1;t+=n}if(t<7)return!1;var i=t/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o},e.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},e.prototype.crossCheckDiagonal=function(t,r,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;t>=a&&r>=a&&s.get(r-a,t-a);)o[2]++,a++;if(t<a||r<a)return!1;for(;t>=a&&r>=a&&!s.get(r-a,t-a)&&o[1]<=n;)o[1]++,a++;if(t<a||r<a||o[1]>n)return!1;for(;t>=a&&r>=a&&s.get(r-a,t-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var c=s.getHeight(),l=s.getWidth();for(a=1;t+a<c&&r+a<l&&s.get(r+a,t+a);)o[2]++,a++;if(t+a>=c||r+a>=l)return!1;for(;t+a<c&&r+a<l&&!s.get(r+a,t+a)&&o[3]<n;)o[3]++,a++;if(t+a>=c||r+a>=l||o[3]>=n)return!1;for(;t+a<c&&r+a<l&&s.get(r+a,t+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var u=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(u-i)<2*i&&e.foundPatternCross(o)},e.prototype.crossCheckVertical=function(t,r,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),c=t;c>=0&&o.get(r,c);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!o.get(r,c)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&o.get(r,c)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=t+1;c<a&&o.get(r,c);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!o.get(r,c)&&s[3]<n;)s[3]++,c++;if(c===a||s[3]>=n)return NaN;for(;c<a&&o.get(r,c)&&s[4]<n;)s[4]++,c++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,c):NaN},e.prototype.crossCheckHorizontal=function(t,r,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),c=t;c>=0&&o.get(c,r);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!o.get(c,r)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&o.get(c,r)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=t+1;c<a&&o.get(c,r);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!o.get(c,r)&&s[3]<n;)s[3]++,c++;if(c===a||s[3]>=n)return NaN;for(;c<a&&o.get(c,r)&&s[4]<n;)s[4]++,c++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n,i){var o=t[0]+t[1]+t[2]+t[3]+t[4],a=e.centerFromEnd(t,n),s=this.crossCheckVertical(r,Math.floor(a),t[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),t[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),t[2],o)))){for(var c=o/7,l=!1,u=this.possibleCenters,h=0,f=u.length;h<f;h++){var d=u[h];if(d.aboutEquals(c,s,a)){u[h]=d.combineEstimate(s,a,c),l=!0;break}}if(!l){var p=new vm(a,s,c);u.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,r;if(this.possibleCenters.length<=1)return 0;var n=null;try{for(var i=wm(this.possibleCenters),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.getCount()>=e.CENTER_QUORUM){if(null!=n)return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-a.getX())-Math.abs(n.getY()-a.getY()))/2);n=a}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,r,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var c=wm(this.possibleCenters),l=c.next();!l.done;l=c.next()){(p=l.value).getCount()>=e.CENTER_QUORUM&&(o++,a+=p.getEstimatedModuleSize())}}catch(g){t={error:g}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(o<3)return!1;var u=a/s,h=0;try{for(var f=wm(this.possibleCenters),d=f.next();!d.done;d=f.next()){var p=d.value;h+=Math.abs(p.getEstimatedModuleSize()-u)}}catch(m){n={error:m}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return h<=.05*a},e.prototype.selectBestPatterns=function(){var e,t,r,n,i=this.possibleCenters.length;if(i<3)throw new Jh;var o,a=this.possibleCenters;if(i>3){var s=0,c=0;try{for(var l=wm(this.possibleCenters),u=l.next();!u.done;u=l.next()){var h=u.value.getEstimatedModuleSize();s+=h,c+=h*h}}catch(y){e={error:y}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}o=s/i;var f=Math.sqrt(c/i-o*o);a.sort(function(e,t){var r=Math.abs(t.getEstimatedModuleSize()-o),n=Math.abs(e.getEstimatedModuleSize()-o);return r<n?-1:r>n?1:0});for(var d=Math.max(.2*o,f),p=0;p<a.length&&a.length>3;p++){var g=a[p];Math.abs(g.getEstimatedModuleSize()-o)>d&&(a.splice(p,1),p--)}}if(a.length>3){s=0;try{for(var m=wm(a),v=m.next();!v.done;v=m.next()){s+=v.value.getEstimatedModuleSize()}}catch(w){r={error:w}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}o=s/a.length,a.sort(function(e,t){if(t.getCount()===e.getCount()){var r=Math.abs(t.getEstimatedModuleSize()-o),n=Math.abs(e.getEstimatedModuleSize()-o);return r<n?1:r>n?-1:0}return t.getCount()-e.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}();const Em=bm;var _m=function(){function e(e){this.image=e}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(e){this.resultPointCallback=null===e||void 0===e?null:e.get(Bh.NEED_RESULT_POINT_CALLBACK);var t=new Em(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},e.prototype.processFinderPatternInfo=function(t){var r=t.getTopLeft(),n=t.getTopRight(),i=t.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new Jh("No pattern found in proccess finder.");var a=e.computeDimension(r,n,i,o),s=Gg.getProvisionalVersionForDimension(a),c=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var u=n.getX()-r.getX()+i.getX(),h=n.getY()-r.getY()+i.getY(),f=1-3/c,d=Math.floor(r.getX()+f*(u-r.getX())),p=Math.floor(r.getY()+f*(h-r.getY())),g=4;g<=16;g<<=1)try{l=this.findAlignmentInRegion(o,d,p,g);break}catch(y){if(!(y instanceof Jh))throw y}var m=e.createTransform(r,n,i,l,a),v=e.sampleGrid(this.image,m,a);return new Xf(v,null===l?[i,r,n]:[i,r,n,l])},e.createTransform=function(e,t,r,n,i){var o,a,s,c,l=i-3.5;return null!==n?(o=n.getX(),a=n.getY(),c=s=l-3):(o=t.getX()-e.getX()+r.getX(),a=t.getY()-e.getY()+r.getY(),s=l,c=l),ed.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,s,c,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),o,a,r.getX(),r.getY())},e.sampleGrid=function(e,t,r){return id.getInstance().sampleGridWithTransform(e,r,r,t)},e.computeDimension=function(e,t,r,n){var i=zf.round(Gf.distance(e,t)/n),o=zf.round(Gf.distance(e,r)/n),a=Math.floor((i+o)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new Jh("Dimensions could be not found.")}return a},e.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},e.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,n){var i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,a=e-(r-e);a<0?(o=e/(e-a),a=0):a>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var s=Math.floor(t-(n-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),a=Math.floor(e+(a-e)*o),(i+=this.sizeOfBlackWhiteBlackRun(e,t,a,s))-1},e.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,n){var i=Math.abs(n-t)>Math.abs(r-e);if(i){var o=e;e=t,t=o,o=r,r=n,n=o}for(var a=Math.abs(r-e),s=Math.abs(n-t),c=-a/2,l=e<r?1:-1,u=t<n?1:-1,h=0,f=r+l,d=e,p=t;d!==f;d+=l){var g=i?p:d,m=i?d:p;if(1===h===this.image.get(g,m)){if(2===h)return zf.distance(d,p,e,t);h++}if((c+=s)>0){if(p===n)break;p+=u,c-=a}}return 2===h?zf.distance(r+l,n,e,t):NaN},e.prototype.findAlignmentInRegion=function(e,t,r,n){var i=Math.floor(n*e),o=Math.max(0,t-i),a=Math.min(this.image.getWidth()-1,t+i);if(a-o<3*e)throw new Jh("Alignment top exceeds estimated module size.");var s=Math.max(0,r-i),c=Math.min(this.image.getHeight()-1,r+i);if(c-s<3*e)throw new Jh("Alignment bottom exceeds estimated module size.");return new pm(this.image,o,s,a-o,c-s,e,this.resultPointCallback).find()},e}();const Sm=_m;var Cm=function(){function e(){this.decoder=new cm}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,r){var n,i;if(void 0!==r&&null!==r&&void 0!==r.get(Bh.PURE_BARCODE)){var o=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=e.NO_POINTS}else{var a=new Sm(t.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof om&&n.getOther().applyMirroredCorrection(i);var s=new yf(n.getText(),n.getRawBytes(),void 0,i,bf.QR_CODE,void 0),c=n.getByteSegments();null!==c&&s.putMetadata(_f.BYTE_SEGMENTS,c);var l=n.getECLevel();return null!==l&&s.putMetadata(_f.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(s.putMetadata(_f.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(_f.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new Jh;var n=this.moduleSize(t,e),i=t[1],o=r[1],a=t[0],s=r[0];if(a>=s||i>=o)throw new Jh;if(o-i!==s-a&&(s=a+(o-i))>=e.getWidth())throw new Jh;var c=Math.round((s-a+1)/n),l=Math.round((o-i+1)/n);if(c<=0||l<=0)throw new Jh;if(l!==c)throw new Jh;var u=Math.floor(n/2);i+=u;var h=(a+=u)+Math.floor((c-1)*n)-s;if(h>0){if(h>u)throw new Jh;a-=h}var f=i+Math.floor((l-1)*n)-o;if(f>0){if(f>u)throw new Jh;i-=f}for(var d=new $h(c,l),p=0;p<l;p++)for(var g=i+Math.floor(p*n),m=0;m<c;m++)e.get(a+Math.floor(m*n),g)&&d.set(m,p);return d},e.moduleSize=function(e,t){for(var r=t.getHeight(),n=t.getWidth(),i=e[0],o=e[1],a=!0,s=0;i<n&&o<r;){if(a!==t.get(i,o)){if(5===++s)break;a=!a}i++,o++}if(i===n||o===r)throw new Jh;return(i-e[0])/7},e.NO_POINTS=new Array,e}();const Am=Cm;var Tm=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Im=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(e){return zf.sum(e)},e.toIntArray=function(t){var r,n;if(null==t||!t.length)return e.EMPTY_INT_ARRAY;var i=new Int32Array(t.length),o=0;try{for(var a=Tm(t),s=a.next();!s.done;s=a.next()){var c=s.value;i[o++]=c}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},e.getCodeword=function(t){var r=Rh.binarySearch(e.SYMBOL_TABLE,262143&t);return r<0?-1:(e.CODEWORD_TABLE[r]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}();const xm=Im;const km=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();var Nm=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Om=function(){function e(){}return e.detectMultiple=function(t,r,n){var i=t.getBlackMatrix(),o=e.detect(n,i);return o.length||((i=i.clone()).rotate180(),o=e.detect(n,i)),new km(i,o)},e.detect=function(t,r){for(var n,i,o=new Array,a=0,s=0,c=!1;a<r.getHeight();){var l=e.findVertices(r,a,s);if(null!=l[0]||null!=l[3]){if(c=!0,o.push(l),!t)break;null!=l[2]?(s=Math.trunc(l[2].getX()),a=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY()))}else{if(!c)break;c=!1,s=0;try{for(var u=(n=void 0,Nm(o)),h=u.next();!h.done;h=u.next()){var f=h.value;null!=f[1]&&(a=Math.trunc(Math.max(a,f[1].getY()))),null!=f[3]&&(a=Math.max(a,Math.trunc(f[3].getY())))}}catch(d){n={error:d}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}a+=e.ROW_STEP}}return o},e.findVertices=function(t,r,n){var i=t.getHeight(),o=t.getWidth(),a=new Array(8);return e.copyToResult(a,e.findRowsWithPattern(t,i,o,r,n,e.START_PATTERN),e.INDEXES_START_PATTERN),null!=a[4]&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),e.copyToResult(a,e.findRowsWithPattern(t,i,o,r,n,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),a},e.copyToResult=function(e,t,r){for(var n=0;n<r.length;n++)e[r[n]]=t[n]},e.findRowsWithPattern=function(t,r,n,i,o,a){for(var s=new Array(4),c=!1,l=new Int32Array(a.length);i<r;i+=e.ROW_STEP){if(null!=(d=e.findGuardPattern(t,o,i,n,!1,a,l))){for(;i>0;){if(null==(f=e.findGuardPattern(t,o,--i,n,!1,a,l))){i++;break}d=f}s[0]=new Gf(d[0],i),s[1]=new Gf(d[1],i),c=!0;break}}var u=i+1;if(c){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);u<r;u++){var d;if(null!=(d=e.findGuardPattern(t,f[0],u,n,!1,a,l))&&Math.abs(f[0]-d[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<e.MAX_PATTERN_DRIFT)f=d,h=0;else{if(h>e.SKIPPED_ROW_COUNT_MAX)break;h++}}u-=h+1,s[2]=new Gf(f[0],u),s[3]=new Gf(f[1],u)}return u-i<e.BARCODE_MIN_HEIGHT&&Rh.fill(s,null),s},e.findGuardPattern=function(t,r,n,i,o,a,s){Rh.fillWithin(s,0,s.length,0);for(var c=r,l=0;t.get(c,n)&&c>0&&l++<e.MAX_PIXEL_DRIFT;)c--;for(var u=c,h=0,f=a.length,d=o;u<i;u++){if(t.get(u,n)!==d)s[h]++;else{if(h===f-1){if(e.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([c,u]);c+=s[0]+s[1],Ah.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,d=!d}}return h===f-1&&e.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([c,u-1]):null},e.patternMatchVariance=function(e,t,r){for(var n=e.length,i=0,o=0,a=0;a<n;a++)i+=e[a],o+=t[a];if(i<o)return 1/0;var s=i/o;r*=s;for(var c=0,l=0;l<n;l++){var u=e[l],h=t[l]*s,f=u>h?u-h:h-u;if(f>r)return 1/0;c+=f}return c/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}();const Rm=Om;var Dm=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pm=function(){function e(e,t){if(0===t.length)throw new wh;this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var n=1;n<r&&0===t[n];)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),Ah.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){var t,r;if(0===e)return this.getCoefficient(0);if(1===e){var n=0;try{for(var i=Dm(this.coefficients),o=i.next();!o.done;o=i.next()){var a=o.value;n=this.field.add(n,a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}for(var s=this.coefficients[0],c=this.coefficients.length,l=1;l<c;l++)s=this.field.add(this.field.multiply(e,s),this.coefficients[l]);return s},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new wh("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;Ah.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(r[s-a],n[s]);return new e(this.field,o)},e.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new wh("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new wh("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=t.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var c=r[s],l=0;l<o;l++)a[s+l]=this.field.add(a[s+l],this.field.multiply(c,i[l]));return new e(this.field,a)},e.prototype.negative=function(){for(var t=this.coefficients.length,r=new Int32Array(t),n=0;n<t;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new e(this.field,r)},e.prototype.multiplyScalar=function(t){if(0===t)return new e(this.field,new Int32Array([0]));if(1===t)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new e(this.field,n)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new wh;if(0===r)return new e(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+t),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new e(this.field,i)},e.prototype.toString=function(){for(var e=new Yh,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},e}();const Mm=Pm;const Lm=function(){function e(){}return e.prototype.add=function(e,t){return(e+t)%this.modulus},e.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new wh;return this.logTable[e]},e.prototype.inverse=function(e){if(0===e)throw new xf;return this.expTable[this.modulus-this.logTable[e]-1]},e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(e){return e===this},e}();var Fm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bm=function(e){function t(t,r){var n=e.call(this)||this;n.modulus=t,n.expTable=new Int32Array(t),n.logTable=new Int32Array(t);for(var i=1,o=0;o<t;o++)n.expTable[o]=i,i=i*r%t;for(o=0;o<t-1;o++)n.logTable[n.expTable[o]]=o;return n.zero=new Mm(n,new Int32Array([0])),n.one=new Mm(n,new Int32Array([1])),n}return Fm(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new wh;if(0===t)return this.zero;var r=new Int32Array(e+1);return r[0]=t,new Mm(this,r)},t.PDF417_GF=new t(xm.NUMBER_OF_CODEWORDS,3),t}(Lm);const jm=Bm;var Um=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vm=function(){function e(){this.field=jm.PDF417_GF}return e.prototype.decode=function(e,t,r){for(var n,i,o=new Mm(this.field,e),a=new Int32Array(t),s=!1,c=t;c>0;c--){var l=o.evaluateAt(this.field.exp(c));a[t-c]=l,0!==l&&(s=!0)}if(!s)return 0;var u=this.field.getOne();if(null!=r)try{for(var h=Um(r),f=h.next();!f.done;f=h.next()){var d=f.value,p=this.field.exp(e.length-1-d),g=new Mm(this.field,new Int32Array([this.field.subtract(0,p),1]));u=u.multiply(g)}}catch(S){n={error:S}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var m=new Mm(this.field,a),v=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),m,t),y=v[0],w=v[1],b=this.findErrorLocations(y),E=this.findErrorMagnitudes(w,y,b);for(c=0;c<b.length;c++){var _=e.length-1-this.field.log(b[c]);if(_<0)throw _h.getChecksumInstance();e[_]=this.field.subtract(e[_],E[c])}return b.length},e.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var n=e;e=t,t=n}for(var i=e,o=t,a=this.field.getZero(),s=this.field.getOne();o.getDegree()>=Math.round(r/2);){var c=i,l=a;if(a=s,(i=o).isZero())throw _h.getChecksumInstance();o=c;for(var u=this.field.getZero(),h=i.getCoefficient(i.getDegree()),f=this.field.inverse(h);o.getDegree()>=i.getDegree()&&!o.isZero();){var d=o.getDegree()-i.getDegree(),p=this.field.multiply(o.getCoefficient(o.getDegree()),f);u=u.add(this.field.buildMonomial(d,p)),o=o.subtract(i.multiplyByMonomial(d,p))}s=u.multiply(a).subtract(l).negative()}var g=s.getCoefficient(0);if(0===g)throw _h.getChecksumInstance();var m=this.field.inverse(g);return[s.multiply(m),o.multiply(m)]},e.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),n=0,i=1;i<this.field.getSize()&&n<t;i++)0===e.evaluateAt(i)&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw _h.getChecksumInstance();return r},e.prototype.findErrorMagnitudes=function(e,t,r){for(var n=t.getDegree(),i=new Int32Array(n),o=1;o<=n;o++)i[n-o]=this.field.multiply(o,t.getCoefficient(o));var a=new Mm(this.field,i),s=r.length,c=new Int32Array(s);for(o=0;o<s;o++){var l=this.field.inverse(r[o]),u=this.field.subtract(0,e.evaluateAt(l)),h=this.field.inverse(a.evaluateAt(l));c[o]=this.field.multiply(u,h)}return c},e}();const zm=Vm;const Hm=function(){function e(t,r,n,i,o){t instanceof e?this.constructor_2(t):this.constructor_1(t,r,n,i,o)}return e.prototype.constructor_1=function(e,t,r,n,i){var o=null==t||null==r,a=null==n||null==i;if(o&&a)throw new Jh;o?(t=new Gf(0,n.getY()),r=new Gf(0,i.getY())):a&&(n=new Gf(e.getWidth()-1,t.getY()),i=new Gf(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},e.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},e.merge=function(t,r){return null==t?r:null==r?t:new e(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)},e.prototype.addMissingRows=function(t,r,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(t>0){var c=n?this.topLeft:this.topRight,l=Math.trunc(c.getY()-t);l<0&&(l=0);var u=new Gf(c.getX(),l);n?i=u:a=u}if(r>0){var h=n?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+r);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var d=new Gf(h.getX(),f);n?o=d:s=d}return new e(this.image,i,o,a,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}();const Wm=function(){function e(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}();const Gm=function(){function e(){this.buffer=""}return e.form=function(e,t){var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,n,i,o,a,s){if("%%"===e)return"%";if(void 0!==t[++r]){e=o?parseInt(o.substr(1)):void 0;var c,l=a?parseInt(a.substr(1)):void 0;switch(s){case"s":c=t[r];break;case"c":c=t[r][0];break;case"f":c=parseFloat(t[r]).toFixed(e);break;case"p":c=parseFloat(t[r]).toPrecision(e);break;case"e":c=parseFloat(t[r]).toExponential(e);break;case"x":c=parseInt(t[r]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}c="object"===typeof c?JSON.stringify(c):(+c).toString(l);for(var u=parseInt(i),h=i&&i[0]+""==="0"?"0":" ";c.length<u;)c=void 0!==n?c+h:h+c;return c}})},e.prototype.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=e.form(t,r)},e.prototype.toString=function(){return this.buffer},e}();var Xm=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Km=function(){function e(e){this.boundingBox=new Hm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var r=this.getCodeword(t);if(null!=r)return r;for(var n=1;n<e.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(t)-n;if(i>=0&&null!=(r=this.codewords[i]))return r;if((i=this.imageRowToCodewordIndex(t)+n)<this.codewords.length&&null!=(r=this.codewords[i]))return r}return null},e.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},e.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},e.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var e,t,r=new Gm,n=0;try{for(var i=Xm(this.codewords),o=i.next();!o.done;o=i.next()){var a=o.value;null!=a?r.format("%3d: %3d|%3d%n",n++,a.getRowNumber(),a.getValue()):r.format("%3d:    |   %n",n++)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r.toString()},e.MAX_NEARBY_DISTANCE=5,e}();const qm=Km;var Ym=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zm=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},$m=function(){function e(){this.values=new Map}return e.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)},e.prototype.getValue=function(){var e,t,r=-1,n=new Array,i=function(e,t){var i=function(){return e},o=function(){return t};o()>r?(r=o(),(n=[]).push(i())):o()===r&&n.push(i())};try{for(var o=Ym(this.values.entries()),a=o.next();!a.done;a=o.next()){var s=Zm(a.value,2);i(s[0],s[1])}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return xm.toIntArray(n)},e.prototype.getConfidence=function(e){return this.values.get(e)},e}();const Qm=$m;var Jm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ev=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tv=function(e){function t(t,r){var n=e.call(this,t)||this;return n._isLeft=r,n}return Jm(t,e),t.prototype.setRowNumbers=function(){var e,t;try{for(var r=ev(this.getCodewords()),n=r.next();!n.done;n=r.next()){var i=n.value;null!=i&&i.setRowNumberAsRowIndicatorColumn()}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);for(var r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,c=1,l=0,u=o;u<a;u++)if(null!=t[u]){var h=t[u],f=h.getRowNumber()-s;if(0===f)l++;else if(1===f)c=Math.max(c,l),l=1,s=h.getRowNumber();else if(f<0||h.getRowNumber()>=e.getRowCount()||f>u)t[u]=null;else{for(var d=void 0,p=(d=c>2?(c-2)*f:f)>=u,g=1;g<=d&&!p;g++)p=null!=t[u-g];p?t[u]=null:(s=h.getRowNumber(),l=1)}}},t.prototype.getRowHeights=function(){var e,t,r=this.getBarcodeMetadata();if(null==r)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);var n=new Int32Array(r.getRowCount());try{for(var i=ev(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;if(null!=a){var s=a.getRowNumber();if(s>=n.length)continue;n[s]++}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.getCodewords(),s=-1,c=1,l=0,u=i;u<o;u++)if(null!=a[u]){var h=a[u];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-s;0===f?l++:1===f?(c=Math.max(c,l),l=1,s=h.getRowNumber()):h.getRowNumber()>=e.getRowCount()?a[u]=null:(s=h.getRowNumber(),l=1)}},t.prototype.getBarcodeMetadata=function(){var e,t,r=this.getCodewords(),n=new Qm,i=new Qm,o=new Qm,a=new Qm;try{for(var s=ev(r),c=s.next();!c.done;c=s.next()){var l=c.value;if(null!=l){l.setRowNumberAsRowIndicatorColumn();var u=l.getValue()%30,h=l.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:i.setValue(3*u+1);break;case 1:a.setValue(u/3),o.setValue(u%3);break;case 2:n.setValue(u+1)}}}}catch(d){e={error:d}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(0===n.getValue().length||0===i.getValue().length||0===o.getValue().length||0===a.getValue().length||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<xm.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>xm.MAX_ROWS_IN_BARCODE)return null;var f=new Wm(n.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(r,f),f},t.prototype.removeIncorrectCodewords=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(null!=e[r]){var i=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount())e[r]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(i/3)===t.getErrorCorrectionLevel()&&i%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+e.prototype.toString.call(this)},t}(qm);const rv=tv;var nv=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iv=function(){function e(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=xm.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),n=0;n<r.length;n++)null!=r[n]&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r));return e},e.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(var n=1;n<=this.barcodeColumnCount;n++){var i=this.detectionResultColumns[n].getCodewords()[r];null!=i&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}},e.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(null!=r[n])for(var i=r[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];null!=s&&(o=e.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(null!=r[n])for(var i=r[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];null!=s&&(o=e.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},e.prototype.adjustRowNumbers=function(t,r,n){var i,o;if(null!=this.detectionResultColumns[t-1]){var a=n[r],s=this.detectionResultColumns[t-1].getCodewords(),c=s;null!=this.detectionResultColumns[t+1]&&(c=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=s[r],l[3]=c[r],r>0&&(l[0]=n[r-1],l[4]=s[r-1],l[5]=c[r-1]),r>1&&(l[8]=n[r-2],l[10]=s[r-2],l[11]=c[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=s[r+1],l[7]=c[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=s[r+2],l[13]=c[r+2]);try{for(var u=nv(l),h=u.next();!h.done;h=u.next()){var f=h.value;if(e.adjustRowNumber(a,f))return}}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}},e.adjustRowNumber=function(e,t){return null!=t&&(!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0))},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(e){this.boundingBox=e},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},e.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},e.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Gm,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var n=0;n<this.barcodeColumnCount+2;n++)if(null!=this.detectionResultColumns[n]){var i=this.detectionResultColumns[n].getCodewords()[r];null!=i?t.format(" %3d|%3d",i.getRowNumber(),i.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},e}();const ov=iv;const av=function(){function e(t,r,n,i){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(e){this.rowNumber=e},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}();var sv=function(){function e(){}return e.initialize=function(){for(var t=0;t<xm.SYMBOL_TABLE.length;t++)for(var r=xm.SYMBOL_TABLE[t],n=1&r,i=0;i<xm.BARS_IN_MODULE;i++){for(var o=0;(1&r)===n;)o+=1,r>>=1;n=1&r,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(xm.BARS_IN_MODULE)),e.RATIOS_TABLE[t][xm.BARS_IN_MODULE-i-1]=Math.fround(o/xm.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var r=e.getDecodedCodewordValue(e.sampleBitCounts(t));return-1!==r?r:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(e){for(var t=zf.sum(e),r=new Int32Array(xm.BARS_IN_MODULE),n=0,i=0,o=0;o<xm.MODULES_IN_CODEWORD;o++){var a=t/(2*xm.MODULES_IN_CODEWORD)+o*t/xm.MODULES_IN_CODEWORD;i+e[n]<=a&&(i+=e[n],n++),r[n]++}return r},e.getDecodedCodewordValue=function(t){var r=e.getBitValue(t);return-1===xm.getCodeword(r)?-1:r},e.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},e.getClosestDecodedValue=function(t){var r=zf.sum(t),n=new Array(xm.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(t[i]/r);var o=Hf.MAX_VALUE,a=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var c=0,l=e.RATIOS_TABLE[s],u=0;u<xm.BARS_IN_MODULE;u++){var h=Math.fround(l[u]-n[u]);if((c+=Math.fround(h*h))>=o)break}c<o&&(o=c,a=xm.SYMBOL_TABLE[s])}return a},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(xm.SYMBOL_TABLE.length).map(function(e){return new Array(xm.BARS_IN_MODULE)}),e}();const cv=sv;const lv=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(e){this.segmentIndex=e},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(e){this.fileId=e},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(e){this.optionalData=e},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(e){this.lastSegment=e},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(e){this.segmentCount=e},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(e){this.sender=e},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(e){this.addressee=e},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(e){this.fileName=e},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(e){this.fileSize=e},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(e){this.checksum=e},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(e){this.timestamp=e},e}();const uv=function(){function e(){}return e.parseLong=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e}();var hv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hv(t,e),t.kind="NullPointerException",t}(gh);const dv=function(){function e(){}return e.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},e.prototype.writeBytesOffset=function(e,t,r){if(null==e)throw new fv;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new Ih;if(0!==r)for(var n=0;n<r;n++)this.write(e[t+n])},e.prototype.flush=function(){},e.prototype.close=function(){},e}();var pv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const gv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pv(t,e),t}(gh);var mv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const vv=function(e){function t(t){void 0===t&&(t=32);var r=e.call(this)||this;if(r.count=0,t<0)throw new wh("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return mv(t,e),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new gv;t=Ph.MAX_VALUE}this.buf=Rh.copyOfUint8Array(this.buf,t)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new Ih;this.ensureCapacity(this.count+r),Ah.arraycopy(e,t,this.buf,this.count,r),this.count+=r},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Rh.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(dv);var yv,wv;function bv(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof r.g)return r.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Ev(e){if("undefined"===typeof wv&&(wv=bv()),null===wv)throw new Error("BigInt is not supported!");return wv(e)}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(yv||(yv={}));var _v=function(){function e(){}return e.decode=function(t,r){var n=new Yh(""),i=Wh.ISO8859_1;n.enableDecoding(i);for(var o=1,a=t[o++],s=new lv;o<t[0];){switch(a){case e.TEXT_COMPACTION_MODE_LATCH:o=e.textCompaction(t,o,n);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:o=e.byteCompaction(a,t,i,o,n);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[o++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:o=e.numericCompaction(t,o,n);break;case e.ECI_CHARSET:Wh.getCharacterSetECIByValue(t[o++]);break;case e.ECI_GENERAL_PURPOSE:o+=2;break;case e.ECI_USER_DEFINED:o++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=e.decodeMacroBlock(t,o,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new Uh;default:o--,o=e.textCompaction(t,o,n)}if(!(o<t.length))throw Uh.getFormatInstance();a=t[o++]}if(0===n.length())throw Uh.getFormatInstance();var c=new Sf(null,n.toString(),null,r);return c.setOther(s),c},e.decodeMacroBlock=function(t,r,n){if(r+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Uh.getFormatInstance();for(var i=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<e.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=t[r];n.setSegmentIndex(Ph.parseInt(e.decodeBase900toBase10(i,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Yh;r=e.textCompaction(t,r,a),n.setFileId(a.toString());var s=-1;for(t[r]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<t[0];)switch(t[r]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++r]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Yh;r=e.textCompaction(t,r+1,c),n.setFileName(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new Yh;r=e.textCompaction(t,r+1,l),n.setSender(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new Yh;r=e.textCompaction(t,r+1,u),n.setAddressee(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new Yh;r=e.numericCompaction(t,r+1,h),n.setSegmentCount(Ph.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new Yh;r=e.numericCompaction(t,r+1,f),n.setTimestamp(uv.parseLong(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var d=new Yh;r=e.numericCompaction(t,r+1,d),n.setChecksum(Ph.parseInt(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Yh;r=e.numericCompaction(t,r+1,p),n.setFileSize(uv.parseLong(p.toString()));break;default:throw Uh.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Uh.getFormatInstance()}if(-1!==s){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(Rh.copyOfRange(t,s,s+g))}return r},e.textCompaction=function(t,r,n){for(var i=new Int32Array(2*(t[0]-r)),o=new Int32Array(2*(t[0]-r)),a=0,s=!1;r<t[0]&&!s;){var c=t[r++];if(c<e.TEXT_COMPACTION_MODE_LATCH)i[a]=c/30,i[a+1]=c%30,a+=2;else switch(c){case e.TEXT_COMPACTION_MODE_LATCH:i[a++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[r++],o[a]=c,a++}}return e.decodeTextCompaction(i,o,a,n),r},e.decodeTextCompaction=function(t,r,n,i){for(var o=yv.ALPHA,a=yv.ALPHA,s=0;s<n;){var c=t[s],l="";switch(o){case yv.ALPHA:if(c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case e.LL:o=yv.LOWER;break;case e.ML:o=yv.MIXED;break;case e.PS:a=o,o=yv.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=yv.ALPHA}break;case yv.LOWER:if(c<26)l=String.fromCharCode(97+c);else switch(c){case 26:l=" ";break;case e.AS:a=o,o=yv.ALPHA_SHIFT;break;case e.ML:o=yv.MIXED;break;case e.PS:a=o,o=yv.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=yv.ALPHA}break;case yv.MIXED:if(c<e.PL)l=e.MIXED_CHARS[c];else switch(c){case e.PL:o=yv.PUNCT;break;case 26:l=" ";break;case e.LL:o=yv.LOWER;break;case e.AL:o=yv.ALPHA;break;case e.PS:a=o,o=yv.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=yv.ALPHA}break;case yv.PUNCT:if(c<e.PAL)l=e.PUNCT_CHARS[c];else switch(c){case e.PAL:o=yv.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=yv.ALPHA}break;case yv.ALPHA_SHIFT:if(o=a,c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:o=yv.ALPHA}break;case yv.PUNCT_SHIFT:if(o=a,c<e.PAL)l=e.PUNCT_CHARS[c];else switch(c){case e.PAL:o=yv.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=yv.ALPHA}}""!==l&&i.append(l),s++}},e.byteCompaction=function(t,r,n,i,o){var a=new vv,s=0,c=0,l=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),h=r[i++];i<r[0]&&!l;)switch(u[s++]=h,c=900*c+h,h=r[i++]){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5===0&&s>0){for(var f=0;f<6;++f)a.write(Number(Ev(c)>>Ev(8*(5-f))));c=0,s=0}}i===r[0]&&h<e.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=h);for(var d=0;d<s;d++)a.write(u[d]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var p=r[i++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,c=900*c+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:i--,l=!0}if(s%5===0&&s>0){for(f=0;f<6;++f)a.write(Number(Ev(c)>>Ev(8*(5-f))));c=0,s=0}}}return o.append(Kh.decode(a.toByteArray(),n)),i},e.numericCompaction=function(t,r,n){for(var i=0,o=!1,a=new Int32Array(e.MAX_NUMERIC_CODEWORDS);r<t[0]&&!o;){var s=t[r++];if(r===t[0]&&(o=!0),s<e.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,o=!0}(i%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(e.decodeBase900toBase10(a,i)),i=0)}return r},e.decodeBase900toBase10=function(t,r){for(var n=Ev(0),i=0;i<r;i++)n+=e.EXP900[r-i-1]*Ev(t[i]);var o=n.toString();if("1"!==o.charAt(0))throw new Uh;return o.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",e.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",e.EXP900=bv()?function(){var e=[];e[0]=Ev(1);var t=Ev(900);e[1]=t;for(var r=2;r<16;r++)e[r]=e[r-1]*t;return e}():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}();const Sv=_v;var Cv=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Av=function(){function e(){}return e.decode=function(t,r,n,i,o,a,s){for(var c,l=new Hm(t,r,n,i,o),u=null,h=null,f=!0;;f=!1){if(null!=r&&(u=e.getRowIndicatorColumn(t,l,r,!0,a,s)),null!=i&&(h=e.getRowIndicatorColumn(t,l,i,!1,a,s)),null==(c=e.merge(u,h)))throw Jh.getNotFoundInstance();var d=c.getBoundingBox();if(!f||null==d||!(d.getMinY()<l.getMinY()||d.getMaxY()>l.getMaxY()))break;l=d}c.setBoundingBox(l);var p=c.getBarcodeColumnCount()+1;c.setDetectionResultColumn(0,u),c.setDetectionResultColumn(p,h);for(var g=null!=u,m=1;m<=p;m++){var v=g?m:p-m;if(void 0===c.getDetectionResultColumn(v)){var y=void 0;y=0===v||v===p?new rv(l,0===v):new qm(l),c.setDetectionResultColumn(v,y);for(var w=-1,b=w,E=l.getMinY();E<=l.getMaxY();E++){if((w=e.getStartColumn(c,v,E,g))<0||w>l.getMaxX()){if(-1===b)continue;w=b}var _=e.detectCodeword(t,l.getMinX(),l.getMaxX(),g,w,E,a,s);null!=_&&(y.setCodeword(E,_),b=w,a=Math.min(a,_.getWidth()),s=Math.max(s,_.getWidth()))}}}return e.createDecoderResult(c)},e.merge=function(t,r){if(null==t&&null==r)return null;var n=e.getBarcodeMetadata(t,r);if(null==n)return null;var i=Hm.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(r));return new ov(n,i)},e.adjustBoundingBox=function(t){var r,n;if(null==t)return null;var i=t.getRowHeights();if(null==i)return null;var o=e.getMax(i),a=0;try{for(var s=Cv(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(a+=o-l,l>0)break}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var u=t.getCodewords(),h=0;a>0&&null==u[h];h++)a--;var f=0;for(h=i.length-1;h>=0&&(f+=o-i[h],!(i[h]>0));h--);for(h=u.length-1;f>0&&null==u[h];h--)f--;return t.getBoundingBox().addMissingRows(a,f,t.isLeft())},e.getMax=function(e){var t,r,n=-1;try{for(var i=Cv(e),o=i.next();!o.done;o=i.next()){var a=o.value;n=Math.max(n,a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.getBarcodeMetadata=function(e,t){var r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r},e.getRowIndicatorColumn=function(t,r,n,i,o,a){for(var s=new rv(r,i),c=0;c<2;c++)for(var l=0===c?1:-1,u=Math.trunc(Math.trunc(n.getX())),h=Math.trunc(Math.trunc(n.getY()));h<=r.getMaxY()&&h>=r.getMinY();h+=l){var f=e.detectCodeword(t,0,t.getWidth(),i,u,h,o,a);null!=f&&(s.setCodeword(h,f),u=i?f.getStartX():f.getEndX())}return s},e.adjustCodewordCount=function(t,r){var n=r[0][1],i=n.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===i.length){if(o<1||o>xm.MAX_CODEWORDS_IN_BARCODE)throw Jh.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},e.createDecoderResult=function(t){var r=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,r);for(var n=new Array,i=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var c=0;c<t.getBarcodeColumnCount();c++){var l=r[s][c+1].getValue(),u=s*t.getBarcodeColumnCount()+c;0===l.length?n.push(u):1===l.length?i[u]=l[0]:(a.push(u),o.push(l))}for(var h=new Array(o.length),f=0;f<h.length;f++)h[f]=o[f];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),i,xm.toIntArray(n),xm.toIntArray(a),h)},e.createDecoderResultFromAmbiguousValues=function(t,r,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var c=0;c<a.length;c++)r[i[c]]=o[c][a[c]];try{return e.decodeCodewords(r,t,n)}catch(l){if(!(l instanceof _h))throw l}if(0===a.length)throw _h.getChecksumInstance();for(c=0;c<a.length;c++){if(a[c]<o[c].length-1){a[c]++;break}if(a[c]=0,c===a.length-1)throw _h.getChecksumInstance()}}throw _h.getChecksumInstance()},e.createBarcodeMatrix=function(e){for(var t,r,n,i,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)o[a][s]=new Qm;var c=0;try{for(var l=Cv(e.getDetectionResultColumns()),u=l.next();!u.done;u=l.next()){var h=u.value;if(null!=h)try{for(var f=(n=void 0,Cv(h.getCodewords())),d=f.next();!d.done;d=f.next()){var p=d.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][c].setValue(p.getValue())}}}}catch(m){n={error:m}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}c++}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return o},e.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},e.getStartColumn=function(t,r,n,i){var o,a,s=i?1:-1,c=null;if(e.isValidBarcodeColumn(t,r-s)&&(c=t.getDetectionResultColumn(r-s).getCodeword(n)),null!=c)return i?c.getEndX():c.getStartX();if(null!=(c=t.getDetectionResultColumn(r).getCodewordNearby(n)))return i?c.getStartX():c.getEndX();if(e.isValidBarcodeColumn(t,r-s)&&(c=t.getDetectionResultColumn(r-s).getCodewordNearby(n)),null!=c)return i?c.getEndX():c.getStartX();for(var l=0;e.isValidBarcodeColumn(t,r-s);){r-=s;try{for(var u=(o=void 0,Cv(t.getDetectionResultColumn(r).getCodewords())),h=u.next();!h.done;h=u.next()){var f=h.value;if(null!=f)return(i?f.getEndX():f.getStartX())+s*l*(f.getEndX()-f.getStartX())}}catch(d){o={error:d}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}l++}return i?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,r,n,i,o,a,s,c){o=e.adjustCodewordStartColumn(t,r,n,i,o,a);var l,u=e.getModuleBitCount(t,r,n,i,o,a);if(null==u)return null;var h=zf.sum(u);if(i)l=o+h;else{for(var f=0;f<u.length/2;f++){var d=u[f];u[f]=u[u.length-1-f],u[u.length-1-f]=d}o=(l=o)-h}if(!e.checkCodewordSkew(h,s,c))return null;var p=cv.getDecodedValue(u),g=xm.getCodeword(p);return-1===g?null:new av(o,l,e.getCodewordBucketNumber(p),g)},e.getModuleBitCount=function(e,t,r,n,i,o){for(var a=i,s=new Int32Array(8),c=0,l=n?1:-1,u=n;(n?a<r:a>=t)&&c<s.length;)e.get(a,o)===u?(s[c]++,a+=l):(c++,u=!u);return c===s.length||a===(n?r:t)&&c===s.length-1?s:null},e.getNumberOfECCodeWords=function(e){return 2<<e},e.adjustCodewordStartColumn=function(t,r,n,i,o,a){for(var s=o,c=i?-1:1,l=0;l<2;l++){for(;(i?s>=r:s<n)&&i===t.get(s,a);){if(Math.abs(o-s)>e.CODEWORD_SKEW_SIZE)return o;s+=c}c=-c,i=!i}return s},e.checkCodewordSkew=function(t,r,n){return r-e.CODEWORD_SKEW_SIZE<=t&&t<=n+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,r,n){if(0===t.length)throw Uh.getFormatInstance();var i=1<<r+1,o=e.correctErrors(t,n,i);e.verifyCodewordCount(t,i);var a=Sv.decode(t,""+r);return a.setErrorsCorrected(o),a.setErasures(n.length),a},e.correctErrors=function(t,r,n){if(null!=r&&r.length>n/2+e.MAX_ERRORS||n<0||n>e.MAX_EC_CODEWORDS)throw _h.getChecksumInstance();return e.errorCorrection.decode(t,n,r)},e.verifyCodewordCount=function(e,t){if(e.length<4)throw Uh.getFormatInstance();var r=e[0];if(r>e.length)throw Uh.getFormatInstance();if(0===r){if(!(t<e.length))throw Uh.getFormatInstance();e[0]=e.length-t}},e.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,n=t.length-1;!((1&e)!==r&&(r=1&e,--n<0));)t[n]++,e>>=1;return t},e.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},e.toString=function(e){for(var t=new Gm,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var n=0;n<e[r].length;n++){var i=e[r][n];0===i.getValue().length?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new zm,e}();const Tv=Av;var Iv=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xv=function(){function e(){}return e.prototype.decode=function(t,r){void 0===r&&(r=null);var n=e.decode(t,r,!1);if(null==n||0===n.length||null==n[0])throw Jh.getNotFoundInstance();return n[0]},e.prototype.decodeMultiple=function(t,r){void 0===r&&(r=null);try{return e.decode(t,r,!0)}catch(n){if(n instanceof Uh||n instanceof _h)throw Jh.getNotFoundInstance();throw n}},e.decode=function(t,r,n){var i,o,a=new Array,s=Rm.detectMultiple(t,r,n);try{for(var c=Iv(s.getPoints()),l=c.next();!l.done;l=c.next()){var u=l.value,h=Tv.decode(s.getBits(),u[4],u[5],u[6],u[7],e.getMinCodewordWidth(u),e.getMaxCodewordWidth(u)),f=new yf(h.getText(),h.getRawBytes(),void 0,u,bf.PDF_417);f.putMetadata(_f.ERROR_CORRECTION_LEVEL,h.getECLevel());var d=h.getOther();null!=d&&f.putMetadata(_f.PDF417_EXTRA_METADATA,d),a.push(f)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a.map(function(e){return e})},e.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMinWidth=function(e,t){return null==e||null==t?Ph.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*xm.MODULES_IN_CODEWORD/xm.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*xm.MODULES_IN_CODEWORD/xm.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*xm.MODULES_IN_CODEWORD/xm.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*xm.MODULES_IN_CODEWORD/xm.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}();const kv=xv;var Nv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Ov=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nv(t,e),t.kind="ReaderException",t}(gh);var Rv=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dv=function(){function e(){}return e.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},e.prototype.decodeWithState=function(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)},e.prototype.setHints=function(e){this.hints=e;var t=null!==e&&void 0!==e&&void 0!==e.get(Bh.TRY_HARDER),r=null===e||void 0===e?null:e.get(Bh.POSSIBLE_FORMATS),n=new Array;if(null!==r&&void 0!==r){var i=r.some(function(e){return e===bf.UPC_A||e===bf.UPC_E||e===bf.EAN_13||e===bf.EAN_8||e===bf.CODABAR||e===bf.CODE_39||e===bf.CODE_93||e===bf.CODE_128||e===bf.ITF||e===bf.RSS_14||e===bf.RSS_EXPANDED});i&&!t&&n.push(new lg(e)),r.includes(bf.QR_CODE)&&n.push(new Am),r.includes(bf.DATA_MATRIX)&&n.push(new Og),r.includes(bf.AZTEC)&&n.push(new cd),r.includes(bf.PDF_417)&&n.push(new kv),i&&t&&n.push(new lg(e))}0===n.length&&(t||n.push(new lg(e)),n.push(new Am),n.push(new Og),n.push(new cd),n.push(new kv),t&&n.push(new lg(e))),this.readers=n},e.prototype.reset=function(){var e,t;if(null!==this.readers)try{for(var r=Rv(this.readers),n=r.next();!n.done;n=r.next()){n.value.reset()}}catch(i){e={error:i}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.decodeInternal=function(e){var t,r;if(null===this.readers)throw new Ov("No readers where selected, nothing can be read.");try{for(var n=Rv(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;try{return o.decode(e,this.hints)}catch(a){if(a instanceof Ov)continue}}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}throw new Jh("No MultiFormat Readers were able to detect the code.")},e}();const Pv=Dv;var Mv,Lv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fv=(function(e){function t(t,r){void 0===t&&(t=null),void 0===r&&(r=500);var n=new Pv;return n.setHints(t),e.call(this,n,r)||this}Lv(t,e),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)}}(vf),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Bv=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new kv,t)||this}Fv(t,e)}(vf),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}());!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Am,t)||this}Bv(t,e)}(vf);!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"}(Mv||(Mv={}));const jv=Mv;const Uv=function(){function e(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Tf(e,Int32Array.from([1])))}return e.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],n=this.field,i=t.length;i<=e;i++){var o=r.multiply(new Tf(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(o),r=o}return t[e]},e.prototype.encode=function(e,t){if(0===t)throw new wh("No error correction bytes");var r=e.length-t;if(r<=0)throw new wh("No data bytes provided");var n=this.buildGenerator(t),i=new Int32Array(r);Ah.arraycopy(e,0,i,0,r);for(var o=new Tf(this.field,i),a=(o=o.multiplyByMonomial(t,1)).divide(n)[1].getCoefficients(),s=t-a.length,c=0;c<s;c++)e[r+c]=0;Ah.arraycopy(a,0,e,r+s,a.length)},e}();var Vv=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var r=0,n=t.getArray(),i=t.getWidth(),o=t.getHeight(),a=0;a<o-1;a++)for(var s=n[a],c=0;c<i-1;c++){var l=s[c];l===s[c+1]&&l===n[a+1][c]&&l===n[a+1][c+1]&&r++}return e.N2*r},e.applyMaskPenaltyRule3=function(t){for(var r=0,n=t.getArray(),i=t.getWidth(),o=t.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var c=n[a];s+6<i&&1===c[s]&&0===c[s+1]&&1===c[s+2]&&1===c[s+3]&&1===c[s+4]&&0===c[s+5]&&1===c[s+6]&&(e.isWhiteHorizontal(c,s-4,s)||e.isWhiteHorizontal(c,s+7,s+11))&&r++,a+6<o&&1===n[a][s]&&0===n[a+1][s]&&1===n[a+2][s]&&1===n[a+3][s]&&1===n[a+4][s]&&0===n[a+5][s]&&1===n[a+6][s]&&(e.isWhiteVertical(n,s,a-4,a)||e.isWhiteVertical(n,s,a+7,a+11))&&r++}return r*e.N3},e.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var n=t;n<r;n++)if(1===e[n])return!1;return!0},e.isWhiteVertical=function(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(1===e[i][t])return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var r=0,n=t.getArray(),i=t.getWidth(),o=t.getHeight(),a=0;a<o;a++)for(var s=n[a],c=0;c<i;c++)1===s[c]&&r++;var l=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*r-l)/l)*e.N4},e.getDataMaskBit=function(e,t,r){var n,i;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:n=(1&(i=r*t))+i%3;break;case 6:n=(1&(i=r*t))+i%3&1;break;case 7:n=(i=r*t)%3+(r+t&1)&1;break;default:throw new wh("Invalid mask pattern: "+e)}return 0===n},e.applyMaskPenaltyRule1Internal=function(t,r){for(var n=0,i=r?t.getHeight():t.getWidth(),o=r?t.getWidth():t.getHeight(),a=t.getArray(),s=0;s<i;s++){for(var c=0,l=-1,u=0;u<o;u++){var h=r?a[s][u]:a[u][s];h===l?c++:(c>=5&&(n+=e.N1+(c-5)),c=1,l=h)}c>=5&&(n+=e.N1+(c-5))}return n},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}();const zv=Vv;var Hv=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wv=function(){function e(e,t){this.width=e,this.height=t;for(var r=new Array(t),n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(e,t){return this.bytes[t][e]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},e.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},e.prototype.clear=function(e){var t,r;try{for(var n=Hv(this.bytes),i=n.next();!i.done;i=n.next()){var o=i.value;Rh.fill(o,e)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.width!==r.width)return!1;if(this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=r.bytes[n],s=0,c=this.width;s<c;++s)if(o[s]!==a[s])return!1;return!0},e.prototype.toString=function(){for(var e=new Yh,t=0,r=this.height;t<r;++t){for(var n=this.bytes[t],i=0,o=this.width;i<o;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},e}();const Gv=Wv;var Xv=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var e=new Yh;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setECLevel=function(e){this.ecLevel=e},e.prototype.setVersion=function(e){this.version=e},e.prototype.setMaskPattern=function(e){this.maskPattern=e},e.prototype.setMatrix=function(e){this.matrix=e},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}();const Kv=Xv;var qv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qv(t,e),t.kind="WriterException",t}(gh);var Zv=function(){function e(){}return e.clearMatrix=function(e){e.clear(255)},e.buildMatrix=function(t,r,n,i,o){e.clearMatrix(o),e.embedBasicPatterns(n,o),e.embedTypeInfo(r,i,o),e.maybeEmbedVersionInfo(n,o),e.embedDataBits(t,i,o)},e.embedBasicPatterns=function(t,r){e.embedPositionDetectionPatternsAndSeparators(r),e.embedDarkDotAtLeftBottomCorner(r),e.maybeEmbedPositionAdjustmentPatterns(t,r),e.embedTimingPatterns(r)},e.embedTypeInfo=function(t,r,n){var i=new Lh;e.makeTypeInfoBits(t,r,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),c=e.TYPE_INFO_COORDINATES[o],l=c[0],u=c[1];if(n.setBoolean(l,u,s),o<8){var h=n.getWidth()-o-1,f=8;n.setBoolean(h,f,s)}else{h=8,f=n.getHeight()-7+(o-8);n.setBoolean(h,f,s)}}},e.maybeEmbedVersionInfo=function(t,r){if(!(t.getVersionNumber()<7)){var n=new Lh;e.makeVersionInfoBits(t,n);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+a,s),r.setBoolean(r.getHeight()-11+a,o,s)}}},e.embedDataBits=function(t,r,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<n.getHeight();){for(var c=0;c<2;++c){var l=a-c;if(e.isEmpty(n.get(l,s))){var u=void 0;i<t.getSize()?(u=t.get(i),++i):u=!1,255!==r&&zv.getDataMaskBit(r,l,s)&&(u=!u),n.setBoolean(l,s,u)}}s+=o}s+=o=-o,a-=2}if(i!==t.getSize())throw new Yv("Not all bits consumed: "+i+"/"+t.getSize())},e.findMSBSet=function(e){return 32-Ph.numberOfLeadingZeros(e)},e.calculateBCHCode=function(t,r){if(0===r)throw new wh("0 polynomial");var n=e.findMSBSet(r);for(t<<=n-1;e.findMSBSet(t)>=n;)t^=r<<e.findMSBSet(t)-n;return t},e.makeTypeInfoBits=function(t,r,n){if(!Kv.isValidMaskPattern(r))throw new Yv("Invalid mask pattern");var i=t.getBits()<<3|r;n.appendBits(i,5);var o=e.calculateBCHCode(i,e.TYPE_INFO_POLY);n.appendBits(o,10);var a=new Lh;if(a.appendBits(e.TYPE_INFO_MASK_PATTERN,15),n.xor(a),15!==n.getSize())throw new Yv("should not happen but we got: "+n.getSize())},e.makeVersionInfoBits=function(t,r){r.appendBits(t.getVersionNumber(),6);var n=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(r.appendBits(n,12),18!==r.getSize())throw new Yv("should not happen but we got: "+r.getSize())},e.isEmpty=function(e){return 255===e},e.embedTimingPatterns=function(t){for(var r=8;r<t.getWidth()-8;++r){var n=(r+1)%2;e.isEmpty(t.get(r,6))&&t.setNumber(r,6,n),e.isEmpty(t.get(6,r))&&t.setNumber(6,r,n)}},e.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new Yv;e.setNumber(8,e.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,r,n){for(var i=0;i<8;++i){if(!e.isEmpty(n.get(t+i,r)))throw new Yv;n.setNumber(t+i,r,0)}},e.embedVerticalSeparationPattern=function(t,r,n){for(var i=0;i<7;++i){if(!e.isEmpty(n.get(t,r+i)))throw new Yv;n.setNumber(t,r+i,0)}},e.embedPositionAdjustmentPattern=function(t,r,n){for(var i=0;i<5;++i)for(var o=e.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(t+a,r+i,o[a])},e.embedPositionDetectionPattern=function(t,r,n){for(var i=0;i<7;++i)for(var o=e.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(t+a,r+i,o[a])},e.embedPositionDetectionPatternsAndSeparators=function(t){var r=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-r,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-r,t);e.embedHorizontalSeparationPattern(0,7,t),e.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-8,t);e.embedVerticalSeparationPattern(7,0,t),e.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),e.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,r){if(!(t.getVersionNumber()<2))for(var n=t.getVersionNumber()-1,i=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var c=0;c!==a;c++){var l=i[c];l>=0&&e.isEmpty(r.get(l,s))&&e.embedPositionAdjustmentPattern(l-2,s-2,r)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}();const $v=Zv;const Qv=function(){function e(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}();var Jv=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ey=function(){function e(){}return e.calculateMaskPenalty=function(e){return zv.applyMaskPenaltyRule1(e)+zv.applyMaskPenaltyRule2(e)+zv.applyMaskPenaltyRule3(e)+zv.applyMaskPenaltyRule4(e)},e.encode=function(t,r,n){void 0===n&&(n=null);var i=e.DEFAULT_BYTE_MODE_ENCODING,o=null!==n&&void 0!==n.get(jv.CHARACTER_SET);o&&(i=n.get(jv.CHARACTER_SET).toString());var a=this.chooseMode(t,i),s=new Lh;if(a===rm.BYTE&&(o||e.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Wh.getCharacterSetECIByName(i);void 0!==c&&this.appendECI(c,s)}this.appendModeInfo(a,s);var l,u=new Lh;if(this.appendBytes(t,a,u,i),null!==n&&void 0!==n.get(jv.QR_VERSION)){var h=Number.parseInt(n.get(jv.QR_VERSION).toString(),10);l=Gg.getVersionForNumber(h);var f=this.calculateBitsNeeded(a,s,u,l);if(!this.willFit(f,l,r))throw new Yv("Data too big for requested version")}else l=this.recommendVersion(r,a,s,u);var d=new Lh;d.appendBitArray(s);var p=a===rm.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(p,l,a,d),d.appendBitArray(u);var g=l.getECBlocksForLevel(r),m=l.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,d);var v=this.interleaveWithECBytes(d,l.getTotalCodewords(),m,g.getNumBlocks()),y=new Kv;y.setECLevel(r),y.setMode(a),y.setVersion(l);var w=l.getDimensionForVersion(),b=new Gv(w,w),E=this.chooseMaskPattern(v,r,l,b);return y.setMaskPattern(E),$v.buildMatrix(v,r,l,E,b),y.setMatrix(b),y},e.recommendVersion=function(e,t,r,n){var i=this.calculateBitsNeeded(t,r,n,Gg.getVersionForNumber(1)),o=this.chooseVersion(i,e),a=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(a,e)},e.calculateBitsNeeded=function(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,r){if(void 0===r&&(r=null),Wh.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return rm.KANJI;for(var n=!1,i=!1,o=0,a=t.length;o<a;++o){var s=t.charAt(o);if(e.isDigit(s))n=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return rm.BYTE;i=!0}}return i?rm.ALPHANUMERIC:n?rm.NUMERIC:rm.BYTE},e.isOnlyDoubleByteKanji=function(e){var t;try{t=Kh.encode(e,Wh.SJIS)}catch(o){return!1}var r=t.length;if(r%2!==0)return!1;for(var n=0;n<r;n+=2){var i=255&t[n];if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(e,t,r,n){for(var i=Number.MAX_SAFE_INTEGER,o=-1,a=0;a<Kv.NUM_MASK_PATTERNS;a++){$v.buildMatrix(e,t,r,a,n);var s=this.calculateMaskPenalty(n);s<i&&(i=s,o=a)}return o},e.chooseVersion=function(t,r){for(var n=1;n<=40;n++){var i=Gg.getVersionForNumber(n);if(e.willFit(t,i,r))return i}throw new Yv("Data too big")},e.willFit=function(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8},e.terminateBits=function(e,t){var r=8*e;if(t.getSize()>r)throw new Yv("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var n=0;n<4&&t.getSize()<r;++n)t.appendBit(!1);var i=7&t.getSize();if(i>0)for(n=i;n<8;n++)t.appendBit(!1);var o=e-t.getSizeInBytes();for(n=0;n<o;++n)t.appendBits(0===(1&n)?236:17,8);if(t.getSize()!==r)throw new Yv("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,n,i,o){if(n>=r)throw new Yv("Block ID too large");var a=e%r,s=r-a,c=Math.floor(e/r),l=c+1,u=Math.floor(t/r),h=u+1,f=c-u,d=l-h;if(f!==d)throw new Yv("EC bytes mismatch");if(r!==s+a)throw new Yv("RS blocks mismatch");if(e!==(u+f)*s+(h+d)*a)throw new Yv("Total bytes mismatch");n<s?(i[0]=u,o[0]=f):(i[0]=h,o[0]=d)},e.interleaveWithECBytes=function(t,r,n,i){var o,a,s,c;if(t.getSizeInBytes()!==n)throw new Yv("Number of bits and data bytes does not match");for(var l=0,u=0,h=0,f=new Array,d=0;d<i;++d){var p=new Int32Array(1),g=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(r,n,i,d,p,g);var m=p[0],v=new Uint8Array(m);t.toBytes(8*l,v,0,m);var y=e.generateECBytes(v,g[0]);f.push(new Qv(v,y)),u=Math.max(u,m),h=Math.max(h,y.length),l+=p[0]}if(n!==l)throw new Yv("Data bytes does not match offset");var w=new Lh;for(d=0;d<u;++d)try{for(var b=(o=void 0,Jv(f)),E=b.next();!E.done;E=b.next()){d<(v=E.value.getDataBytes()).length&&w.appendBits(v[d],8)}}catch(C){o={error:C}}finally{try{E&&!E.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}for(d=0;d<h;++d)try{for(var _=(s=void 0,Jv(f)),S=_.next();!S.done;S=_.next()){d<(y=S.value.getErrorCorrectionBytes()).length&&w.appendBits(y[d],8)}}catch(A){s={error:A}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new Yv("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},e.generateECBytes=function(e,t){for(var r=e.length,n=new Int32Array(r+t),i=0;i<r;i++)n[i]=255&e[i];new Uv(Of.QR_CODE_FIELD_256).encode(n,t);var o=new Uint8Array(t);for(i=0;i<t;i++)o[i]=n[r+i];return o},e.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},e.appendLengthInfo=function(e,t,r,n){var i=r.getCharacterCountBits(t);if(e>=1<<i)throw new Yv(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)},e.appendBytes=function(t,r,n,i){switch(r){case rm.NUMERIC:e.appendNumericBytes(t,n);break;case rm.ALPHANUMERIC:e.appendAlphanumericBytes(t,n);break;case rm.BYTE:e.append8BitBytes(t,n,i);break;case rm.KANJI:e.appendKanjiBytes(t,n);break;default:throw new Yv("Invalid mode: "+r)}},e.getDigit=function(e){return e.charCodeAt(0)-48},e.isDigit=function(t){var r=e.getDigit(t);return r>=0&&r<=9},e.appendNumericBytes=function(t,r){for(var n=t.length,i=0;i<n;){var o=e.getDigit(t.charAt(i));if(i+2<n){var a=e.getDigit(t.charAt(i+1)),s=e.getDigit(t.charAt(i+2));r.appendBits(100*o+10*a+s,10),i+=3}else if(i+1<n){a=e.getDigit(t.charAt(i+1));r.appendBits(10*o+a,7),i+=2}else r.appendBits(o,4),i++}},e.appendAlphanumericBytes=function(t,r){for(var n=t.length,i=0;i<n;){var o=e.getAlphanumericCode(t.charCodeAt(i));if(-1===o)throw new Yv;if(i+1<n){var a=e.getAlphanumericCode(t.charCodeAt(i+1));if(-1===a)throw new Yv;r.appendBits(45*o+a,11),i+=2}else r.appendBits(o,6),i++}},e.append8BitBytes=function(e,t,r){var n;try{n=Kh.encode(e,r)}catch(s){throw new Yv(s)}for(var i=0,o=n.length;i!==o;i++){var a=n[i];t.appendBits(a,8)}},e.appendKanjiBytes=function(e,t){var r;try{r=Kh.encode(e,Wh.SJIS)}catch(c){throw new Yv(c)}for(var n=r.length,i=0;i<n;i+=2){var o=(255&r[i])<<8&4294967295|255&r[i+1],a=-1;if(o>=33088&&o<=40956?a=o-33088:o>=57408&&o<=60351&&(a=o-49472),-1===a)throw new Yv("Invalid byte sequence");var s=192*(a>>8)+(255&a);t.appendBits(s,13)}},e.appendECI=function(e,t){t.appendBits(rm.ECI.getBits(),4),t.appendBits(e.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=Wh.UTF8.getName(),e}();const ty=ey;!function(){function e(){}e.prototype.write=function(t,r,n,i){if(void 0===i&&(i=null),0===t.length)throw new wh("Found empty contents");if(r<0||n<0)throw new wh("Requested dimensions are too small: "+r+"x"+n);var o=Pg.L,a=e.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(jv.ERROR_CORRECTION)&&(o=Pg.fromString(i.get(jv.ERROR_CORRECTION).toString())),void 0!==i.get(jv.MARGIN)&&(a=Number.parseInt(i.get(jv.MARGIN).toString(),10)));var s=ty.encode(t,o,i);return this.renderResult(s,r,n,a)},e.prototype.writeToDom=function(e,t,r,n,i){void 0===i&&(i=null),"string"===typeof e&&(e=document.querySelector(e));var o=this.write(t,r,n,i);e&&e.appendChild(o)},e.prototype.renderResult=function(e,t,r,n){var i=e.getMatrix();if(null===i)throw new Mf;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*n,c=a+2*n,l=Math.max(t,s),u=Math.max(r,c),h=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*h)/2),d=Math.floor((u-a*h)/2),p=this.createSVGElement(l,u),g=0,m=d;g<a;g++,m+=h)for(var v=0,y=f;v<o;v++,y+=h)if(1===i.get(v,g)){var w=this.createSvgRectElement(y,m,h,h);p.appendChild(w)}return p},e.prototype.createSVGElement=function(t,r){var n=document.createElementNS(e.SVG_NS,"svg");return n.setAttributeNS(null,"height",t.toString()),n.setAttributeNS(null,"width",r.toString()),n},e.prototype.createSvgRectElement=function(t,r,n,i){var o=document.createElementNS(e.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg"}();const ry=function(){function e(){}return e.prototype.encode=function(t,r,n,i,o){if(0===t.length)throw new wh("Found empty contents");if(r!==bf.QR_CODE)throw new wh("Can only encode QR_CODE, but got "+r);if(n<0||i<0)throw new wh("Requested dimensions are too small: "+n+"x"+i);var a=Pg.L,s=e.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(jv.ERROR_CORRECTION)&&(a=Pg.fromString(o.get(jv.ERROR_CORRECTION).toString())),void 0!==o.get(jv.MARGIN)&&(s=Number.parseInt(o.get(jv.MARGIN).toString(),10)));var c=ty.encode(t,a,o);return e.renderResult(c,n,i,s)},e.renderResult=function(e,t,r,n){var i=e.getMatrix();if(null===i)throw new Mf;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*n,c=a+2*n,l=Math.max(t,s),u=Math.max(r,c),h=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*h)/2),d=Math.floor((u-a*h)/2),p=new $h(l,u),g=0,m=d;g<a;g++,m+=h)for(var v=0,y=f;v<o;v++,y+=h)1===i.get(v,g)&&p.setRegion(y,m,h,h);return p},e.QUIET_ZONE_SIZE=4,e}();!function(){function e(){}e.prototype.encode=function(e,t,r,n,i){if(t!==bf.QR_CODE)throw new wh("No encoder available for format "+t);return(new ry).encode(e,t,r,n,i)}}();var ny=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){function t(t,r,n,i,o,a,s,c){var l=e.call(this,a,s)||this;if(l.yuvData=t,l.dataWidth=r,l.dataHeight=n,l.left=i,l.top=o,i+a>r||o+s>n)throw new wh("Crop rectangle does not fit within image data.");return c&&l.reverseHorizontal(a,s),l}ny(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new wh("Requested row is outside the image: "+e);var r=this.getWidth();(null===t||void 0===t||t.length<r)&&(t=new Uint8ClampedArray(r));var n=(e+this.top)*this.dataWidth+this.left;return Ah.arraycopy(this.yuvData,n,t,0,r),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;var r=e*t,n=new Uint8ClampedArray(r),i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Ah.arraycopy(this.yuvData,i,n,0,r),n;for(var o=0;o<t;o++){var a=o*e;Ah.arraycopy(this.yuvData,i,n,a,e),i+=this.dataWidth}return n},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,n,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,n,i,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*r),i=this.yuvData,o=this.top*this.dataWidth+this.left,a=0;a<r;a++){for(var s=a*e,c=0;c<e;c++){var l=255&i[o+c*t.THUMBNAIL_SCALE_FACTOR];n[s+c]=4278190080|65793*l}o+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return n},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,t){for(var r=this.yuvData,n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth)for(var o=i+e/2,a=i,s=i+e-1;a<o;a++,s--){var c=r[a];r[a]=r[s],r[s]=c}},t.prototype.invert=function(){return new uf(this)},t.THUMBNAIL_SCALE_FACTOR=2}(cf);var iy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){function t(t,r,n,i,o,a,s){var c=e.call(this,r,n)||this;if(c.dataWidth=i,c.dataHeight=o,c.left=a,c.top=s,4===t.BYTES_PER_ELEMENT){for(var l=r*n,u=new Uint8ClampedArray(l),h=0;h<l;h++){var f=t[h],d=f>>16&255,p=f>>7&510,g=255&f;u[h]=(d+p+g)/4&255}c.luminances=u}else c.luminances=t;if(void 0===i&&(c.dataWidth=r),void 0===o&&(c.dataHeight=n),void 0===a&&(c.left=0),void 0===s&&(c.top=0),c.left+r>c.dataWidth||c.top+n>c.dataHeight)throw new wh("Crop rectangle does not fit within image data.");return c}iy(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new wh("Requested row is outside the image: "+e);var r=this.getWidth();(null===t||void 0===t||t.length<r)&&(t=new Uint8ClampedArray(r));var n=(e+this.top)*this.dataWidth+this.left;return Ah.arraycopy(this.luminances,n,t,0,r),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;var r=e*t,n=new Uint8ClampedArray(r),i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Ah.arraycopy(this.luminances,i,n,0,r),n;for(var o=0;o<t;o++){var a=o*e;Ah.arraycopy(this.luminances,i,n,a,e),i+=this.dataWidth}return n},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,n,i){return new t(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+e,this.top+r)},t.prototype.invert=function(){return new uf(this)}}(cf);var oy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const ay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oy(t,e),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(Wh);const sy=function(){function e(){}return e.ISO_8859_1=Wh.ISO8859_1,e}();const cy=function(){function e(e,t,r){this.codewords=e,this.numcols=t,this.numrows=r,this.bits=new Uint8Array(t*r),Rh.fill(this.bits,2)}return e.prototype.getNumrows=function(){return this.numrows},e.prototype.getNumcols=function(){return this.numcols},e.prototype.getBits=function(){return this.bits},e.prototype.getBit=function(e,t){return 1===this.bits[t*this.numcols+e]},e.prototype.setBit=function(e,t,r){this.bits[t*this.numcols+e]=r?1:0},e.prototype.noBit=function(e,t){return 2===this.bits[t*this.numcols+e]},e.prototype.place=function(){var e=0,t=4,r=0;do{t===this.numrows&&0===r&&this.corner1(e++),t===this.numrows-2&&0===r&&this.numcols%4!==0&&this.corner2(e++),t===this.numrows-2&&0===r&&this.numcols%8===4&&this.corner3(e++),t===this.numrows+4&&2===r&&this.numcols%8===0&&this.corner4(e++);do{t<this.numrows&&r>=0&&this.noBit(r,t)&&this.utah(t,r,e++),t-=2,r+=2}while(t>=0&&r<this.numcols);t++,r+=3;do{t>=0&&r<this.numcols&&this.noBit(r,t)&&this.utah(t,r,e++),t+=2,r-=2}while(t<this.numrows&&r>=0);t+=3,r++}while(t<this.numrows||r<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},e.prototype.module=function(e,t,r,n){e<0&&(e+=this.numrows,t+=4-(this.numrows+4)%8),t<0&&(t+=this.numcols,e+=4-(this.numcols+4)%8);var i=this.codewords.charCodeAt(r);i&=1<<8-n,this.setBit(t,e,0!==i)},e.prototype.utah=function(e,t,r){this.module(e-2,t-2,r,1),this.module(e-2,t-1,r,2),this.module(e-1,t-2,r,3),this.module(e-1,t-1,r,4),this.module(e-1,t,r,5),this.module(e,t-2,r,6),this.module(e,t-1,r,7),this.module(e,t,r,8)},e.prototype.corner1=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,1,e,2),this.module(this.numrows-1,2,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},e.prototype.corner2=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-4,e,4),this.module(0,this.numcols-3,e,5),this.module(0,this.numcols-2,e,6),this.module(0,this.numcols-1,e,7),this.module(1,this.numcols-1,e,8)},e.prototype.corner3=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},e.prototype.corner4=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,this.numcols-1,e,2),this.module(0,this.numcols-3,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-3,e,6),this.module(1,this.numcols-2,e,7),this.module(1,this.numcols-1,e,8)},e}();var ly,uy,hy=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],fy=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],dy=(ly=function(e,t){for(var r=1,n=0;n<255;n++)t[n]=r,e[r]=n,(r*=2)>=256&&(r^=301);return{LOG:e,ALOG:t}}([],[]),ly.LOG),py=ly.ALOG;!function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"}(uy||(uy={}));var gy="[)>\x1e05\x1d",my="[)>\x1e06\x1d",vy="\x1e\x04",yy=function(){function e(){}return e.encodeECC200=function(e,t){if(e.length!==t.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var r=new Yh;r.append(e);var n=t.getInterleavedBlockCount();if(1===n){var i=this.createECCBlock(e,t.getErrorCodewords());r.append(i)}else{for(var o=[],a=[],s=0;s<n;s++)o[s]=t.getDataLengthForInterleavedBlock(s+1),a[s]=t.getErrorLengthForInterleavedBlock(s+1);for(var c=0;c<n;c++){for(var l=new Yh,u=c;u<t.getDataCapacity();u+=n)l.append(e.charAt(u));i=this.createECCBlock(l.toString(),a[c]);for(var h=0,f=c;f<a[c]*n;f+=n)r.setCharAt(t.getDataCapacity()+f,i.charAt(h++))}}return r.toString()},e.createECCBlock=function(e,t){for(var r=-1,n=0;n<hy.length;n++)if(hy[n]===t){r=n;break}if(r<0)throw new Error("Illegal number of error correction codewords specified: "+t);var i=fy[r],o=[];for(n=0;n<t;n++)o[n]=0;for(n=0;n<e.length;n++){for(var a=o[t-1]^e.charAt(n).charCodeAt(0),s=t-1;s>0;s--)0!==a&&0!==i[s]?o[s]=o[s-1]^py[(dy[a]+dy[i[s]])%255]:o[s]=o[s-1];0!==a&&0!==i[0]?o[0]=py[(dy[a]+dy[i[0]])%255]:o[0]=0}var c=[];for(n=0;n<t;n++)c[n]=o[t-n-1];return c.map(function(e){return String.fromCharCode(e)}).join("")},e}();const wy=yy;var by=function(){function e(){}return e.prototype.getEncodingMode=function(){return 0},e.prototype.encode=function(e){if(My.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var t=e.getCurrentChar(),r=My.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(r!==this.getEncodingMode())switch(r){case 5:return e.writeCodeword(231),void e.signalEncoderChange(5);case 1:return e.writeCodeword(230),void e.signalEncoderChange(1);case 3:e.writeCodeword(238),e.signalEncoderChange(3);break;case 2:e.writeCodeword(239),e.signalEncoderChange(2);break;case 4:e.writeCodeword(240),e.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+r)}else My.isExtendedASCII(t)?(e.writeCodeword(235),e.writeCodeword(t-128+1),e.pos++):(e.writeCodeword(t+1),e.pos++)}},e.prototype.encodeASCIIDigits=function(e,t){if(My.isDigit(e)&&My.isDigit(t))return 10*(e-48)+(t-48)+130;throw new Error("not digits: "+e+t)},e}(),Ey=function(){function e(){}return e.prototype.getEncodingMode=function(){return 5},e.prototype.encode=function(e){var t=new Yh;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();if(t.append(r),e.pos++,My.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}var n=t.length()-1,i=e.getCodewordCount()+n+1;e.updateSymbolInfo(i);var o=e.getSymbolInfo().getDataCapacity()-i>0;if(e.hasMoreCharacters()||o)if(n<=249)t.setCharAt(0,qh.getCharAt(n));else{if(!(n<=1555))throw new Error("Message length not in valid ranges: "+n);t.setCharAt(0,qh.getCharAt(Math.floor(n/250)+249)),t.insert(1,qh.getCharAt(n%250))}var a=0;for(r=t.length();a<r;a++)e.writeCodeword(this.randomize255State(t.charAt(a).charCodeAt(0),e.getCodewordCount()+1))},e.prototype.randomize255State=function(e,t){var r=e+(149*t%255+1);return r<=255?r:r-256},e}(),_y=function(){function e(){}return e.prototype.getEncodingMode=function(){return 1},e.prototype.encodeMaximal=function(e){for(var t=new Yh,r=0,n=e.pos,i=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,t),t.length()%3===0&&(n=e.pos,i=t.length())}if(i!==t.length()){var a=Math.floor(t.length()/3*2),s=Math.floor(e.getCodewordCount()+a+1);e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s,l=Math.floor(t.length()%3);(2===l&&2!==c||1===l&&(r>3||1!==c))&&(e.pos=n)}t.length()>0&&e.writeCodeword(230),this.handleEOD(e,t)},e.prototype.encode=function(e){for(var t=new Yh;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var n=this.encodeChar(r,t),i=2*Math.floor(t.length()/3),o=e.getCodewordCount()+i;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var s=new Yh;for(t.length()%3===2&&2!==a&&(n=this.backtrackOneCharacter(e,t,s,n));t.length()%3===1&&(n>3||1!==a);)n=this.backtrackOneCharacter(e,t,s,n);break}if(t.length()%3===0)if(My.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},e.prototype.backtrackOneCharacter=function(e,t,r,n){var i=t.length(),o=t.toString().substring(0,i-n);t.setLengthToZero(),t.append(o),e.pos--;var a=e.getCurrentChar();return n=this.encodeChar(a,r),e.resetSymbolInfo(),n},e.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},e.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),n=t.length()%3,i=e.getCodewordCount()+r;e.updateSymbolInfo(i);var o=e.getSymbolInfo().getDataCapacity()-i;if(2===n){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254)}else if(1===o&&1===n){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254),e.pos--}else{if(0!==n)throw new Error("Unexpected case. Please report!");for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(254)}e.signalEncoderChange(0)},e.prototype.encodeChar=function(e,t){if(e===" ".charCodeAt(0))return t.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return t.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return t.append(e-65+14),1;if(e<" ".charCodeAt(0))return t.append(0),t.append(e),2;if(e<="/".charCodeAt(0))return t.append(1),t.append(e-33),2;if(e<="@".charCodeAt(0))return t.append(1),t.append(e-58+15),2;if(e<="_".charCodeAt(0))return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1\x1e");var r=2;return r+=this.encodeChar(e-128,t)},e.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,n=t%256,i=new Yh;return i.append(r),i.append(n),i.toString()},e}(),Sy=function(){function e(){}return e.prototype.getEncodingMode=function(){return 4},e.prototype.encode=function(e){for(var t=new Yh;e.hasMoreCharacters();){var r=e.getCurrentChar();if(this.encodeChar(r,t),e.pos++,t.length()>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(4);if(t.setLengthToZero(),t.append(n),My.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}}t.append(qh.getCharAt(31)),this.handleEOD(e,t)},e.prototype.handleEOD=function(e,t){try{var r=t.length();if(0===r)return;if(1===r){e.updateSymbolInfo();var n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>n&&(e.updateSymbolInfo(e.getCodewordCount()+1),n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=n&&n<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,a=this.encodeToCodewords(t.toString()),s=!e.hasMoreCharacters()&&o<=2;if(o<=2)e.updateSymbolInfo(e.getCodewordCount()+o),(n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount())>=3&&(s=!1,e.updateSymbolInfo(e.getCodewordCount()+a.length));s?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(a)}finally{e.signalEncoderChange(0)}},e.prototype.encodeChar=function(e,t){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?t.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?t.append(qh.getCharAt(e-64)):My.illegalCharacter(qh.getCharAt(e))},e.prototype.encodeToCodewords=function(e){var t=e.length;if(0===t)throw new Error("StringBuilder must not be empty");var r=(e.charAt(0).charCodeAt(0)<<18)+((t>=2?e.charAt(1).charCodeAt(0):0)<<12)+((t>=3?e.charAt(2).charCodeAt(0):0)<<6)+(t>=4?e.charAt(3).charCodeAt(0):0),n=r>>16&255,i=r>>8&255,o=255&r,a=new Yh;return a.append(n),t>=2&&a.append(i),t>=3&&a.append(o),a.toString()},e}(),Cy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ay=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ty=function(){function e(e,t,r,n,i,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=n,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=a,this.rsBlockError=s}return e.lookup=function(e,t,r,n,i){var o,a;void 0===t&&(t=0),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!0);try{for(var s=Ay(ky),c=s.next();!c.done;c=s.next()){var l=c.value;if((1!==t||!l.rectangular)&&((2!==t||l.rectangular)&&(null==r||!(l.getSymbolWidth()<r.getWidth()||l.getSymbolHeight()<r.getHeight()))&&(null==n||!(l.getSymbolWidth()>n.getWidth()||l.getSymbolHeight()>n.getHeight()))&&e<=l.dataCapacity))return l}}catch(u){o={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},e}();const Iy=Ty;var xy=function(e){function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return Cy(t,e),t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(e){return e<=8?156:155},t}(Ty),ky=[new Ty(!1,3,5,8,8,1),new Ty(!1,5,7,10,10,1),new Ty(!0,5,7,16,6,1),new Ty(!1,8,10,12,12,1),new Ty(!0,10,11,14,6,2),new Ty(!1,12,12,14,14,1),new Ty(!0,16,14,24,10,1),new Ty(!1,18,14,16,16,1),new Ty(!1,22,18,18,18,1),new Ty(!0,22,18,16,10,2),new Ty(!1,30,20,20,20,1),new Ty(!0,32,24,16,14,2),new Ty(!1,36,24,22,22,1),new Ty(!1,44,28,24,24,1),new Ty(!0,49,28,22,14,2),new Ty(!1,62,36,14,14,4),new Ty(!1,86,42,16,16,4),new Ty(!1,114,48,18,18,4),new Ty(!1,144,56,20,20,4),new Ty(!1,174,68,22,22,4),new Ty(!1,204,84,24,24,4,102,42),new Ty(!1,280,112,14,14,16,140,56),new Ty(!1,368,144,16,16,16,92,36),new Ty(!1,456,192,18,18,16,114,48),new Ty(!1,576,224,20,20,16,144,56),new Ty(!1,696,272,22,22,16,174,68),new Ty(!1,816,336,24,24,16,136,56),new Ty(!1,1050,408,18,18,36,175,68),new Ty(!1,1304,496,20,20,36,163,62),new xy],Ny=function(){function e(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(e){return e.charCodeAt(0)}),r=new Yh,n=0,i=t.length;n<i;n++){var o=String.fromCharCode(255&t[n]);if("?"===o&&"?"!==e.charAt(n))throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new Yh,this.newEncoding=-1}return e.prototype.setSymbolShape=function(e){this.shape=e},e.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(e){this.codewords.append(e)},e.prototype.writeCodeword=function(e){this.codewords.append(e)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(e){this.newEncoding=e},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(e){void 0===e&&(e=this.getCodewordCount()),(null==this.symbolInfo||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Iy.lookup(e,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),Oy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ry=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oy(t,e),t.prototype.getEncodingMode=function(){return 3},t.prototype.encode=function(e){for(var t=new Yh;e.hasMoreCharacters();){var r=e.getCurrentChar();if(e.pos++,this.encodeChar(r,t),t.length()%3===0)if(this.writeNextTriplet(e,t),My.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},t.prototype.encodeChar=function(e,t){switch(e){case 13:t.append(0);break;case"*".charCodeAt(0):t.append(1);break;case">".charCodeAt(0):t.append(2);break;case" ".charCodeAt(0):t.append(3);break;default:e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?t.append(e-48+4):e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?t.append(e-65+14):My.illegalCharacter(qh.getCharAt(e))}return 1},t.prototype.handleEOD=function(e,t){e.updateSymbolInfo();var r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),n=t.length();e.pos-=n,(e.getRemainingCharacters()>1||r>1||e.getRemainingCharacters()!==r)&&e.writeCodeword(254),e.getNewEncoding()<0&&e.signalEncoderChange(0)},t}(_y),Dy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Py=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dy(t,e),t.prototype.getEncodingMode=function(){return 2},t.prototype.encodeChar=function(e,t){if(e===" ".charCodeAt(0))return t.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return t.append(e-48+4),1;if(e>="a".charCodeAt(0)&&e<="z".charCodeAt(0))return t.append(e-97+14),1;if(e<" ".charCodeAt(0))return t.append(0),t.append(e),2;if(e<="/".charCodeAt(0))return t.append(1),t.append(e-33),2;if(e<="@".charCodeAt(0))return t.append(1),t.append(e-58+15),2;if(e>="[".charCodeAt(0)&&e<="_".charCodeAt(0))return t.append(1),t.append(e-91+22),2;if(e==="`".charCodeAt(0))return t.append(2),t.append(0),2;if(e<="Z".charCodeAt(0))return t.append(2),t.append(e-65+1),2;if(e<=127)return t.append(2),t.append(e-123+27),2;t.append("1\x1e");var r=2;return r+=this.encodeChar(e-128,t)},t}(_y);const My=function(){function e(){}return e.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},e.encodeHighLevel=function(e,t,r,n,i){void 0===t&&(t=0),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1);var o=new _y,a=[new by,o,new Py,new Ry,new Sy,new Ey],s=new Ny(e);s.setSymbolShape(t),s.setSizeConstraints(r,n),e.startsWith(gy)&&e.endsWith(vy)?(s.writeCodeword(236),s.setSkipAtEnd(2),s.pos+=7):e.startsWith(my)&&e.endsWith(vy)&&(s.writeCodeword(237),s.setSkipAtEnd(2),s.pos+=7);var c=0;for(i&&(o.encodeMaximal(s),c=s.getNewEncoding(),s.resetEncoderSignal());s.hasMoreCharacters();)a[c].encode(s),s.getNewEncoding()>=0&&(c=s.getNewEncoding(),s.resetEncoderSignal());var l=s.getCodewordCount();s.updateSymbolInfo();var u=s.getSymbolInfo().getDataCapacity();l<u&&0!==c&&5!==c&&4!==c&&s.writeCodeword("\xfe");var h=s.getCodewords();for(h.length()<u&&h.append(129);h.length()<u;)h.append(this.randomize253State(h.length()+1));return s.getCodewords().toString()},e.lookAheadTest=function(e,t,r){var n=this.lookAheadTestIntern(e,t,r);if(3===r&&3===n){for(var i=Math.min(t+3,e.length),o=t;o<i;o++)if(!this.isNativeX12(e.charCodeAt(o)))return 0}else if(4===r&&4===n)for(i=Math.min(t+4,e.length),o=t;o<i;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return 0;return n},e.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var n;0===r?n=[0,1,1,1,1,1.25]:(n=[1,2,2,2,2,2.25])[r]=0;for(var i=0,o=new Uint8Array(6),a=[];;){if(t+i===e.length){Rh.fill(o,0),Rh.fill(a,0);var s=this.findMinimums(n,a,Ph.MAX_VALUE,o),c=this.getMinimumCount(o);if(a[0]===s)return 0;if(1===c){if(o[5]>0)return 5;if(o[4]>0)return 4;if(o[2]>0)return 2;if(o[3]>0)return 3}return 1}var l=e.charCodeAt(t+i);if(i++,this.isDigit(l)?n[0]+=.5:this.isExtendedASCII(l)?(n[0]=Math.ceil(n[0]),n[0]+=2):(n[0]=Math.ceil(n[0]),n[0]++),this.isNativeC40(l)?n[1]+=2/3:this.isExtendedASCII(l)?n[1]+=8/3:n[1]+=4/3,this.isNativeText(l)?n[2]+=2/3:this.isExtendedASCII(l)?n[2]+=8/3:n[2]+=4/3,this.isNativeX12(l)?n[3]+=2/3:this.isExtendedASCII(l)?n[3]+=13/3:n[3]+=10/3,this.isNativeEDIFACT(l)?n[4]+=3/4:this.isExtendedASCII(l)?n[4]+=4.25:n[4]+=3.25,this.isSpecialB256(l)?n[5]+=4:n[5]++,i>=4){if(Rh.fill(o,0),Rh.fill(a,0),this.findMinimums(n,a,Ph.MAX_VALUE,o),a[0]<this.min(a[5],a[1],a[2],a[3],a[4]))return 0;if(a[5]<a[0]||a[5]+1<this.min(a[1],a[2],a[3],a[4]))return 5;if(a[4]+1<this.min(a[5],a[1],a[2],a[3],a[0]))return 4;if(a[2]+1<this.min(a[5],a[1],a[4],a[3],a[0]))return 2;if(a[3]+1<this.min(a[5],a[1],a[4],a[2],a[0]))return 3;if(a[1]+1<this.min(a[0],a[5],a[4],a[2])){if(a[1]<a[3])return 1;if(a[1]===a[3]){for(var u=t+i+1;u<e.length;){var h=e.charCodeAt(u);if(this.isX12TermSep(h))return 3;if(!this.isNativeX12(h))break;u++}return 1}}}}},e.min=function(e,t,r,n,i){var o=Math.min(e,Math.min(t,Math.min(r,n)));return void 0===i?o:Math.min(o,i)},e.findMinimums=function(e,t,r,n){for(var i=0;i<6;i++){var o=t[i]=Math.ceil(e[i]);r>o&&(r=o,Rh.fill(n,0)),r===o&&(n[i]=n[i]+1)}return r},e.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},e.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},e.isExtendedASCII=function(e){return e>=128&&e<=255},e.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},e.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},e.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},e.isX12TermSep=function(e){return 13===e||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},e.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},e.isSpecialB256=function(e){return!1},e.determineConsecutiveDigitCount=function(e,t){void 0===t&&(t=0);for(var r=e.length,n=t;n<r&&this.isDigit(e.charCodeAt(n));)n++;return n-t},e.illegalCharacter=function(e){var t=Ph.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},e}();var Ly,Fy=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},By=function(){function e(e){this.charset=e,this.name=e.name}return e.prototype.canEncode=function(e){try{return null!=Kh.encode(e,this.charset)}catch(t){return!1}},e}(),jy=function(){function e(e,t,r){var n,i,o,a,s,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(e){return new By(ay.forName(e))}),this.encoders=[];var l=[];l.push(new By(sy.ISO_8859_1));for(var u=null!=t&&t.name.startsWith("UTF"),h=0;h<e.length;h++){var f=!1;try{for(var d=(n=void 0,Fy(l)),p=d.next();!p.done;p=d.next()){var g=p.value,m=e.charAt(h);if(m.charCodeAt(0)===r||g.canEncode(m)){f=!0;break}}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}if(!f)try{for(var v=(o=void 0,Fy(this.ENCODERS)),y=v.next();!y.done;y=v.next()){if((g=y.value).canEncode(e.charAt(h))){l.push(g),f=!0;break}}}catch(C){o={error:C}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}f||(u=!0)}if(1!==l.length||u){this.encoders=[];var w=0;try{for(var b=Fy(l),E=b.next();!E.done;E=b.next()){g=E.value;this.encoders[w++]=g}}catch(A){s={error:A}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}}else this.encoders=[l[0]];var _=-1;if(null!=t)for(h=0;h<this.encoders.length;h++)if(null!=this.encoders[h]&&t.name===this.encoders[h].name){_=h;break}this.priorityEncoderIndex=_}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},e.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},e.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Kh.encode(qh.getCharAt(e),this.encoders[t].name)},e}(),Uy=function(){function e(e,t,r){this.fnc1=r;var n=new jy(e,t,r);if(1===n.length())for(var i=0;i<this.bytes.length;i++){var o=e.charAt(i).charCodeAt(0);this.bytes[i]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,n,r)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},e.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},e.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new Yh,n=e;n<t;n++){if(this.isECI(n))throw new Error("value at "+n+" is not a character but an ECI");r.append(this.charAt(n))}return r.toString()},e.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},e.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return 1e3===this.bytes[e]},e.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},e.prototype.addEdge=function(e,t,r){(null==e[t][r.encoderIndex]||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},e.prototype.addEdges=function(e,t,r,n,i,o){var a=e.charAt(n).charCodeAt(0),s=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(a===o||t.canEncode(a,t.getPriorityEncoderIndex()))&&(c=(s=t.getPriorityEncoderIndex())+1);for(var l=s;l<c;l++)(a===o||t.canEncode(a,l))&&this.addEdge(r,n+1,new Vy(a,t,l,i,o))},e.prototype.encodeMinimally=function(e,t,r){var n=e.length,i=new(Vy[n+1][t.length()]);this.addEdges(e,t,i,0,null,r);for(var o=1;o<=n;o++){for(var a=0;a<t.length();a++)null!=i[o][a]&&o<n&&this.addEdges(e,t,i,o,i[o][a],r);for(a=0;a<t.length();a++)i[o-1][a]=null}var s=-1,c=Ph.MAX_VALUE;for(a=0;a<t.length();a++)if(null!=i[n][a]){var l=i[n][a];l.cachedTotalSize<c&&(c=l.cachedTotalSize,s=a)}if(s<0)throw new Error('Failed to encode "'+e+'"');for(var u=[],h=i[n][s];null!=h;){if(h.isFNC1())u.unshift(1e3);else{var f=t.encode(h.c,h.encoderIndex);for(o=f.length-1;o>=0;o--)u.unshift(255&f[o])}(null===h.previous?0:h.previous.encoderIndex)!==h.encoderIndex&&u.unshift(256+t.getECIValue(h.encoderIndex)),h=h.previous}var d=[];for(o=0;o<d.length;o++)d[o]=u[o];return d},e}(),Vy=function(){function e(e,t,r,n,i){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=n,this.fnc1=i,this.c=e===i?1e3:e;var o=this.isFNC1()?1:t.encode(e,r).length;(null===n?0:n.encoderIndex)!==r&&(o+=3),null!=n&&(o+=n.cachedTotalSize),this.cachedTotalSize=o}return e.prototype.isFNC1=function(){return 1e3===this.c},e}(),zy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hy=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wy=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Gy=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wy(arguments[t]));return e};!function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"}(Ly||(Ly={}));var Xy=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ky=function(){function e(){}return e.isExtendedASCII=function(e,t){return e!==t&&e>=128&&e<=255},e.isInC40Shift1Set=function(e){return e<=31},e.isInC40Shift2Set=function(e,t){var r,n;try{for(var i=Hy(Xy),o=i.next();!o.done;o=i.next()){if(o.value.charCodeAt(0)===e)return!0}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e===t},e.isInTextShift1Set=function(e){return this.isInC40Shift1Set(e)},e.isInTextShift2Set=function(e,t){return this.isInC40Shift2Set(e,t)},e.encodeHighLevel=function(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=-1),void 0===n&&(n=0);var i=0;return e.startsWith(gy)&&e.endsWith(vy)?(i=5,e=e.substring(7,e.length-2)):e.startsWith(my)&&e.endsWith(vy)&&(i=6,e=e.substring(7,e.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,Gy(this.encode(e,t,r,n,i)))))},e.encode=function(e,t,r,n,i){return this.encodeMinimally(new Zy(e,t,r,n,i)).getBytes()},e.addEdge=function(e,t){var r=t.fromPosition+t.characterLength;(null===e[r][t.getEndMode()]||e[r][t.getEndMode()].cachedTotalSize>t.cachedTotalSize)&&(e[r][t.getEndMode()]=t)},e.getNumberOfC40Words=function(t,r,n,i){for(var o=0,a=r;a<t.length();a++){if(t.isECI(a))return i[0]=0,0;var s=t.charAt(a);if(n&&My.isNativeC40(s)||!n&&My.isNativeText(s))o++;else if(e.isExtendedASCII(s,t.getFNC1Character())){var c=255&s;c>=128&&(n&&My.isNativeC40(c-128)||!n&&My.isNativeText(c-128))?o+=3:o+=4}else o+=2;if(o%3===0||(o-2)%3===0&&a+1===t.length())return i[0]=a-r+1,Math.ceil(o/3)}return i[0]=0,0},e.addEdges=function(t,r,n,i){var o,a;if(t.isECI(n))this.addEdge(r,new Yy(t,Ly.ASCII,n,1,i));else{var s,c=t.charAt(n);if(null===i||i.getEndMode()!==Ly.EDF){My.isDigit(c)&&t.haveNCharacters(n,2)&&My.isDigit(t.charAt(n+1))?this.addEdge(r,new Yy(t,Ly.ASCII,n,2,i)):this.addEdge(r,new Yy(t,Ly.ASCII,n,1,i));var l=[Ly.C40,Ly.TEXT];try{for(var u=Hy(l),h=u.next();!h.done;h=u.next()){var f=h.value,d=[];e.getNumberOfC40Words(t,n,f===Ly.C40,d)>0&&this.addEdge(r,new Yy(t,f,n,d[0],i))}}catch(g){o={error:g}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}t.haveNCharacters(n,3)&&My.isNativeX12(t.charAt(n))&&My.isNativeX12(t.charAt(n+1))&&My.isNativeX12(t.charAt(n+2))&&this.addEdge(r,new Yy(t,Ly.X12,n,3,i)),this.addEdge(r,new Yy(t,Ly.B256,n,1,i))}for(s=0;s<3;s++){var p=n+s;if(!t.haveNCharacters(p,1)||!My.isNativeEDIFACT(t.charAt(p)))break;this.addEdge(r,new Yy(t,Ly.EDF,n,s+1,i))}3===s&&t.haveNCharacters(n,4)&&My.isNativeEDIFACT(t.charAt(n+3))&&this.addEdge(r,new Yy(t,Ly.EDF,n,4,i))}},e.encodeMinimally=function(e){var t=e.length(),r=Array(t+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(e,r,0,null);for(var n=1;n<=t;n++){for(var i=0;i<6;i++)null!==r[n][i]&&n<t&&this.addEdges(e,r,n,r[n][i]);for(i=0;i<6;i++)r[n-1][i]=null}var o=-1,a=Ph.MAX_VALUE;for(i=0;i<6;i++)if(null!==r[t][i]){var s=r[t][i],c=i>=1&&i<=3?s.cachedTotalSize+1:s.cachedTotalSize;c<a&&(a=c,o=i)}if(o<0)throw new Error('Failed to encode "'+e+'"');return new qy(r[t][o])},e}(),qy=function(){function e(e){var t=e.input,r=0,n=[],i=[],o=[];e.mode!==Ly.C40&&e.mode!==Ly.TEXT&&e.mode!==Ly.X12||e.getEndMode()===Ly.ASCII||(r+=this.prepend(Yy.getBytes(254),n));for(var a=e;null!==a;)r+=this.prepend(a.getDataBytes(),n),null!==a.previous&&a.getPreviousStartMode()===a.getMode()||(a.getMode()===Ly.B256&&(r<=249?(n.unshift(r),r++):(n.unshift(r%250),n.unshift(r/250+249),r+=2),i.push(n.length),o.push(r)),this.prepend(a.getLatchBytes(),n),r=0),a=a.previous;5===t.getMacroId()?r+=this.prepend(Yy.getBytes(236),n):6===t.getMacroId()&&(r+=this.prepend(Yy.getBytes(237),n)),t.getFNC1Character()>0&&(r+=this.prepend(Yy.getBytes(232),n));for(var s=0;s<i.length;s++)this.applyRandomPattern(n,n.length-i[s],o[s]);var c=e.getMinSymbolSize(n.length);for(n.length<c&&n.push(129);n.length<c;)n.push(this.randomize253State(n.length+1));this.bytes=new Uint8Array(n.length);for(s=0;s<this.bytes.length;s++)this.bytes[s]=n[s]}return e.prototype.prepend=function(e,t){for(var r=e.length-1;r>=0;r--)t.unshift(e[r]);return e.length},e.prototype.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},e.prototype.applyRandomPattern=function(e,t,r){for(var n=0;n<r;n++){var i=t+n,o=(255&e[i])+(149*(i+1)%255+1);e[i]=o<=255?o:o-256}},e.prototype.getBytes=function(){return this.bytes},e}(),Yy=function(){function e(e,t,r,n,i){if(this.input=e,this.mode=t,this.fromPosition=r,this.characterLength=n,this.previous=i,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(r+n<=e.length()))throw new Error("Invalid edge");var o=null!==i?i.cachedTotalSize:0,a=this.getPreviousMode();switch(t){case Ly.ASCII:o++,(e.isECI(r)||Ky.isExtendedASCII(e.charAt(r),e.getFNC1Character()))&&o++,a!==Ly.C40&&a!==Ly.TEXT&&a!==Ly.X12||o++;break;case Ly.B256:o++,(a!==Ly.B256||250===this.getB256Size())&&o++,a===Ly.ASCII?o++:a!==Ly.C40&&a!==Ly.TEXT&&a!==Ly.X12||(o+=2);break;case Ly.C40:case Ly.TEXT:case Ly.X12:if(t===Ly.X12)o+=2;else{o+=2*Ky.getNumberOfC40Words(e,r,t===Ly.C40,[])}a===Ly.ASCII||a===Ly.B256?o++:a===t||a!==Ly.C40&&a!==Ly.TEXT&&a!==Ly.X12||(o+=2);break;case Ly.EDF:o+=3,a===Ly.ASCII||a===Ly.B256?o++:a!==Ly.C40&&a!==Ly.TEXT&&a!==Ly.X12||(o+=2)}this.cachedTotalSize=o}return e.prototype.getB256Size=function(){for(var e=0,t=this;null!==t&&t.mode===Ly.B256&&e<=250;)e++,t=t.previous;return e},e.prototype.getPreviousStartMode=function(){return null===this.previous?Ly.ASCII:this.previous.mode},e.prototype.getPreviousMode=function(){return null===this.previous?Ly.ASCII:this.previous.getEndMode()},e.prototype.getEndMode=function(){if(this.mode===Ly.EDF){if(this.characterLength<4)return Ly.ASCII;if((e=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+e)<=2-e)return Ly.ASCII}if(this.mode===Ly.C40||this.mode===Ly.TEXT||this.mode===Ly.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return Ly.ASCII;var e;if(1===(e=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return Ly.ASCII}return this.mode},e.prototype.getMode=function(){return this.mode},e.prototype.getLastASCII=function(){var e=this.input.length(),t=this.fromPosition+this.characterLength;return e-t>4||t>=e?0:e-t===1?Ky.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?0:1:e-t===2?Ky.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())||Ky.isExtendedASCII(this.input.charAt(t+1),this.input.getFNC1Character())?0:My.isDigit(this.input.charAt(t))&&My.isDigit(this.input.charAt(t+1))?1:2:e-t===3?My.isDigit(this.input.charAt(t))&&My.isDigit(this.input.charAt(t+1))&&!Ky.isExtendedASCII(this.input.charAt(t+2),this.input.getFNC1Character())||My.isDigit(this.input.charAt(t+1))&&My.isDigit(this.input.charAt(t+2))&&!Ky.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?2:0:My.isDigit(this.input.charAt(t))&&My.isDigit(this.input.charAt(t+1))&&My.isDigit(this.input.charAt(t+2))&&My.isDigit(this.input.charAt(t+3))?2:0},e.prototype.getMinSymbolSize=function(e){var t,r,n,i,o,a;switch(this.input.getShapeHint()){case 1:try{for(var s=Hy(this.squareCodewordCapacities),c=s.next();!c.done;c=s.next()){if((d=c.value)>=e)return d}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}break;case 2:try{for(var l=Hy(this.rectangularCodewordCapacities),u=l.next();!u.done;u=l.next()){if((d=u.value)>=e)return d}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}try{for(var h=Hy(this.allCodewordCapacities),f=h.next();!f.done;f=h.next()){var d;if((d=f.value)>=e)return d}}catch(m){o={error:m}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},e.prototype.getCodewordsRemaining=function(e){return this.getMinSymbolSize(e)-e},e.getBytes=function(e,t){var r=new Uint8Array(t?2:1);return r[0]=e,t&&(r[1]=t),r},e.prototype.setC40Word=function(e,t,r,n,i){var o=1600*(255&r)+40*(255&n)+(255&i)+1;e[t]=o/256,e[t+1]=o%256},e.prototype.getX12Value=function(e){return 13===e?0:42===e?1:62===e?2:32===e?3:e>=48&&e<=57?e-44:e>=65&&e<=90?e-51:e},e.prototype.getX12Words=function(){if(this.characterLength%3!==0)throw new Error("X12 words must be a multiple of 3");for(var e=new Uint8Array(this.characterLength/3*2),t=0;t<e.length;t+=2)this.setC40Word(e,t,this.getX12Value(this.input.charAt(this.fromPosition+t/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+2)));return e},e.prototype.getShiftValue=function(e,t,r){return t&&Ky.isInC40Shift1Set(e)||!t&&Ky.isInTextShift1Set(e)?0:t&&Ky.isInC40Shift2Set(e,r)||!t&&Ky.isInTextShift2Set(e,r)?1:2},e.prototype.getC40Value=function(e,t,r,n){if(r===n){if(2!==t)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return e?r<=31?r:32===r?3:r<=47?r-33:r<=57?r-44:r<=64?r-43:r<=90?r-51:r<=95?r-69:r<=127?r-96:r:0===r?0:0===t&&r<=3?r-1:1===t&&r<=31?r:32===r?3:r>=33&&r<=47?r-33:r>=48&&r<=57?r-44:r>=58&&r<=64?r-43:r>=65&&r<=90?r-64:r>=91&&r<=95?r-69:96===r?0:r>=97&&r<=122?r-83:r>=123&&r<=127?r-96:r},e.prototype.getC40Words=function(e,t){for(var r=[],n=0;n<this.characterLength;n++){var i=this.input.charAt(this.fromPosition+n);if(e&&My.isNativeC40(i)||!e&&My.isNativeText(i))r.push(this.getC40Value(e,0,i,t));else if(Ky.isExtendedASCII(i,t)){var o=(255&i)-128;if(e&&My.isNativeC40(o)||!e&&My.isNativeText(o))r.push(1),r.push(30),r.push(this.getC40Value(e,0,o,t));else{r.push(1),r.push(30);a=this.getShiftValue(o,e,t);r.push(a),r.push(this.getC40Value(e,a,o,t))}}else{var a=this.getShiftValue(i,e,t);r.push(a),r.push(this.getC40Value(e,a,i,t))}}if(r.length%3!==0){if((r.length-2)%3!==0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");r.push(0)}var s=new Uint8Array(r.length/3*2),c=0;for(n=0;n<r.length;n+=3)this.setC40Word(s,c,255&r[n],255&r[n+1],255&r[n+2]),c+=2;return s},e.prototype.getEDFBytes=function(){for(var e=Math.ceil(this.characterLength/4),t=new Uint8Array(3*e),r=this.fromPosition,n=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),i=0;i<e;i+=3){for(var o=[],a=0;a<4;a++)o[a]=r<=n?63&this.input.charAt(r++):r===n+1?31:0;var s=o[0]<<18;s|=o[1]<<12,s|=o[2]<<6,s|=o[3],t[i]=s>>16&255,t[i+1]=s>>8&255,t[i+2]=255&s}return t},e.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case Ly.ASCII:case Ly.B256:switch(this.mode){case Ly.B256:return e.getBytes(231);case Ly.C40:return e.getBytes(230);case Ly.TEXT:return e.getBytes(239);case Ly.X12:return e.getBytes(238);case Ly.EDF:return e.getBytes(240)}break;case Ly.C40:case Ly.TEXT:case Ly.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case Ly.ASCII:return e.getBytes(254);case Ly.B256:return e.getBytes(254,231);case Ly.C40:return e.getBytes(254,230);case Ly.TEXT:return e.getBytes(254,239);case Ly.X12:return e.getBytes(254,238);case Ly.EDF:return e.getBytes(254,240)}break;case Ly.EDF:if(this.mode!==Ly.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},e.prototype.getDataBytes=function(){switch(this.mode){case Ly.ASCII:return this.input.isECI(this.fromPosition)?e.getBytes(241,this.input.getECIValue(this.fromPosition)+1):Ky.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?e.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?e.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?e.getBytes(232):e.getBytes(this.input.charAt(this.fromPosition)+1);case Ly.B256:return e.getBytes(this.input.charAt(this.fromPosition));case Ly.C40:return this.getC40Words(!0,this.input.getFNC1Character());case Ly.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case Ly.X12:return this.getX12Words();case Ly.EDF:return this.getEDFBytes()}},e}(),Zy=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n)||this;return a.shape=i,a.macroId=o,a}return zy(t,e),t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t}(Uy);!function(){function e(){}e.prototype.encode=function(e,t,r,n,i){if(void 0===i&&(i=null),""===e.trim())throw new Error("Found empty contents");if(t!==bf.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+t);if(r<0||n<0)throw new Error("Requested dimensions can't be negative: "+r+"x"+n);var o,a=0,s=null,c=null;if(null!=i){var l=i.get(jv.DATA_MATRIX_SHAPE);null!=l&&(a=l);var u=i.get(jv.MIN_SIZE);null!=u&&(s=u);var h=i.get(jv.MAX_SIZE);null!=h&&(c=h)}if(null!=i&&i.has(jv.DATA_MATRIX_COMPACT)&&Boolean(i.get(jv.DATA_MATRIX_COMPACT).toString())){var f=i.has(jv.GS1_FORMAT)&&Boolean(i.get(jv.GS1_FORMAT).toString()),d=null;i.has(jv.CHARACTER_SET)&&(d=ay.forName(i.get(jv.CHARACTER_SET).toString())),o=Ky.encodeHighLevel(e,d,f?29:-1,a)}else{var p=null!=i&&i.has(jv.FORCE_C40)&&Boolean(i.get(jv.FORCE_C40).toString());o=My.encodeHighLevel(e,a,s,c,p)}var g=Iy.lookup(o.length,a,s,c,!0),m=wy.encodeECC200(o,g),v=new cy(m,g.getSymbolDataWidth(),g.getSymbolDataHeight());return v.place(),this.encodeLowLevel(v,g,r,n)},e.prototype.encodeLowLevel=function(e,t,r,n){for(var i=t.getSymbolDataWidth(),o=t.getSymbolDataHeight(),a=new Gv(t.getSymbolWidth(),t.getSymbolHeight()),s=0,c=0;c<o;c++){var l=void 0;if(c%t.matrixHeight===0){l=0;for(var u=0;u<t.getSymbolWidth();u++)a.setBoolean(l,s,u%2===0),l++;s++}l=0;for(u=0;u<i;u++)u%t.matrixWidth===0&&(a.setBoolean(l,s,!0),l++),a.setBoolean(l,s,e.getBit(u,c)),l++,u%t.matrixWidth===t.matrixWidth-1&&(a.setBoolean(l,s,c%2===0),l++);if(s++,c%t.matrixHeight===t.matrixHeight-1){l=0;for(u=0;u<t.getSymbolWidth();u++)a.setBoolean(l,s,!0),l++;s++}}return this.convertByteMatrixToBitMatrix(a,r,n)},e.prototype.convertByteMatrixToBitMatrix=function(e,t,r){var n,i=e.getWidth(),o=e.getHeight(),a=Math.max(t,i),s=Math.max(r,o),c=Math.min(a/i,s/o),l=(a-i*c)/2,u=(s-o*c)/2;r<o||t<i?(l=0,u=0,n=new $h(i,o)):n=new $h(t,r),n.clear();for(var h=0,f=u;h<o;h++,f+=c)for(var d=0,p=l;d<i;d++,p+=c)1===e.get(d,h)&&n.setRegion(p,f,c,c);return n}}();const $y=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(e){this.compact=e},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(e){this.size=e},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(e){this.layers=e},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(e){this.codeWords=e},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(e){this.matrix=e},e}();var Qy=function(){function e(){}return e.singletonList=function(e){return[e]},e.min=function(e,t){return e.sort(t)[0]},e}();const Jy=Qy;const ew=function(){function e(e){this.previous=e}return e.prototype.getPrevious=function(){return this.previous},e}();var tw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const rw=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.value=r,i.bitCount=n,i}return tw(t,e),t.prototype.appendTo=function(e,t){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,r){return new t(this,e,r)},t.prototype.addBinaryShift=function(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,r)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Ph.toBinaryString(e|1<<this.bitCount).substring(1)+">"},t}(ew);var nw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const iw=function(e){function t(t,r,n){var i=e.call(this,t,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=n,i}return nw(t,e),t.prototype.appendTo=function(e,t){for(var r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===r?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)},t.prototype.addBinaryShift=function(e,r){return new t(this,e,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(rw);function ow(e,t,r){return new rw(e,t,r)}var aw=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sw=new rw(null,0,0),cw=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],lw=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var uw=function(e){var t,r;try{for(var n=lw(e),i=n.next();!i.done;i=n.next()){var o=i.value;Rh.fill(o,-1)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e[0][4]=0,e[1][4]=0,e[1][0]=28,e[3][4]=0,e[2][4]=0,e[2][0]=15,e}(Rh.createInt32Array(6,6)),hw=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fw=function(){function e(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,r){var n=this.bitCount,i=this.token;if(t!==this.mode){var o=cw[this.mode][t];i=ow(i,65535&o,o>>16),n+=o>>16}var a=2===t?4:5;return new e(i=ow(i,r,a),t,0,n+a)},e.prototype.shiftAndAppend=function(t,r){var n=this.token,i=2===this.mode?4:5;return n=ow(n,uw[this.mode][t],i),new e(n=ow(n,r,5),this.mode,0,this.bitCount+i+5)},e.prototype.addBinaryShiftChar=function(t){var r=this.token,n=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=cw[n][0];r=ow(r,65535&o,o>>16),i+=o>>16,n=0}var a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,s=new e(r,n,this.binaryShiftByteCount+1,i+a);return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(t+1)),s},e.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var r=this.token;return new e(r=function(e,t,r){return new iw(e,t,r)}(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var r=this.bitCount+(cw[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount},e.prototype.toBitArray=function(e){for(var t,r,n=[],i=this.endBinaryShift(e.length).token;null!==i;i=i.getPrevious())n.unshift(i);var o=new Lh;try{for(var a=hw(n),s=a.next();!s.done;s=a.next()){s.value.appendTo(o,e)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},e.prototype.toString=function(){return qh.format("%s bits=%d bytes=%d",aw[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(sw,0,0,0),e}();const dw=fw;var pw=function(e){var t=qh.getCharCode(" "),r=qh.getCharCode("."),n=qh.getCharCode(",");e[0][t]=1;for(var i=qh.getCharCode("Z"),o=qh.getCharCode("A"),a=o;a<=i;a++)e[0][a]=a-o+2;e[1][t]=1;var s=qh.getCharCode("z"),c=qh.getCharCode("a");for(a=c;a<=s;a++)e[1][a]=a-c+2;e[2][t]=1;var l=qh.getCharCode("9"),u=qh.getCharCode("0");for(a=u;a<=l;a++)e[2][a]=a-u+2;e[2][n]=12,e[2][r]=13;for(var h=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],f=0;f<h.length;f++)e[3][qh.getCharCode(h[f])]=f;var d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(f=0;f<d.length;f++)qh.getCharCode(d[f])>0&&(e[4][qh.getCharCode(d[f])]=f);return e}(Rh.createInt32Array(5,256)),gw=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mw=function(){function e(e){this.text=e}return e.prototype.encode=function(){for(var t=qh.getCharCode(" "),r=qh.getCharCode("\n"),n=Jy.singletonList(dw.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case qh.getCharCode("\r"):o=a===r?2:0;break;case qh.getCharCode("."):o=a===t?3:0;break;case qh.getCharCode(","):o=a===t?4:0;break;case qh.getCharCode(":"):o=a===t?5:0;break;default:o=0}o>0?(n=e.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}return Jy.min(n,function(e,t){return e.getBitCount()-t.getBitCount()}).toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,r){var n,i,o=[];try{for(var a=gw(t),s=a.next();!s.done;s=a.next()){var c=s.value;this.updateStateForChar(c,r,o)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return e.simplifyStates(o)},e.prototype.updateStateForChar=function(e,t,r){for(var n=255&this.text[t],i=pw[e.getMode()][n]>0,o=null,a=0;a<=4;a++){var s=pw[a][n];if(s>0){if(null==o&&(o=e.endBinaryShift(t)),!i||a===e.getMode()||2===a){var c=o.latchAndAppend(a,s);r.push(c)}if(!i&&uw[e.getMode()][a]>=0){var l=o.shiftAndAppend(a,s);r.push(l)}}}if(e.getBinaryShiftByteCount()>0||0===pw[e.getMode()][n]){var u=e.addBinaryShiftChar(t);r.push(u)}},e.updateStateListForPair=function(e,t,r){var n,i,o=[];try{for(var a=gw(e),s=a.next();!s.done;s=a.next()){var c=s.value;this.updateStateForPair(c,t,r,o)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return this.simplifyStates(o)},e.updateStateForPair=function(e,t,r,n){var i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(4,r)),4!==e.getMode()&&n.push(i.shiftAndAppend(4,r)),3===r||4===r){var o=i.latchAndAppend(2,16-r).latchAndAppend(2,1);n.push(o)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(a)}},e.simplifyStates=function(e){var t,r,n,i,o=[];try{for(var a=gw(e),s=a.next();!s.done;s=a.next()){var c=s.value,l=!0,u=function(e){if(e.isBetterThanOrEqualTo(c))return l=!1,"break";c.isBetterThanOrEqualTo(e)&&(o=o.filter(function(t){return t!==e}))};try{for(var h=(n=void 0,gw(o)),f=h.next();!f.done;f=h.next()){if("break"===u(f.value))break}}catch(d){n={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}l&&o.push(c)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},e}();const vw=mw;var yw=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ww=function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,r,n){var i,o,a,s,c,l=new vw(t).encode(),u=Ph.truncDivision(l.getSize()*r,100)+11,h=l.getSize()+u;if(n!==e.DEFAULT_AZTEC_LAYERS){if(i=n<0,(o=Math.abs(n))>(i?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new wh(qh.format("Illegal value %s for layers",n));var f=(a=e.totalBitsInLayer(o,i))-a%(s=e.WORD_SIZE[o]);if((c=e.stuffBits(l,s)).getSize()+u>f)throw new wh("Data to large for user specified layer");if(i&&c.getSize()>64*s)throw new wh("Data to large for user specified layer")}else{s=0,c=null;for(var d=0;;d++){if(d>e.MAX_NB_BITS)throw new wh("Data too large for an Aztec code");if(o=(i=d<=3)?d+1:d,!(h>(a=e.totalBitsInLayer(o,i)))){null!=c&&s===e.WORD_SIZE[o]||(s=e.WORD_SIZE[o],c=e.stuffBits(l,s));f=a-a%s;if(!(i&&c.getSize()>64*s)&&c.getSize()+u<=f)break}}}var p,g=e.generateCheckWords(c,a,s),m=c.getSize()/s,v=e.generateModeMessage(i,o,m),y=(i?11:14)+4*o,w=new Int32Array(y);if(i){p=y;for(d=0;d<w.length;d++)w[d]=d}else{p=y+1+2*Ph.truncDivision(Ph.truncDivision(y,2)-1,15);var b=Ph.truncDivision(y,2),E=Ph.truncDivision(p,2);for(d=0;d<b;d++){var _=d+Ph.truncDivision(d,15);w[b-d-1]=E-_-1,w[b+d]=E+_+1}}for(var S=new $h(p),C=(d=0,0);d<o;d++){for(var A=4*(o-d)+(i?9:12),T=0;T<A;T++)for(var I=2*T,x=0;x<2;x++)g.get(C+I+x)&&S.set(w[2*d+x],w[2*d+T]),g.get(C+2*A+I+x)&&S.set(w[2*d+T],w[y-1-2*d-x]),g.get(C+4*A+I+x)&&S.set(w[y-1-2*d-x],w[y-1-2*d-T]),g.get(C+6*A+I+x)&&S.set(w[y-1-2*d-T],w[2*d+x]);C+=8*A}if(e.drawModeMessage(S,i,p,v),i)e.drawBullsEye(S,Ph.truncDivision(p,2),5);else{e.drawBullsEye(S,Ph.truncDivision(p,2),7);for(d=0,T=0;d<Ph.truncDivision(y,2)-1;d+=15,T+=16)for(x=1&Ph.truncDivision(p,2);x<p;x+=2)S.set(Ph.truncDivision(p,2)-T,x),S.set(Ph.truncDivision(p,2)+T,x),S.set(x,Ph.truncDivision(p,2)-T),S.set(x,Ph.truncDivision(p,2)+T)}var k=new $y;return k.setCompact(i),k.setSize(p),k.setLayers(o),k.setCodeWords(m),k.setMatrix(S),k},e.drawBullsEye=function(e,t,r){for(var n=0;n<r;n+=2)for(var i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},e.generateModeMessage=function(t,r,n){var i=new Lh;return t?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=e.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=e.generateCheckWords(i,40,4)),i},e.drawModeMessage=function(e,t,r,n){var i=Ph.truncDivision(r,2);if(t)for(var o=0;o<7;o++){var a=i-3+o;n.get(o)&&e.set(a,i-5),n.get(o+7)&&e.set(i+5,a),n.get(20-o)&&e.set(a,i+5),n.get(27-o)&&e.set(i-5,a)}else for(o=0;o<10;o++){a=i-5+o+Ph.truncDivision(o,5);n.get(o)&&e.set(a,i-7),n.get(o+10)&&e.set(i+7,a),n.get(29-o)&&e.set(a,i+7),n.get(39-o)&&e.set(i-7,a)}},e.generateCheckWords=function(t,r,n){var i,o,a=t.getSize()/n,s=new Uv(e.getGF(n)),c=Ph.truncDivision(r,n),l=e.bitsToWords(t,n,c);s.encode(l,c-a);var u=r%n,h=new Lh;h.appendBits(0,u);try{for(var f=yw(Array.from(l)),d=f.next();!d.done;d=f.next()){var p=d.value;h.appendBits(p,n)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return h},e.bitsToWords=function(e,t,r){var n,i,o=new Int32Array(r);for(n=0,i=e.getSize()/t;n<i;n++){for(var a=0,s=0;s<t;s++)a|=e.get(n*t+s)?1<<t-s-1:0;o[n]=a}return o},e.getGF=function(e){switch(e){case 4:return Of.AZTEC_PARAM;case 6:return Of.AZTEC_DATA_6;case 8:return Of.AZTEC_DATA_8;case 10:return Of.AZTEC_DATA_10;case 12:return Of.AZTEC_DATA_12;default:throw new wh("Unsupported word size "+e)}},e.stuffBits=function(e,t){for(var r=new Lh,n=e.getSize(),i=(1<<t)-2,o=0;o<n;o+=t){for(var a=0,s=0;s<t;s++)(o+s>=n||e.get(o+s))&&(a|=1<<t-1-s);(a&i)===i?(r.appendBits(a&i,t),o--):0===(a&i)?(r.appendBits(1|a,t),o--):r.appendBits(a,t)}return r},e.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e}();const bw=ww;!function(){function e(){}e.prototype.encode=function(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)},e.prototype.encodeWithHints=function(t,r,n,i,o){var a=sy.ISO_8859_1,s=bw.DEFAULT_EC_PERCENT,c=bw.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(jv.CHARACTER_SET)&&(a=ay.forName(o.get(jv.CHARACTER_SET).toString())),o.has(jv.ERROR_CORRECTION)&&(s=Ph.parseInt(o.get(jv.ERROR_CORRECTION).toString())),o.has(jv.AZTEC_LAYERS)&&(c=Ph.parseInt(o.get(jv.AZTEC_LAYERS).toString()))),e.encodeLayers(t,r,n,i,a,s,c)},e.encodeLayers=function(t,r,n,i,o,a,s){if(r!==bf.AZTEC)throw new wh("Can only encode AZTEC, but got "+r);var c=bw.encode(qh.getBytes(t,o),a,s);return e.renderResult(c,n,i)},e.renderResult=function(e,t,r){var n=e.getMatrix();if(null==n)throw new Mf;for(var i=n.getWidth(),o=n.getHeight(),a=Math.max(t,i),s=Math.max(r,o),c=Math.min(a/i,s/o),l=(a-i*c)/2,u=(s-o*c)/2,h=new $h(a,s),f=0,d=u;f<o;f++,d+=c)for(var p=0,g=l;p<i;p++,g+=c)n.get(p,f)&&h.setRegion(g,d,c,c);return h}}();var Ew=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_w=function(e){function t(r){var n=e.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=t.makeBufferFromCanvasImageData(r),n}return Ew(t,e),t.makeBufferFromCanvasImageData=function(e){var r;try{r=e.getContext("2d",{willReadFrequently:!0})}catch(i){r=e.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var n=r.getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(n.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,t,r){for(var n=new Uint8ClampedArray(t*r),i=0,o=0,a=e.length;i<a;i+=4,o++){var s=void 0;if(0===e[i+3])s=255;else s=306*e[i]+601*e[i+1]+117*e[i+2]+512>>10;n[o]=s}return n},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new wh("Requested row is outside the image: "+e);var r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,r,n,i){return e.prototype.crop.call(this,t,r,n,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new uf(this)},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var n=e*t.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),s=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);r.width=a,r.height=s;var c=r.getContext("2d");if(!c)throw new Error("Could not create a Canvas Context element.");return c.translate(a/2,s/2),c.rotate(n),c.drawImage(this.canvas,i/-2,o/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(cf);function Sw(){return"undefined"!==typeof navigator}function Cw(){return!!(Sw()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}var Aw=function(){return Aw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Aw.apply(this,arguments)},Tw=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},Iw=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xw=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kw={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Nw=function(){function e(e,t,r){void 0===t&&(t=new Map),void 0===r&&(r={}),this.reader=e,this.hints=t,this.options=Aw(Aw({},kw),r)}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(e){this.hints.set(Bh.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),e.addVideoSource=function(e,t){try{e.srcObject=t}catch(r){console.error("got interrupted by new loading request")}},e.mediaStreamSetTorch=function(e,t){return Tw(this,void 0,void 0,function(){return Iw(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},e.mediaStreamIsTorchCompatible=function(t){var r,n,i=t.getVideoTracks();try{for(var o=xw(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(e.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},e.mediaStreamIsTorchCompatibleTrack=function(e){try{return"torch"in e.getCapabilities()}catch(t){return console.error(t),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},e.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},e.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new vh("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new vh("element with id '".concat(e,"' must be an ").concat(t," element"));return r},e.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if("string"===typeof t)return e.getMediaElement(t,"video");if(!t&&"undefined"!==typeof document){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},e.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if("string"===typeof t)return e.getMediaElement(t,"img");if("undefined"===typeof t){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},e.prepareVideoElement=function(t){var r=e.createVideoElement(t);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.createBinaryBitmapFromCanvas=function(e){var t=new _w(e),r=new af(t);return new bh(r)},e.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},e.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},e.createCaptureCanvas=function(t){if(!t)throw new vh("Cannot create a capture canvas without a media element.");if("undefined"===typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var r=document.createElement("canvas"),n=e.getMediaElementDimensions(t),i=n.width,o=n.height;return r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r},e.tryPlayVideo=function(t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:if(null===t||void 0===t?void 0:t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(e.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},e.createCanvasFromMediaElement=function(t){var r=e.createCaptureCanvas(t),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return e.drawImageOnCanvas(n,t),r},e.createBinaryBitmapFromMediaElem=function(t){var r=e.createCanvasFromMediaElement(t);return e.createBinaryBitmapFromCanvas(r)},e.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},e.listVideoInputDevices=function(){return Tw(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s,c,l,u,h;return Iw(this,function(f){switch(f.label){case 0:if(!Sw())throw new Error("Can't enumerate devices, navigator is not present.");if(!Cw())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),t=[];try{for(r=xw(e),n=r.next();!n.done;n=r.next())i=n.value,"videoinput"===(o="video"===i.kind?"videoinput":i.kind)&&(a=i.deviceId||i.id,s=i.label||"Video device ".concat(t.length+1),c=i.groupId,l={deviceId:a,label:s,kind:o,groupId:c},t.push(l))}catch(d){u={error:d}}finally{try{n&&!n.done&&(h=r.return)&&h.call(r)}finally{if(u)throw u.error}}return[2,t]}})})},e.findDeviceById=function(t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:return[4,e.listVideoInputDevices()];case 1:return(r=n.sent())?[2,r.find(function(e){return e.deviceId===t})]:[2]}})})},e.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch(t){e.src=""}e&&e.removeAttribute("src")}},e.releaseAllStreams=function(){0!==e.streamTracker.length&&e.streamTracker.forEach(function(e){e.getTracks().forEach(function(e){return e.stop()})}),e.streamTracker=[]},e.playVideoOnLoadAsync=function(t,r){return Tw(this,void 0,void 0,function(){return Iw(this,function(n){switch(n.label){case 0:return[4,e.tryPlayVideo(t)];case 1:return n.sent()?[2,!0]:[2,new Promise(function(n,i){var o=setTimeout(function(){e.isVideoPlaying(t)||(i(!1),t.removeEventListener("canplay",a))},r),a=function(){e.tryPlayVideo(t).then(function(e){clearTimeout(o),t.removeEventListener("canplay",a),n(e)})};t.addEventListener("canplay",a)})]}})})},e.attachStreamToVideo=function(t,r,n){return void 0===n&&(n=5e3),Tw(this,void 0,void 0,function(){var i;return Iw(this,function(o){switch(o.label){case 0:return i=e.prepareVideoElement(r),e.addVideoSource(i,t),[4,e.playVideoOnLoadAsync(i,n)];case 1:return o.sent(),[2,i]}})})},e._waitImageLoad=function(t){return new Promise(function(r,n){var i=setTimeout(function(){e.isImageLoaded(t)||(t.removeEventListener("load",o),n())},1e4),o=function(){clearTimeout(i),t.removeEventListener("load",o),r()};t.addEventListener("load",o)})},e.checkCallbackFnOrThrow=function(e){if(!e)throw new vh("`callbackFn` is a required parameter, you cannot capture results without it.")},e.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(e){return e.stop()}),e=void 0},e.prototype.decode=function(t){var r=e.createCanvasFromMediaElement(t);return this.decodeFromCanvas(r)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},e.prototype.decodeFromCanvas=function(t){var r=e.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(r)},e.prototype.decodeFromImageElement=function(t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:if(!t)throw new vh("An image element must be provided.");return r=e.prepareImageElement(t),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeFromImageUrl=function(t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:if(!t)throw new vh("An URL must be provided.");(r=e.prepareImageElement()).src=t,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return e.destroyImageElement(r),[7];case 4:return[2]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return Tw(this,void 0,void 0,function(){var i,o;return Iw(this,function(a){switch(a.label){case 0:return e.checkCallbackFnOrThrow(n),[4,this.getUserMedia(t)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,a.sent()];case 4:throw o=a.sent(),e.disposeMediaStream(i),o;case 5:return[2]}})})},e.prototype.decodeFromStream=function(t,r,n){return Tw(this,void 0,void 0,function(){var i,o,a,s,c,l,u,h,f=this;return Iw(this,function(d){switch(d.label){case 0:return e.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,e.attachStreamToVideo(t,r,i)];case 1:return o=d.sent(),a=function(){e.disposeMediaStream(t),e.cleanVideoSource(o)},s=this.scan(o,n,a),c=t.getVideoTracks(),l=Aw(Aw({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(e,t){return Tw(this,void 0,void 0,function(){var r,n,i,o,a,s;return Iw(this,function(l){switch(l.label){case 0:r=t?c.filter(t):c,l.label=1;case 1:l.trys.push([1,6,7,8]),n=xw(r),i=n.next(),l.label=2;case 2:return i.done?[3,5]:[4,i.value.applyConstraints(e)];case 3:l.sent(),l.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return o=l.sent(),a={error:o},[3,8];case 7:try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(e){return c.find(e).getConstraints()},streamVideoSettingsGet:function(e){return c.find(e).getSettings()},streamVideoCapabilitiesGet:function(e){return c.find(e).getCapabilities()}}),e.mediaStreamIsTorchCompatible(t)&&(u=null===c||void 0===c?void 0:c.find(function(t){return e.mediaStreamIsTorchCompatibleTrack(t)}),h=function(t){return Tw(f,void 0,void 0,function(){return Iw(this,function(r){switch(r.label){case 0:return[4,e.mediaStreamSetTorch(u,t)];case 1:return r.sent(),[2]}})})},l.switchTorch=h,l.stop=function(){return Tw(f,void 0,void 0,function(){return Iw(this,function(e){switch(e.label){case 0:return s.stop(),[4,h(!1)];case 1:return e.sent(),[2]}})})}),[2,l]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return Tw(this,void 0,void 0,function(){var i;return Iw(this,function(o){switch(o.label){case 0:return e.checkCallbackFnOrThrow(n),i={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromVideoElement=function(t,r){return Tw(this,void 0,void 0,function(){var n,i;return Iw(this,function(o){switch(o.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new vh("A video element must be provided.");return n=e.prepareVideoElement(t),i=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,i)];case 1:return o.sent(),[2,this.scan(n,r)]}})})},e.prototype.decodeFromVideoUrl=function(t,r){return Tw(this,void 0,void 0,function(){var n,i,o;return Iw(this,function(a){switch(a.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new vh("An URL must be provided.");return(n=e.prepareVideoElement()).src=t,i=function(){e.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,o)];case 1:return a.sent(),[2,this.scan(n,r,i)]}})})},e.prototype.decodeOnceFromConstraints=function(e,t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=n.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,n.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return Tw(this,void 0,void 0,function(){var n,i;return Iw(this,function(o){switch(o.label){case 0:return n=Boolean(r),[4,e.attachStreamToVideo(t,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,o.sent()];case 4:return n||e.cleanVideoSource(i),[7];case 5:return[2]}})})},e.prototype.decodeOnceFromVideoDevice=function(e,t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:return r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,t)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoElement=function(t){return Tw(this,void 0,void 0,function(){var r,n;return Iw(this,function(i){switch(i.label){case 0:if(!t)throw new vh("A video element must be provided.");return r=e.prepareVideoElement(t),n=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},e.prototype.decodeOnceFromVideoUrl=function(t){return Tw(this,void 0,void 0,function(){var r,n;return Iw(this,function(i){switch(i.label){case 0:if(!t)throw new vh("An URL must be provided.");(r=e.prepareVideoElement()).src=t,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return e.cleanVideoSource(r),[7];case 4:return[2]}})})},e.prototype.scanOneResult=function(e,t,r,n){var i=this;return void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),new Promise(function(o,a){i.scan(e,function(e,i,s){if(e)return o(e),void s.stop();if(i){if(i instanceof Jh&&t)return;if(i instanceof _h&&r)return;if(i instanceof Uh&&n)return;s.stop(),a(i)}})})},e.prototype.scan=function(t,r,n){var i=this;e.checkCallbackFnOrThrow(r);var o,a=e.createCaptureCanvas(t);try{o=a.getContext("2d",{willReadFrequently:!0})}catch(f){o=a.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s,c=function(){o=void 0,a=void 0},l=!1,u={stop:function(){l=!0,clearTimeout(s),c(),n&&n()}},h=function(){if(!l)try{e.drawImageOnCanvas(o,t);var f=i.decodeFromCanvas(a);r(f,void 0,u),s=setTimeout(h,i.options.delayBetweenScanSuccess)}catch(d){if(r(void 0,d,u),d instanceof _h||d instanceof Uh||d instanceof Jh)return void(s=setTimeout(h,i.options.delayBetweenScanAttempts));c(),n&&n(d)}};return h(),u},e.prototype._decodeOnLoadImage=function(t){return Tw(this,void 0,void 0,function(){return Iw(this,function(r){switch(r.label){case 0:return e.isImageLoaded(t)?[3,2]:[4,e._waitImageLoad(t)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(t)]}})})},e.prototype.getUserMedia=function(t){return Tw(this,void 0,void 0,function(){var r;return Iw(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=n.sent(),e.streamTracker.push(r),[2,r]}})})},e.streamTracker=[],e}(),Ow=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rw=(function(e){function t(t,r){return e.call(this,new cd,t,r)||this}Ow(t,e)}(Nw),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Dw=(function(e){function t(t,r){return e.call(this,new lg(t),t,r)||this}Rw(t,e)}(Nw),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Pw=(function(e){function t(t,r){return e.call(this,new Og,t,r)||this}Dw(t,e)}(Nw),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Mw=function(e){function t(t,r){var n=this,i=new Pv;return i.setHints(t),(n=e.call(this,i,t,r)||this).reader=i,n}return Pw(t,e),Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Bh.POSSIBLE_FORMATS,e),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t.prototype.setHints=function(e){this.hints=e,this.reader.setHints(this.hints)},t}(Nw),Lw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fw=(function(e){function t(t,r){return e.call(this,new kv,t,r)||this}Lw(t,e)}(Nw),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Bw=(function(e){function t(t,r){return e.call(this,new Am,t,r)||this}Fw(t,e)}(Nw),"http://www.w3.org/2000/svg"),jw=(function(){function e(e){if("string"===typeof e){var t=document.getElementById(e);if(!t)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=t}else this.containerElement=e}e.prototype.write=function(t,r,n,i){if(0===t.length)throw new wh("Found empty contents");if(r<0||n<0)throw new wh("Requested dimensions are too small: "+r+"x"+n);var o=i&&void 0!==i.get(jv.MARGIN)?Number.parseInt(i.get(jv.MARGIN).toString(),10):e.QUIET_ZONE_SIZE,a=this.encode(i,t);return this.renderResult(a,r,n,o)},e.prototype.createSVGElement=function(t,r){var n=document.createElementNS(e.SVG_NS,"svg");return n.setAttributeNS(Bw,"width",r.toString()),n.setAttributeNS(Bw,"height",t.toString()),n},e.prototype.createSvgPathPlaceholderElement=function(t,r){var n=document.createElementNS(e.SVG_NS,"path");return n.setAttributeNS(Bw,"d","M0 0h".concat(t,"v").concat(r,"H0z")),n.setAttributeNS(Bw,"fill","none"),n},e.prototype.createSvgRectElement=function(t,r,n,i){var o=document.createElementNS(e.SVG_NS,"rect");return o.setAttributeNS(Bw,"x",t.toString()),o.setAttributeNS(Bw,"y",r.toString()),o.setAttributeNS(Bw,"height",n.toString()),o.setAttributeNS(Bw,"width",i.toString()),o.setAttributeNS(Bw,"fill","#000000"),o},e.prototype.encode=function(e,t){var r=Pg.L;if(e&&void 0!==e.get(jv.ERROR_CORRECTION)){var n=e.get(jv.ERROR_CORRECTION).toString();r=Pg.fromString(n)}return ty.encode(t,r,e)},e.prototype.renderResult=function(e,t,r,n){var i=e.getMatrix();if(null===i)throw new Mf;var o=i.getWidth(),a=i.getHeight(),s=o+2*n,c=a+2*n,l=Math.max(t,s),u=Math.max(r,c),h=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*h)/2),d=Math.floor((u-a*h)/2),p=this.createSVGElement(l,u),g=this.createSvgPathPlaceholderElement(t,r);p.appendChild(g),this.containerElement.appendChild(p);for(var m=0,v=d;m<a;m++,v+=h)for(var y=0,w=f;y<o;y++,w+=h)if(1===i.get(y,m)){var b=this.createSvgRectElement(w,v,h,h);p.appendChild(b)}return p},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function e(){}e.prototype.write=function(t,r,n,i){if(0===t.length)throw new wh("Found empty contents");if(r<0||n<0)throw new wh("Requested dimensions are too small: "+r+"x"+n);var o=Pg.L,a=e.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(jv.ERROR_CORRECTION)){var s=i.get(jv.ERROR_CORRECTION).toString();o=Pg.fromString(s)}void 0!==i.get(jv.MARGIN)&&(a=Number.parseInt(i.get(jv.MARGIN).toString(),10))}var c=ty.encode(t,o,i);return this.renderResult(c,r,n,a)},e.prototype.writeToDom=function(e,t,r,n,i){if("string"===typeof e){var o=document.querySelector(e);if(!o)throw new Error("Could no find the target HTML element.");e=o}var a=this.write(t,r,n,i);e instanceof HTMLElement&&e.appendChild(a)},e.prototype.renderResult=function(e,t,r,n){var i=e.getMatrix();if(null===i)throw new Mf;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*n,c=a+2*n,l=Math.max(t,s),u=Math.max(r,c),h=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*h)/2),d=Math.floor((u-a*h)/2),p=this.createSVGElement(l,u),g=0,m=d;g<a;g++,m+=h)for(var v=0,y=f;v<o;v++,y+=h)if(1===i.get(v,g)){var w=this.createSvgRectElement(y,m,h,h);p.appendChild(w)}return p},e.prototype.createSVGElement=function(e,t){var r=document.createElementNS(jw,"svg"),n=e.toString(),i=t.toString();return r.setAttribute("height",i),r.setAttribute("width",n),r.setAttribute("viewBox","0 0 "+n+" "+i),r},e.prototype.createSvgRectElement=function(e,t,r,n){var i=document.createElementNS(jw,"rect");return i.setAttribute("x",e.toString()),i.setAttribute("y",t.toString()),i.setAttribute("height",r.toString()),i.setAttribute("width",n.toString()),i.setAttribute("fill","#000000"),i},e.QUIET_ZONE_SIZE=4}();const Uw=e.createContext();function Vw(t){let{children:r}=t;const n=(0,e.useRef)(null),i=(0,e.useRef)(null),o=(0,e.useRef)(null),[a,s]=(0,e.useState)(!1),[c,l]=(0,e.useState)(null),[u,h]=(0,e.useState)("");(0,e.useEffect)(()=>(i.current=new Mw,()=>{o.current&&"function"===typeof o.current.stop&&o.current.stop(),i.current&&"function"===typeof i.current.reset&&i.current.reset()}),[]);const f=(0,e.useCallback)(()=>{h(""),s(!0),Mw.listVideoInputDevices().then(e=>{var t;const r=null===(t=e[0])||void 0===t?void 0:t.deviceId;if(!r)return h("No camera found."),void s(!1);i.current&&n.current&&i.current.decodeFromVideoDevice(r,n.current,(e,t,r)=>{o.current=r,e?l(e.getText()):t&&"NotFoundException"!==t.name&&(h("Camera error: "+t.message),s(!1),r.stop())})})},[]),d=(0,e.useCallback)(()=>{s(!1),o.current&&"function"===typeof o.current.stop&&o.current.stop()},[]);return(0,Gu.jsxs)(Uw.Provider,{value:{videoRef:n,lastScanResult:c,scanning:a,startScan:f,stopScan:d,error:u,setLastScanResult:l},children:[(0,Gu.jsx)("video",{ref:n,style:{position:"fixed",left:0,top:0,width:1,height:1,opacity:0,pointerEvents:"none",zIndex:-1},autoPlay:!0,muted:!0,playsInline:!0}),r]})}const zw=t=>{let{onScan:r,onClose:n,autoClose:i=!0,clearScan:o,scannedCount:a,title:s,children:c}=t;const{videoRef:l,lastScanResult:u,scanning:h,startScan:f,stopScan:d,error:p}=(0,e.useContext)(Uw);return(0,e.useEffect)(()=>(f(),()=>{d()}),[f,d]),(0,e.useEffect)(()=>{u&&(r&&r(u),i&&(d(),n&&n()))},[u,r,d,n,i]),(0,e.useEffect)(()=>{o&&o()},[o]),(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[(0,Gu.jsx)("button",{onClick:n,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"}),(0,Gu.jsx)("h3",{className:"text-xl font-bold mb-4",children:s||"Scan Library Card"}),"number"===typeof a&&(0,Gu.jsxs)("div",{className:"mb-2 text-center text-sm text-gray-600 font-semibold",children:[a," book",1===a?"":"s"," scanned so far"]}),p&&(0,Gu.jsx)("div",{className:"text-red-600 mb-2",children:p}),(0,Gu.jsxs)("div",{className:"w-full h-48 bg-black rounded mb-4 flex items-center justify-center overflow-hidden relative",style:{position:"relative",width:"100%",height:"192px",maxWidth:480},children:[(0,Gu.jsx)("video",{ref:l,className:"w-full h-full object-cover rounded",style:{width:"100%",height:"100%",background:"black",display:h?"block":"none"},autoPlay:!0,muted:!0,playsInline:!0}),!h&&!p&&(0,Gu.jsx)("span",{className:"text-gray-400 animate-pulse z-10 absolute left-0 right-0 top-0 bottom-0 flex items-center justify-center",children:"Starting camera..."}),p&&(0,Gu.jsx)("span",{className:"text-gray-500 z-10 absolute left-0 right-0 top-0 bottom-0 flex items-center justify-center",children:"Camera unavailable."})]}),(0,Gu.jsx)("button",{onClick:n,className:"w-full py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),c]})})},Hw=zu("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ww=e=>{let{filteredLoans:t,loadingActiveLoans:r,searchTerm:n,setSearchTerm:i,onRefresh:o,onOpenScanner:a,onScanCard:s,onForceReturn:c,showScanner:l,setShowScanner:u,onAddLoan:h,onConfirmPending:f}=e;const d=t.filter(e=>"pending"===e.status),p=t.filter(e=>"pending"!==e.status);return(0,Gu.jsxs)("div",{className:"space-y-6",children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gu.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Active Loans"}),(0,Gu.jsxs)("div",{className:"flex space-x-2",children:[(0,Gu.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Search by name, email, or card number",className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Gu.jsx)("button",{onClick:o,disabled:r,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh active loans",children:r?"Refreshing...":"\ud83d\udd04"}),(0,Gu.jsx)("button",{onClick:a,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Scan Library Card"}),(0,Gu.jsx)("button",{onClick:h,className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full flex items-center justify-center",title:"Add New Loan",children:(0,Gu.jsx)(Hw,{size:20,className:"text-blue-600"})})]})]}),(0,Gu.jsxs)("div",{className:"bg-yellow-50 rounded-lg shadow p-6 mb-6",children:[(0,Gu.jsx)("h4",{className:"text-lg font-bold text-yellow-800 mb-4",children:"Pending Loans"}),d.length>0?(0,Gu.jsxs)("table",{className:"w-full text-sm",children:[(0,Gu.jsx)("thead",{children:(0,Gu.jsxs)("tr",{className:"border-b",children:[(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Book"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"User"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Email"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Card #"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Loan Date"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Status"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Actions"})]})}),(0,Gu.jsx)("tbody",{children:d.map(e=>{var t,r,n,i,o;return(0,Gu.jsxs)("tr",{className:"border-b hover:bg-yellow-100",children:[(0,Gu.jsx)("td",{className:"py-2",children:(null===(t=e.book)||void 0===t?void 0:t.title)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(null===(r=e.user)||void 0===r?void 0:r.name)||(null===(n=e.user)||void 0===n?void 0:n.displayName)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(null===(i=e.user)||void 0===i?void 0:i.email)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(null===(o=e.user)||void 0===o?void 0:o.cardNumber)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:uh(e.loanDate)}),(0,Gu.jsx)("td",{className:"py-2",children:(0,Gu.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-yellow-200 text-yellow-900",children:"Pending"})}),(0,Gu.jsx)("td",{className:"py-2",children:(0,Gu.jsx)("button",{onClick:()=>f&&f(e),className:"px-2 py-1 rounded text-xs bg-green-600 text-white hover:bg-green-700",children:"Confirm"})})]},e.id)})})]}):(0,Gu.jsx)("div",{className:"text-center py-4 text-yellow-700",children:"No pending loans."})]}),(0,Gu.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:r?(0,Gu.jsxs)("div",{className:"text-center py-8",children:[(0,Gu.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Gu.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading active loans..."})]}):t.length>0?(0,Gu.jsxs)("table",{className:"w-full text-sm",children:[(0,Gu.jsx)("thead",{children:(0,Gu.jsxs)("tr",{className:"border-b",children:[(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Book"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"User"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Email"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Card #"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Loan Date"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Status"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Actions"})]})}),(0,Gu.jsx)("tbody",{children:p.map(e=>{var t,r,n,i,o;return(0,Gu.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Gu.jsx)("td",{className:"py-2",children:(null===(t=e.book)||void 0===t?void 0:t.title)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(null===(r=e.user)||void 0===r?void 0:r.name)||(null===(n=e.user)||void 0===n?void 0:n.displayName)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(null===(i=e.user)||void 0===i?void 0:i.email)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:(null===(o=e.user)||void 0===o?void 0:o.cardNumber)||"N/A"}),(0,Gu.jsx)("td",{className:"py-2",children:uh(e.loanDate)}),(0,Gu.jsx)("td",{className:"py-2",children:(0,Gu.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.forceReturnedBy?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"),children:e.forceReturnedBy?"Force Returned":"Active"})}),(0,Gu.jsx)("td",{className:"py-2",children:(0,Gu.jsx)("button",{onClick:()=>c(e),disabled:e.forceReturnedBy,className:"px-2 py-1 rounded text-xs transition-colors ".concat(e.forceReturnedBy?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"),title:e.forceReturnedBy?"Already force returned":"Force return this book",children:e.forceReturnedBy?"Force Returned":"Force Return"})})]},e.id)})})]}):(0,Gu.jsx)("div",{className:"text-center py-8",children:(0,Gu.jsx)("p",{className:"text-gray-500 mb-4",children:"No active loans found."})})}),l&&(0,Gu.jsx)(zw,{onScan:e=>{s&&s(e)},onClose:()=>u(!1)})]})},Gw=e=>{let{show:t,user:r,form:i,setForm:o,onSave:a,onClose:s}=e;return t&&r?(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Gu.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full",children:(0,Gu.jsxs)("div",{className:"p-6",children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Gu.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Edit User"}),(0,Gu.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Gu.jsxs)("div",{className:"space-y-4",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Gu.jsx)("input",{type:"text",value:i.name,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Gu.jsx)("input",{type:"email",value:i.email,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Gu.jsxs)("select",{value:i.role,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Gu.jsx)("option",{value:"patron",children:"Patron"}),(0,Gu.jsx)("option",{value:"admin",children:"Administrator"})]})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Library Card Number"}),(0,Gu.jsx)("input",{type:"text",value:i.cardNumber,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{cardNumber:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter card number"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Gu.jsx)("input",{type:"tel",value:i.phone,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Gu.jsx)("input",{type:"text",value:i.address,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter address"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Library Card ID"}),(0,Gu.jsx)("input",{type:"text",value:i.libraryCardId,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{libraryCardId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter library card ID"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card PIN"}),(0,Gu.jsx)("input",{type:"text",value:i.cardPin,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{cardPin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter card PIN"})]}),(0,Gu.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gu.jsx)("input",{type:"checkbox",id:"isLocked",checked:!!i.isLocked,onChange:e=>o((0,n.A)((0,n.A)({},i),{},{isLocked:e.target.checked}))}),(0,Gu.jsx)("label",{htmlFor:"isLocked",className:"text-sm text-gray-700",children:"Account Locked"})]}),(0,Gu.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gu.jsx)("button",{onClick:a,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"}),(0,Gu.jsx)("button",{onClick:s,className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}):null},Xw=async(e,t,r,n,i)=>{var o,a,s,c,l,u,h,f,d,p,g,m,v,y;if(!e||!t||!r)throw new Error("Missing required parameters");const w=Js(e,"artifacts",t,"users",r);await ol(w,{name:null!==(o=n.name)&&void 0!==o?o:null,displayName:null!==(a=null!==(s=n.displayName)&&void 0!==s?s:n.name)&&void 0!==a?a:null,email:null!==(c=n.email)&&void 0!==c?c:null,role:null!==(l=n.role)&&void 0!==l?l:null,cardNumber:null!==(u=n.cardNumber)&&void 0!==u?u:null,cardPin:null!==(h=n.cardPin)&&void 0!==h?h:null,address:null!==(f=n.address)&&void 0!==f?f:null,phone:null!==(d=n.phone)&&void 0!==d?d:null,isLocked:null!==(p=n.isLocked)&&void 0!==p?p:null,libraryCardId:null!==(g=null!==(m=n.libraryCardId)&&void 0!==m?m:n.cardNumber)&&void 0!==g?g:null,loans:null!==(v=n.loans)&&void 0!==v?v:null,uid:null!==(y=n.uid)&&void 0!==y?y:r,updatedAt:ul(),updatedBy:(null===i||void 0===i?void 0:i.uid)||"admin"})},Kw=zu("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),qw=zu("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Yw=async e=>{try{var t;const r=await fetch("https://openlibrary.org/isbn/".concat(e,".json"));if(!r.ok)return null;const n=await r.json();return{title:n.title||"",author:Array.isArray(n.authors)&&n.authors.length>0&&n.authors[0].name||"",isbn:e,language:Array.isArray(n.languages)&&n.languages.length>0?n.languages[0].key.replace("/languages/",""):"",description:"string"===typeof n.description?n.description:(null===(t=n.description)||void 0===t?void 0:t.value)||"",coverUrl:n.covers&&n.covers.length>0?"https://covers.openlibrary.org/b/id/".concat(n.covers[0],"-L.jpg"):"",available:1,copies:1}}catch(r){return null}},Zw=async e=>{try{var t;const r=await fetch("https://www.googleapis.com/books/v1/volumes?q=isbn:".concat(e));if(!r.ok)return null;const n=await r.json();if(!n.items||!n.items.length)return null;const i=n.items[0].volumeInfo;return{title:i.title||"",author:Array.isArray(i.authors)?i.authors.join(", "):"",isbn:e,language:i.language||"",description:i.description||"",coverUrl:(null===(t=i.imageLinks)||void 0===t?void 0:t.thumbnail)||"",available:1,copies:1}}catch(r){return null}},$w=async e=>{try{const t=await fetch("https://openlibrary.org/isbn/".concat(e,".json"));if(t.ok){const e=await t.json();if(e.covers&&e.covers.length>0)return"https://covers.openlibrary.org/b/id/".concat(e.covers[0],"-L.jpg")}}catch(l){}try{const n=await fetch("https://www.googleapis.com/books/v1/volumes?q=isbn:".concat(e));if(n.ok){const e=await n.json();if(e.items&&e.items.length>0){var t,r;const n=null===(t=e.items[0].volumeInfo)||void 0===t||null===(r=t.imageLinks)||void 0===r?void 0:r.thumbnail;if(n)return n}}}catch(u){}try{var n;const t="https://covers.librarything.com/devkey/large/isbn/".concat(e),r=await fetch(t,{method:"HEAD"});if(r.ok&&null!==(n=r.headers.get("content-type"))&&void 0!==n&&n.startsWith("image"))return t}catch(h){}try{var i;const t="https://covers.oclc.org/bib/isbn/".concat(e,"-L.jpg"),r=await fetch(t,{method:"HEAD"});if(r.ok&&null!==(i=r.headers.get("content-type"))&&void 0!==i&&i.startsWith("image"))return t}catch(f){}try{var o;const t="https://archive.org/services/img/isbn_".concat(e),r=await fetch(t,{method:"HEAD"});if(r.ok&&null!==(o=r.headers.get("content-type"))&&void 0!==o&&o.startsWith("image"))return t}catch(d){}try{var a;const t="https://www.nb.no/services/image/resolver?identifier=isbn:".concat(e.replace(/-/g,""),"&width=400"),r=await fetch(t,{method:"HEAD"});if(r.ok&&null!==(a=r.headers.get("content-type"))&&void 0!==a&&a.startsWith("image"))return t}catch(p){}try{const t="https://www.ark.no/cover/".concat(e.replace(/-/g,"")),r="https://www.ark.no/cover/isbn/".concat(e.replace(/-/g,""));for(const e of[t,r]){var s;const t=await fetch(e,{method:"HEAD"});if(t.ok&&null!==(s=t.headers.get("content-type"))&&void 0!==s&&s.startsWith("image"))return e}}catch(g){}try{const t=e.replace(/-/g,"");if(13===t.length){var c;const e=t.slice(0,3),r=t.slice(3,6),n=t.slice(6),i="https://www.norli.no/media/catalog/product/".concat(e,"/").concat(r,"/").concat(n,"/").concat(t,"_xxl.jpg"),o=await fetch(i,{method:"HEAD"});if(o.ok&&null!==(c=o.headers.get("content-type"))&&void 0!==c&&c.startsWith("image"))return i}}catch(m){}return"https://placehold.co/120x180/3b82f6/ffffff?text=\ud83d\udcda"},Qw=t=>{let{show:r,book:i,form:o,setForm:a,onSave:s,onClose:c,books:l=[]}=t;console.log("BookEditModal rendered",i);const[u,h]=(0,e.useState)(!1),[f,d]=(0,e.useState)(!1),[p,g]=(0,e.useState)(null),[m,v]=(0,e.useState)(!1),{db:y,customAppId:w}=QR(),[b,E]=(0,e.useState)([]),[_,S]=(0,e.useState)(!1),[C,A]=(0,e.useState)(!1);e.useEffect(()=>{r&&i&&i.id&&o.isbn?(A(!0),(async e=>{const t=[];try{const r=await fetch("https://openlibrary.org/isbn/".concat(e,".json"));if(r.ok){const e=await r.json();e.covers&&e.covers.length>0&&t.push({url:"https://covers.openlibrary.org/b/id/".concat(e.covers[0],"-L.jpg"),source:"Open Library"})}}catch(h){}try{const i=await fetch("https://www.googleapis.com/books/v1/volumes?q=isbn:".concat(e));if(i.ok){const e=await i.json();if(e.items&&e.items.length>0){var r,n;const i=null===(r=e.items[0].volumeInfo)||void 0===r||null===(n=r.imageLinks)||void 0===n?void 0:n.thumbnail;i&&t.push({url:i,source:"Google Books"})}}}catch(f){}try{var i;const r="https://covers.librarything.com/devkey/large/isbn/".concat(e),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(i=n.headers.get("content-type"))&&void 0!==i&&i.startsWith("image")&&t.push({url:r,source:"LibraryThing"})}catch(d){}try{var o;const r="https://covers.oclc.org/bib/isbn/".concat(e,"-L.jpg"),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(o=n.headers.get("content-type"))&&void 0!==o&&o.startsWith("image")&&t.push({url:r,source:"WorldCat"})}catch(p){}try{var a;const r="https://archive.org/services/img/isbn_".concat(e),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(a=n.headers.get("content-type"))&&void 0!==a&&a.startsWith("image")&&t.push({url:r,source:"Archive.org"})}catch(g){}try{var s;const r="https://www.nb.no/services/image/resolver?identifier=isbn:".concat(e.replace(/-/g,""),"&width=400"),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(s=n.headers.get("content-type"))&&void 0!==s&&s.startsWith("image")&&t.push({url:r,source:"Nasjonalbiblioteket (NO)"})}catch(m){}try{const r="https://www.ark.no/cover/".concat(e.replace(/-/g,"")),n="https://www.ark.no/cover/isbn/".concat(e.replace(/-/g,""));for(const e of[r,n]){var c;const r=await fetch(e,{method:"HEAD"});r.ok&&null!==(c=r.headers.get("content-type"))&&void 0!==c&&c.startsWith("image")&&t.push({url:e,source:"ARK.no"})}}catch(v){}try{const r=e.replace(/-/g,"");if(13===r.length){var l;const e=r.slice(0,3),n=r.slice(3,6),i=r.slice(6),o="https://www.norli.no/media/catalog/product/".concat(e,"/").concat(n,"/").concat(i,"/").concat(r,"_xxl.jpg"),a=await fetch(o,{method:"HEAD"});a.ok&&null!==(l=a.headers.get("content-type"))&&void 0!==l&&l.startsWith("image")&&t.push({url:o,source:"Norli.no"})}}catch(y){}const u=new Set;return t.filter(e=>!u.has(e.url)&&(u.add(e.url),!0))})(o.isbn).then(e=>{E(e),A(!1)})):E([])},[r,i,o.isbn]);return r&&i?(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",pointerEvents:"auto"},children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[(0,Gu.jsxs)("div",{className:"p-6",children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Gu.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Book"}),(0,Gu.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Gu.jsxs)("div",{className:"space-y-4",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,Gu.jsx)("input",{type:"text",value:o.title,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Book title"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),(0,Gu.jsx)("input",{type:"text",value:o.author,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{author:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author name"})]}),(0,Gu.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gu.jsxs)("div",{className:"flex-1",children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN"}),(0,Gu.jsx)("input",{type:"text",value:o.isbn,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{isbn:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ISBN number"})]}),(0,Gu.jsx)("button",{type:"button",onClick:()=>h(!0),className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full flex items-center justify-center mt-6",title:"Scan ISBN barcode",children:(0,Gu.jsx)(Kw,{size:20,className:"text-blue-600"})}),(0,Gu.jsx)("button",{type:"button",disabled:m,onClick:async()=>{var e;const t=l.find(e=>e.isbn&&e.isbn===o.isbn);if(t){var r;g(t),d(!0),v(!0);let e=await Yw(o.isbn),i=null;e||(i=await Zw(o.isbn));let s=(null===e||void 0===e?void 0:e.coverUrl)||(null===(r=i)||void 0===r?void 0:r.coverUrl);s||(s=await $w(o.isbn)),v(!1);const c=e||i;if(c){const e=(0,n.A)({},t);Object.keys(c).forEach(t=>{e[t]&&""!==e[t]&&void 0!==e[t]||(e[t]=c[t])}),e.coverUrl||(e.coverUrl=s),a(t=>(0,n.A)((0,n.A)({},t),e))}else a(e=>(0,n.A)((0,n.A)((0,n.A)({},e),t),{},{coverUrl:s}));return}v(!0);let i=await Yw(o.isbn),s=null;i||(s=await Zw(o.isbn));let c=(null===i||void 0===i?void 0:i.coverUrl)||(null===(e=s)||void 0===e?void 0:e.coverUrl);c||(c=await $w(o.isbn)),v(!1),i?a(e=>(0,n.A)((0,n.A)((0,n.A)({},e),i),{},{coverUrl:i.coverUrl||c})):s?a(e=>(0,n.A)((0,n.A)((0,n.A)({},e),s),{},{coverUrl:s.coverUrl||c})):(a(e=>(0,n.A)((0,n.A)({},e),{},{coverUrl:c})),alert("No book found for this ISBN in Open Library or Google Books."))},className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full flex items-center justify-center mt-6 ".concat(m?"opacity-50 cursor-not-allowed":""),title:"Search ISBN in library and online",children:(0,Gu.jsx)(qw,{size:20,className:"text-blue-600"})})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,Gu.jsx)("input",{type:"text",value:o.language,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{language:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Language"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Gu.jsx)("textarea",{value:o.description,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Book description",rows:3})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover URL"}),(0,Gu.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Gu.jsx)("input",{type:"text",value:o.coverUrl,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{coverUrl:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Cover image URL"}),i&&i.id&&(0,Gu.jsx)("button",{type:"button",onClick:()=>S(!0),style:{background:"#e0e7ff",color:"#3730a3",border:"none",borderRadius:8,padding:"6px 12px",fontWeight:600,cursor:"pointer"},title:"Pick from available covers",children:"Pick Cover"})]})]}),(0,Gu.jsxs)("div",{className:"flex space-x-2",children:[(0,Gu.jsxs)("div",{className:"flex-1",children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available"}),(0,Gu.jsx)("input",{type:"number",value:o.available,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{available:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Available copies",min:0})]}),(0,Gu.jsxs)("div",{className:"flex-1",children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Copies"}),(0,Gu.jsx)("input",{type:"number",value:o.copies,onChange:e=>a((0,n.A)((0,n.A)({},o),{},{copies:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Total copies",min:1})]})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher"}),(0,Gu.jsx)("input",{type:"text",value:o.publisher||"",onChange:e=>a((0,n.A)((0,n.A)({},o),{},{publisher:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Publisher"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publish Date"}),(0,Gu.jsx)("input",{type:"text",value:o.publishDate||"",onChange:e=>a((0,n.A)((0,n.A)({},o),{},{publishDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Publish Date"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,Gu.jsx)("input",{type:"text",value:o.tags||"",onChange:e=>a((0,n.A)((0,n.A)({},o),{},{tags:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tags (comma separated)"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length"}),(0,Gu.jsx)("input",{type:"text",value:o.length||"",onChange:e=>a((0,n.A)((0,n.A)({},o),{},{length:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Length (pages, minutes, etc.)"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Added"}),(0,Gu.jsx)("input",{type:"text",value:o.added||"",onChange:e=>a((0,n.A)((0,n.A)({},o),{},{added:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Date Added"})]})]}),(0,Gu.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,Gu.jsx)("button",{onClick:c,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,Gu.jsx)("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]}),f&&(0,Gu.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-30",children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,Gu.jsx)("h4",{className:"text-lg font-bold mb-2",children:"This book is already in your library"}),(0,Gu.jsx)("p",{className:"mb-4",children:"Do you want to edit it?"}),(0,Gu.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Gu.jsx)("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",onClick:()=>d(!1),children:"No"}),(0,Gu.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>{var e,t;a({title:p.title||"",author:p.author||"",isbn:p.isbn||"",language:p.language||"",description:p.description||"",coverUrl:p.coverUrl||"",available:null!==(e=p.available)&&void 0!==e?e:1,copies:null!==(t=p.copies)&&void 0!==t?t:1}),d(!1)},children:"Yes"})]})]})}),_&&(0,Gu.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>S(!1),children:(0,Gu.jsxs)("div",{style:{background:"#fff",borderRadius:12,padding:32,minWidth:320,maxWidth:600,boxShadow:"0 4px 24px rgba(0,0,0,0.12)"},onClick:e=>e.stopPropagation(),children:[(0,Gu.jsx)("h3",{style:{fontSize:20,fontWeight:700,marginBottom:12,color:"#1e293b"},children:"Pick a Cover Image"}),C?(0,Gu.jsx)("div",{style:{color:"#3b82f6",fontWeight:600},children:"Loading covers..."}):b.length>0?(0,Gu.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:b.map(e=>(0,Gu.jsxs)("div",{style:{textAlign:"center",minWidth:110},children:[(0,Gu.jsx)("img",{src:e.url,alt:"cover option",style:{width:100,height:150,objectFit:"cover",borderRadius:8,border:e.url===o.coverUrl?"3px solid #3b82f6":"1px solid #cbd5e1",cursor:"pointer",marginBottom:6},onClick:()=>(async e=>{if(a(t=>(0,n.A)((0,n.A)({},t),{},{coverUrl:e})),S(!1),y&&w&&i&&i.id){const t=Js(y,"artifacts",w,"books",i.id);await ol(t,{coverUrl:e})}})(e.url)}),(0,Gu.jsx)("div",{style:{fontSize:12,color:e.url===o.coverUrl?"#3b82f6":"#64748b",fontWeight:e.url===o.coverUrl?700:400},children:e.url===o.coverUrl?"Selected":"Choose"}),(0,Gu.jsx)("div",{style:{fontSize:11,color:"#64748b",marginTop:2},children:e.source})]},e.url))}):(0,Gu.jsx)("div",{style:{color:"#64748b"},children:"No covers found for this ISBN."}),(0,Gu.jsx)("button",{onClick:()=>S(!1),style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:8,padding:"8px 18px",fontWeight:600,cursor:"pointer",marginTop:24},children:"Close"})]})})]}),u&&(0,Gu.jsx)(zw,{onScan:e=>{a(t=>(0,n.A)((0,n.A)({},t),{},{isbn:"object"===typeof e&&e.getText?e.getText():String(e)})),h(!1)},onClose:()=>h(!1)})]})}):null},Jw=zu("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eb=t=>{let{show:r,onClose:n,users:i,books:o}=t;const{db:a,customAppId:s,currentUser:c,showMessage:l}=QR(),[u,h]=(0,e.useState)(""),[f,d]=(0,e.useState)(null),[p,g]=(0,e.useState)(!1),[m,v]=(0,e.useState)(""),[y,w]=(0,e.useState)([]),[b,E]=(0,e.useState)(!1);if(!r)return null;const _=u?i.filter(e=>e.name&&e.name.toLowerCase().includes(u.toLowerCase())||e.email&&e.email.toLowerCase().includes(u.toLowerCase())||e.cardNumber&&e.cardNumber.toLowerCase().includes(u.toLowerCase())):i,S=m?o.filter(e=>e.title&&e.title.toLowerCase().includes(m.toLowerCase())||e.author&&e.author.toLowerCase().includes(m.toLowerCase())||e.isbn&&e.isbn.toLowerCase().includes(m.toLowerCase())).filter(e=>e.available>0&&!y.some(t=>t.id===e.id)):o.filter(e=>e.available>0&&!y.some(t=>t.id===e.id));return(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full relative",children:[(0,Gu.jsx)("button",{onClick:n,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:(0,Gu.jsx)(Jw,{size:24})}),(0,Gu.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Gu.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Add New Loan"}),!f&&(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Find User"}),(0,Gu.jsxs)("div",{className:"flex space-x-2",children:[(0,Gu.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by name, email, or card number"}),(0,Gu.jsx)("button",{type:"button",onClick:()=>g(!0),className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full flex items-center justify-center",title:"Scan Library Card",children:(0,Gu.jsx)(Hw,{size:20,className:"text-blue-600"})})]}),(0,Gu.jsxs)("div",{className:"max-h-40 overflow-y-auto mt-2",children:[_.slice(0,10).map(e=>(0,Gu.jsxs)("div",{className:"p-2 hover:bg-blue-50 rounded cursor-pointer",onClick:()=>d(e),children:[(0,Gu.jsx)("div",{className:"font-medium",children:e.name||e.displayName}),(0,Gu.jsxs)("div",{className:"text-xs text-gray-500",children:[e.email," \u2022 ",e.cardNumber]})]},e.id)),0===_.length&&(0,Gu.jsx)("div",{className:"text-gray-400 text-sm p-2",children:"No users found."})]})]}),f&&(0,Gu.jsxs)("div",{children:[(0,Gu.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsxs)("div",{className:"font-medium",children:["User: ",f.name||f.displayName]}),(0,Gu.jsxs)("div",{className:"text-xs text-gray-500",children:[f.email," \u2022 ",f.cardNumber]})]}),(0,Gu.jsx)("button",{className:"text-xs text-blue-600 hover:underline",onClick:()=>d(null),children:"Change"})]}),(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Add Book(s) to Loan"}),(0,Gu.jsx)("div",{className:"flex space-x-2 mb-2",children:(0,Gu.jsx)("input",{type:"text",value:m,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search for available books by title, author, or ISBN"})}),(0,Gu.jsxs)("div",{className:"max-h-32 overflow-y-auto mb-2",children:[S.slice(0,10).map(e=>(0,Gu.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-blue-50 rounded cursor-pointer",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("div",{className:"font-medium",children:e.title}),(0,Gu.jsxs)("div",{className:"text-xs text-gray-500",children:[e.author," \u2022 ",e.isbn]})]}),(0,Gu.jsx)("button",{className:"p-1 bg-blue-100 hover:bg-blue-200 rounded-full",onClick:()=>w([...y,e]),children:(0,Gu.jsx)(Hw,{size:18,className:"text-blue-600"})})]},e.id)),0===S.length&&(0,Gu.jsx)("div",{className:"text-gray-400 text-sm p-2",children:"No available books found."})]}),y.length>0&&(0,Gu.jsxs)("div",{className:"mb-2",children:[(0,Gu.jsx)("div",{className:"font-medium mb-1",children:"Books to Loan:"}),(0,Gu.jsx)("ul",{className:"list-disc pl-5",children:y.map(e=>(0,Gu.jsxs)("li",{className:"flex items-center justify-between",children:[(0,Gu.jsxs)("span",{children:[e.title," ",(0,Gu.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.author,")"]})]}),(0,Gu.jsx)("button",{className:"text-xs text-red-500 hover:underline ml-2",onClick:()=>w(y.filter(t=>t.id!==e.id)),children:"Remove"})]},e.id))})]}),(0,Gu.jsx)("button",{className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mt-2 disabled:opacity-50",disabled:0===y.length||b,onClick:async()=>{if(console.log("handleLoanOut called",{db:a,appId:s,currentUser:c,selectedUser:f,selectedBooks:y}),a&&s&&c&&f&&0!==y.length){E(!0);try{for(const e of y){console.log("Creating loan for",e),await sl(Qs(a,"artifacts",s,"public","data","loans"),{userId:f.id,bookId:e.id,loanDate:ul(),returned:!1,createdBy:c.uid,updatedAt:ul()});const t=Js(a,"artifacts",s,"books",e.id);await ol(t,{available:Math.max(0,(e.available||1)-1),updatedAt:ul(),updatedBy:c.uid})}l&&l("Loan(s) created successfully!","success"),w([]),d(null),v(""),h(""),n&&n()}catch(e){console.error("Loan creation error:",e),l&&l("Failed to create loan(s): "+e.message,"error")}finally{E(!1)}}else console.log("Missing required data for loan creation")},children:b?"Processing...":"Loan Out"})]}),p&&(0,Gu.jsx)(zw,{onScan:e=>{h(e),g(!1)},onClose:()=>g(!1)})]})]})})},tb=t=>{let{onClose:r,users:i,books:o,db:a,appId:s,showMessage:c,fetchActiveLoans:l}=t;const[u,h]=(0,e.useState)(null),{appName:f,logoUrl:d}=QR(),[p,g]=(0,e.useState)(0),[m,v]=(0,e.useState)(null),[y,w]=(0,e.useState)(""),[b,E]=(0,e.useState)(""),[_,S]=(0,e.useState)([]),[C,A]=(0,e.useState)(!1),[T,I]=(0,e.useState)(""),[x,k]=(0,e.useState)(0),[N,O]=(0,e.useState)(null),[R,D]=(0,e.useState)([]),[P,M]=(0,e.useState)(!1),[L,F]=(0,e.useState)(""),{lastScanResult:B,scanning:j,startScan:U,stopScan:V,error:z,videoRef:H,setLastScanResult:W}=(0,e.useContext)(Uw),[G,X]=(0,e.useState)(!1),[K,q]=(0,e.useState)(""),[Y,Z]=(0,e.useState)("");e.useEffect(()=>{g(0),v(null),w(""),E(""),S([]),A(!1),I(""),k(0),O(null),D([]),M(!1),F("")},[u]);const $=async e=>{A(!0),I("");try{const t=Vc(Qs(a,"artifacts",s,"users"),Hc("cardNumber","==",e)),r=await nl(t);if(r.empty)throw new Error("No user found for this card");const i=(0,n.A)({id:r.docs[0].id},r.docs[0].data());v(i),W&&W(null),g(1)}catch(t){I(t.message)}finally{A(!1)}},Q=()=>{m&&(m.cardPin&&m.cardPin!==y?E("Incorrect PIN"):(E(""),g(2)))},J=async e=>{const t=o.find(t=>t.isbn===e);t?_.some(e=>e.id===t.id)||(S([..._,t]),W&&W(null)):I("Book not found: "+e)},ee=async()=>{A(!0);try{for(const e of _){await sl(Qs(a,"artifacts",s,"public","data","loans"),{userId:m.id,bookId:e.id,loanDate:ul(),returned:!1,createdBy:m.id,updatedAt:ul()});const t=Js(a,"artifacts",s,"books",e.id);await ol(t,{available:Math.max(0,(e.available||1)-1),updatedAt:ul(),updatedBy:m.id})}c&&c("Loan(s) created successfully!","success"),h(null),l&&l()}catch(e){I("Failed to create loan(s): "+e.message)}finally{A(!1)}},te=async e=>{M(!0),F("");try{const t=Vc(Qs(a,"artifacts",s,"users"),Hc("cardNumber","==",e)),r=await nl(t);if(r.empty)throw new Error("No user found for this card");const i=(0,n.A)({id:r.docs[0].id},r.docs[0].data());O(i);const o=Vc(Qs(a,"artifacts",s,"public","data","loans"),Hc("userId","==",i.id),Hc("returned","==",!1)),c=(await nl(o)).docs.map(e=>(0,n.A)({id:e.id},e.data()));D(c),k(1)}catch(t){F(t.message)}finally{M(!1)}},re=async e=>{const t=R.find(t=>{const r=o.find(e=>e.id===t.bookId);return r&&r.isbn===e});if(t)try{var r;const e=Js(a,"artifacts",s,"public","data","loans",t.id);await ol(e,{returned:!0,returnDate:ul(),returnedBy:N.id,updatedAt:ul(),updatedBy:N.id});const n=Js(a,"artifacts",s,"books",t.bookId);await ol(n,{available:((null===(r=o.find(e=>e.id===t.bookId))||void 0===r?void 0:r.available)||0)+1,updatedAt:ul(),updatedBy:N.id}),D(R.filter(e=>e.id!==t.id)),c&&c("Book returned!","success"),l&&l()}catch(n){F("Failed to return book: "+n.message)}else F("No active loan found for this book")},ne=()=>{X(!0),q(""),Z("")},ie=e=>{e.preventDefault();i&&i.find(e=>"admin"===e.role&&e.cardPin&&String(e.cardPin)===String(K))?(X(!1),q(""),Z(""),r&&r()):Z("Incorrect admin PIN.")};return null===u?(0,Gu.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:[(0,Gu.jsx)("button",{className:"absolute top-6 right-8 text-white text-3xl font-bold hover:text-gray-300",onClick:ne,children:"\xd7"}),G&&(0,Gu.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40",children:(0,Gu.jsxs)("form",{onSubmit:ie,className:"bg-white rounded-lg shadow-lg p-8 max-w-xs w-full flex flex-col items-center",children:[(0,Gu.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Admin PIN Required"}),(0,Gu.jsx)("input",{type:"password",value:K,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2",placeholder:"Enter admin PIN",autoFocus:!0}),Y&&(0,Gu.jsx)("div",{className:"text-red-600 mb-2",children:Y}),(0,Gu.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,Gu.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Submit"}),(0,Gu.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",onClick:()=>X(!1),children:"Cancel"})]})]})}),(0,Gu.jsxs)("div",{className:"flex flex-col items-center w-full h-full",children:[(0,Gu.jsxs)("div",{className:"pt-20 pb-4",children:[(0,Gu.jsx)("img",{src:d,alt:"App Logo",className:"h-56 w-auto max-w-2xl mx-auto",style:{filter:"brightness(0) invert(1)"},onError:e=>{e.target.src="https://placehold.co/60x60/3b82f6/ffffff?text=LIB"}}),(0,Gu.jsx)("h2",{className:"text-white text-4xl font-extrabold mt-2 text-center",children:f||"Location Loan"})]}),(0,Gu.jsx)("div",{className:"flex-grow flex items-center justify-center w-full -mt-60",children:(0,Gu.jsxs)("div",{className:"flex flex-row space-x-8",children:[(0,Gu.jsx)("button",{className:"w-40 h-20 bg-white text-black text-2xl font-semibold rounded-xl border border-gray-200 hover:bg-gray-100 transition-colors duration-150",onClick:()=>h("loan"),children:"Loan"}),(0,Gu.jsx)("button",{className:"w-40 h-20 bg-white text-black text-2xl font-semibold rounded-xl border border-gray-200 hover:bg-gray-100 transition-colors duration-150",onClick:()=>h("return"),children:"Return"})]})})]})]}):"loan"===u?(0,Gu.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:[(0,Gu.jsx)("button",{className:"absolute top-6 right-8 text-white text-3xl font-bold hover:text-gray-300",onClick:()=>h(null),children:"\xd7"}),(0,Gu.jsxs)("div",{className:"flex flex-col items-center w-full h-full",children:[(0,Gu.jsxs)("div",{className:"pt-20 pb-4",children:[(0,Gu.jsx)("img",{src:d,alt:"App Logo",className:"h-56 w-auto max-w-2xl mx-auto",style:{filter:"brightness(0) invert(1)"},onError:e=>{e.target.src="https://placehold.co/60x60/3b82f6/ffffff?text=LIB"}}),(0,Gu.jsx)("h2",{className:"text-white text-4xl font-extrabold mt-2 text-center",children:f||"Loan"})]}),(0,Gu.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center w-full -mt-60",children:[0===p&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("div",{className:"text-white text-2xl mb-6",children:"Scan Library Card"}),T&&(0,Gu.jsx)("div",{className:"text-red-400 mb-2",children:T}),(0,Gu.jsx)(zw,{onScan:$,onClose:()=>h(null),autoClose:!1})]}),1===p&&m&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsxs)("div",{className:"text-white text-2xl mb-6",children:["Enter PIN for ",m.name||m.displayName]}),(0,Gu.jsx)("input",{type:"password",value:y,onChange:e=>w(e.target.value),className:"px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg mb-2",placeholder:"PIN",autoFocus:!0}),b&&(0,Gu.jsx)("div",{className:"text-red-400 mb-2",children:b}),(0,Gu.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,Gu.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:Q,children:"Continue"}),(0,Gu.jsx)("button",{className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",onClick:()=>h(null),children:"Cancel"})]})]}),2===p&&m&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("div",{className:"text-white text-2xl mb-6",children:"Scan Book(s) to Loan"}),T&&(0,Gu.jsx)("div",{className:"text-red-400 mb-2",children:T}),(0,Gu.jsxs)("div",{className:"mt-6 w-full max-w-md",children:[(0,Gu.jsx)("div",{className:"text-white mb-2 font-semibold",children:"Books to Loan:"}),(0,Gu.jsxs)("table",{className:"w-full bg-white rounded-lg mb-4",children:[(0,Gu.jsx)("thead",{children:(0,Gu.jsxs)("tr",{children:[(0,Gu.jsx)("th",{className:"px-2 py-1 text-left text-xs font-semibold text-gray-700",children:"Title"}),(0,Gu.jsx)("th",{className:"px-2 py-1 text-left text-xs font-semibold text-gray-700",children:"Author"}),(0,Gu.jsx)("th",{className:"px-2 py-1 text-left text-xs font-semibold text-gray-700",children:"ISBN"}),(0,Gu.jsx)("th",{className:"px-2 py-1"})]})}),(0,Gu.jsx)("tbody",{children:_.map(e=>(0,Gu.jsxs)("tr",{children:[(0,Gu.jsx)("td",{className:"px-2 py-1 text-sm text-gray-900",children:e.title}),(0,Gu.jsx)("td",{className:"px-2 py-1 text-sm text-gray-700",children:e.author}),(0,Gu.jsx)("td",{className:"px-2 py-1 text-sm text-gray-700",children:e.isbn}),(0,Gu.jsx)("td",{className:"px-2 py-1 text-right",children:(0,Gu.jsx)("button",{className:"text-xs text-red-500 hover:underline ml-2",onClick:()=>S(_.filter(t=>t.id!==e.id)),children:"Remove"})})]},e.id))})]}),(0,Gu.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,Gu.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>g(3),disabled:0===_.length,children:"Continue"}),(0,Gu.jsx)("button",{className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",onClick:()=>h(null),children:"Cancel"})]})]}),2===p&&(0,Gu.jsx)(zw,{onScan:J,onClose:()=>h(null),autoClose:!1,clearScan:()=>W&&W(null),scannedCount:_.length,title:"Scan Book(s)",children:(0,Gu.jsx)("button",{onClick:()=>g(4),className:"w-full py-2 mt-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:0===_.length,children:"Loan Book(s)"})})]}),4===p&&m&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("div",{className:"text-white text-2xl mb-6",children:"Loan Overview"}),(0,Gu.jsxs)("div",{className:"w-full max-w-md bg-white rounded-lg p-4 mb-4",children:[(0,Gu.jsx)("div",{className:"font-semibold mb-2",children:"User:"}),(0,Gu.jsxs)("div",{className:"mb-2",children:[m.name||m.displayName," (",m.email,")"]}),(0,Gu.jsx)("div",{className:"font-semibold mb-2",children:"Books:"}),(0,Gu.jsxs)("table",{className:"w-full bg-white rounded-lg mb-4",children:[(0,Gu.jsx)("thead",{children:(0,Gu.jsxs)("tr",{children:[(0,Gu.jsx)("th",{className:"px-2 py-1 text-left text-xs font-semibold text-gray-700",children:"Title"}),(0,Gu.jsx)("th",{className:"px-2 py-1 text-left text-xs font-semibold text-gray-700",children:"Author"}),(0,Gu.jsx)("th",{className:"px-2 py-1 text-left text-xs font-semibold text-gray-700",children:"ISBN"})]})}),(0,Gu.jsx)("tbody",{children:_.map(e=>(0,Gu.jsxs)("tr",{children:[(0,Gu.jsx)("td",{className:"px-2 py-1 text-sm text-gray-900",children:e.title}),(0,Gu.jsx)("td",{className:"px-2 py-1 text-sm text-gray-700",children:e.author}),(0,Gu.jsx)("td",{className:"px-2 py-1 text-sm text-gray-700",children:e.isbn})]},e.id))})]}),(0,Gu.jsx)("div",{className:"font-semibold mb-2",children:"Do you have any more books that you want to loan?"}),(0,Gu.jsxs)("div",{className:"flex space-x-4 mt-2",children:[(0,Gu.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>g(2),children:"Yes"}),(0,Gu.jsx)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",onClick:ee,disabled:C,children:C?"Processing...":"No, loan these books"})]})]})]})]})]})]}):"return"===u?(0,Gu.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:[(0,Gu.jsx)("button",{className:"absolute top-6 right-8 text-white text-3xl font-bold hover:text-gray-300",onClick:()=>h(null),children:"\xd7"}),(0,Gu.jsxs)("div",{className:"flex flex-col items-center w-full h-full",children:[(0,Gu.jsxs)("div",{className:"pt-20 pb-4",children:[(0,Gu.jsx)("img",{src:d,alt:"App Logo",className:"h-56 w-auto max-w-2xl mx-auto",style:{filter:"brightness(0) invert(1)"},onError:e=>{e.target.src="https://placehold.co/60x60/3b82f6/ffffff?text=LIB"}}),(0,Gu.jsx)("h2",{className:"text-white text-4xl font-extrabold mt-2 text-center",children:f||"Return"})]}),(0,Gu.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center w-full -mt-60",children:[0===x&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("div",{className:"text-white text-2xl mb-6",children:"Scan Library Card"}),L&&(0,Gu.jsx)("div",{className:"text-red-400 mb-2",children:L}),!N&&(0,Gu.jsx)(zw,{onScan:te,onClose:()=>h(null),autoClose:!1})]}),1===x&&N&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("div",{className:"text-white text-xl mb-2",children:"Active Loans"}),0===R.length?(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("div",{className:"text-green-400 mb-4",children:"You have no active loans. Thank you for returning your books."}),(0,Gu.jsx)("button",{className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",onClick:()=>h(null),children:"Logout"})]}):(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("ul",{className:"bg-white rounded-lg p-4 space-y-2 w-full max-w-md mb-4",children:R.map(e=>{const t=o.find(t=>t.id===e.bookId);return(0,Gu.jsx)("li",{className:"flex justify-between items-center",children:(0,Gu.jsxs)("span",{children:[t?t.title:"Unknown Book"," ",(0,Gu.jsxs)("span",{className:"text-xs text-gray-500",children:["(",t?t.author:"",")"]})]})},e.id)})}),L&&(0,Gu.jsx)("div",{className:"text-red-400 mb-2",children:L}),(0,Gu.jsx)(zw,{onScan:re,onClose:()=>h(null),autoClose:!1,title:"Hi, ".concat(N.name||N.displayName,"! (Library Card ID: ").concat(N.cardNumber||"N/A",")\nScan book(s) you wish to return")}),(0,Gu.jsx)("div",{className:"flex space-x-4 mt-4",children:(0,Gu.jsx)("button",{className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",onClick:()=>h(null),children:"Done"})})]})]})]})]})]}):null};var rb={version:"0.18.5"},nb=1200,ib=1252,ob=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ab={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},sb=function(e){-1!=ob.indexOf(e)&&(ib=ab[0]=e)};var cb=function(e){nb=e,sb(e)};function lb(){cb(1200),sb(1252)}function ub(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function hb(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var fb,db=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return 255==t&&254==r?function(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==r?hb(e.slice(2)):65279==t?e.slice(1):e},pb=function(e){return String.fromCharCode(e)},gb=function(e){return String.fromCharCode(e)};var mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vb(e){for(var t="",r=0,n=0,i=0,o=0,a=0,s=0,c=0,l=0;l<e.length;)o=(r=e.charCodeAt(l++))>>2,a=(3&r)<<4|(n=e.charCodeAt(l++))>>4,s=(15&n)<<2|(i=e.charCodeAt(l++))>>6,c=63&i,isNaN(n)?s=c=64:isNaN(i)&&(c=64),t+=mb.charAt(o)+mb.charAt(a)+mb.charAt(s)+mb.charAt(c);return t}function yb(e){var t="",r=0,n=0,i=0,o=0,a=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)r=mb.indexOf(e.charAt(c++))<<2|(o=mb.indexOf(e.charAt(c++)))>>4,t+=String.fromCharCode(r),n=(15&o)<<4|(a=mb.indexOf(e.charAt(c++)))>>2,64!==a&&(t+=String.fromCharCode(n)),i=(3&a)<<6|(s=mb.indexOf(e.charAt(c++))),64!==s&&(t+=String.fromCharCode(i));return t}var wb=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),bb=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Eb(e){return wb?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function _b(e){return wb?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Sb=function(e){return wb?bb(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function Cb(e){if("undefined"===typeof ArrayBuffer)return Sb(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function Ab(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Tb(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Tb(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ib=wb?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:bb(e)}))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var xb=/\u0000/g,kb=/[\u0001-\u0006]/g;function Nb(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ob(e,t){var r=""+e;return r.length>=t?r:GE("0",t-r.length)+r}function Rb(e,t){var r=""+e;return r.length>=t?r:GE(" ",t-r.length)+r}function Db(e,t){var r=""+e;return r.length>=t?r:r+GE(" ",t-r.length)}var Pb=Math.pow(2,32);function Mb(e,t){return e>Pb||e<-Pb?function(e,t){var r=""+Math.round(e);return r.length>=t?r:GE("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:GE("0",t-r.length)+r}(Math.round(e),t)}function Lb(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var Fb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Bb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var jb={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},Ub={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Vb={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zb(e,t,r){for(var n=e<0?-1:1,i=e*n,o=0,a=1,s=0,c=1,l=0,u=0,h=Math.floor(i);l<t&&(s=(h=Math.floor(i))*a+o,u=h*l+c,!(i-h<5e-8));)i=1/(i-h),o=a,a=s,c=l,l=u;if(u>t&&(l>t?(u=c,s=o):(u=l,s=a)),!r)return[0,n*s,u];var f=Math.floor(n*s/u);return[f,n*s-f*u,u]}function Hb(e,t,r){if(e>2958465||e<0)return null;var n=0|e,i=Math.floor(86400*(e-n)),o=0,a=[],s={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++n,++s.D)),60===n)a=r?[1317,10,29]:[1900,2,29],o=3;else if(0===n)a=r?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],o=c.getDay(),n<60&&(o=(o+6)%7),r&&(o=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(c,a))}return s.y=a[0],s.m=a[1],s.d=a[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=o,s}var Wb=new Date(1899,11,31,0,0,0),Gb=Wb.getTime(),Xb=new Date(1900,2,1,0,0,0);function Kb(e,t){var r=e.getTime();return t?r-=1262304e5:e>=Xb&&(r+=864e5),(r-(Gb+6e4*(e.getTimezoneOffset()-Wb.getTimezoneOffset())))/864e5}function qb(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Yb(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=qb(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=qb(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),qb(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function Zb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):Yb(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return vE(14,Kb(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function $b(e,t,r,n){var i,o="",a=0,s=0,c=r.y,l=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:i=c%100,l=2;break;default:i=c%1e4,l=4}break;case 109:switch(t.length){case 1:case 2:i=r.m,l=t.length;break;case 3:return Bb[r.m-1][1];case 5:return Bb[r.m-1][0];default:return Bb[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=r.d,l=t.length;break;case 3:return Fb[r.q][0];default:return Fb[r.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(r.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=r.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=r.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(s=n>=2?3===n?1e3:100:1===n?10:1,(a=Math.round(s*(r.S+r.u)))>=60*s&&(a=0),"s"===t?0===a?"0":""+a/s:(o=Ob(a,2+n),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):Ob(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*r.D+r.H;break;case"[m]":case"[mm]":i=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":i=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}l=3===t.length?1:2;break;case 101:i=c,l=1}return l>0?Ob(i,l):""}function Qb(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var Jb=/%/g;function eE(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+eE(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),-1===(r=(t/Math.pow(10,o)).toPrecision(n+1+(i+o)%i)).indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+o):r+="E+"+(a-o);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(i+o)%i)+"."+n.substr(o)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tE=/# (\?+)( ?)\/( ?)(\d+)/;var rE=/^#*0*\.([0#]+)/,nE=/\).*[0#]/,iE=/\(###\) ###\\?-####/;function oE(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function aE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function sE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function cE(e,t,r){if(40===e.charCodeAt(0)&&!t.match(nE)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?cE("n",n,r):"("+cE("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return hE(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(Jb,""),i=t.length-n.length;return hE(e,n,r*Math.pow(10,2*i))+GE("%",i)}(e,t,r);if(-1!==t.indexOf("E"))return eE(t,r);if(36===t.charCodeAt(0))return"$"+cE(e,t.substr(" "==t.charAt(1)?2:1),r);var i,o,a,s,c=Math.abs(r),l=r<0?"-":"";if(t.match(/^00+$/))return l+Mb(c,t.length);if(t.match(/^[#?]+$/))return"0"===(i=Mb(r,0))&&(i=""),i.length>t.length?i:oE(t.substr(0,t.length-i.length))+i;if(o=t.match(tE))return function(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),o=Math.floor(i/n),a=i-o*n,s=n;return r+(0===o?"":""+o)+" "+(0===a?GE(" ",e[1].length+1+e[4].length):Rb(a,e[1].length)+e[2]+"/"+e[3]+Ob(s,e[4].length))}(o,c,l);if(t.match(/^#+0+$/))return l+Mb(c,t.length-t.indexOf("0"));if(o=t.match(rE))return i=aE(r,o[1].length).replace(/^([^\.]+)$/,"$1."+oE(o[1])).replace(/\.$/,"."+oE(o[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+GE("0",oE(o[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return l+aE(c,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return l+Qb(Mb(c,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+cE(e,t,-r):Qb(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,o[1].length)))+"."+Ob(sE(r,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return cE(e,t.replace(/^#,#*,/,""),r);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nb(cE(e,t.replace(/[\\-]/g,""),r)),a=0,Nb(Nb(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""}));if(t.match(iE))return"("+(i=cE(e,"##########",r)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=zb(c,Math.pow(10,a)-1,!1),i=""+l," "==(u=hE("n",o[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=Db(s[2],a)).length<o[4].length&&(u=oE(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),l+((s=zb(c,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?Rb(s[1],a)+o[2]+"/"+o[3]+Db(s[2],a):GE(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=Mb(r,0),t.length<=i.length?i:oE(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,f=t.length-i.length-h;return oE(t.substr(0,h)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return a=sE(r,o[1].length),r<0?"-"+cE(e,t,-r):Qb(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?Ob(0,3-e.length):"")+e})+"."+Ob(a,o[1].length);switch(t){case"###,##0.00":return cE(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Qb(Mb(c,0));return"0"!==d?l+d:"";case"###,###.00":return cE(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return cE(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lE(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+lE(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),!(r=(t/Math.pow(10,o)).toPrecision(n+1+(i+o)%i)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+o):r+="E+"+(a-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(i+o)%i)+"."+n.substr(o)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function uE(e,t,r){if(40===e.charCodeAt(0)&&!t.match(nE)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?uE("n",n,r):"("+uE("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return hE(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(Jb,""),i=t.length-n.length;return hE(e,n,r*Math.pow(10,2*i))+GE("%",i)}(e,t,r);if(-1!==t.indexOf("E"))return lE(t,r);if(36===t.charCodeAt(0))return"$"+uE(e,t.substr(" "==t.charAt(1)?2:1),r);var i,o,a,s,c=Math.abs(r),l=r<0?"-":"";if(t.match(/^00+$/))return l+Ob(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,0===r&&(i=""),i.length>t.length?i:oE(t.substr(0,t.length-i.length))+i;if(o=t.match(tE))return function(e,t,r){return r+(0===t?"":""+t)+GE(" ",e[1].length+2+e[4].length)}(o,c,l);if(t.match(/^#+0+$/))return l+Ob(c,t.length-t.indexOf("0"));if(o=t.match(rE))return i=(i=(""+r).replace(/^([^\.]+)$/,"$1."+oE(o[1])).replace(/\.$/,"."+oE(o[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+GE("0",oE(o[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return l+Qb(""+c);if(o=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+uE(e,t,-r):Qb(""+r)+"."+GE("0",o[1].length);if(o=t.match(/^#,#*,#0/))return uE(e,t.replace(/^#,#*,/,""),r);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nb(uE(e,t.replace(/[\\-]/g,""),r)),a=0,Nb(Nb(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""}));if(t.match(iE))return"("+(i=uE(e,"##########",r)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=zb(c,Math.pow(10,a)-1,!1),i=""+l," "==(u=hE("n",o[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=Db(s[2],a)).length<o[4].length&&(u=oE(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),l+((s=zb(c,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?Rb(s[1],a)+o[2]+"/"+o[3]+Db(s[2],a):GE(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:oE(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,f=t.length-i.length-h;return oE(t.substr(0,h)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+uE(e,t,-r):Qb(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?Ob(0,3-e.length):"")+e})+"."+Ob(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Qb(""+c);return"0"!==d?l+d:"";default:if(t.match(/\.[0#?]*$/))return uE(e,t.slice(0,t.lastIndexOf(".")),r)+oE(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function hE(e,t,r){return(0|r)===r?uE(e,t,r):cE(e,t,r)}var fE=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dE(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Lb(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(fE))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var pE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gE(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function mE(e,t){var r=function(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!==typeof t)return[4,4===r.length||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var o=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,o];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var a=r[0].match(pE),s=r[1].match(pE);return gE(t,a)?[n,r[0]]:gE(t,s)?[n,r[1]]:[n,r[null!=a&&null!=s?2:1]]}return[n,o]}function vE(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:jb)[e])&&(n=r.table&&r.table[Ub[e]]||jb[Ub[e]]),null==n&&(n=Vb[e]||"General")}if(Lb(n,0))return Zb(t,r);t instanceof Date&&(t=Kb(t,r.date1904));var i=mE(n,t);if(Lb(i[1]))return Zb(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var i,o,a,s=[],c="",l=0,u="",h="t",f="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!Lb(e,l))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(c="";34!==(a=e.charCodeAt(++l))&&l<e.length;)c+=String.fromCharCode(a);s[s.length]={t:"t",v:c},++l;break;case"\\":var d=e.charAt(++l),p="("===d||")"===d?d:"t";s[s.length]={t:p,v:d},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:t},++l;break;case"B":case"b":if("1"===e.charAt(l+1)||"2"===e.charAt(l+1)){if(null==i&&null==(i=Hb(t,r,"2"===e.charAt(l+1))))return"";s[s.length]={t:"X",v:e.substr(l,2)},h=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=Hb(t,r)))return"";for(c=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)c+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=f),s[s.length]={t:u,v:c},h=u;break;case"A":case"a":case"\u4e0a":var g={t:u,v:u};if(null==i&&(i=Hb(t,r)),"A/P"===e.substr(l,3).toUpperCase()?(null!=i&&(g.v=i.H>=12?"P":"A"),g.t="T",f="h",l+=3):"AM/PM"===e.substr(l,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"PM":"AM"),g.t="T",l+=5,f="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(l,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),g.t="T",l+=5,f="h"):(g.t="t",++l),null==i&&"T"===g.t)return"";s[s.length]=g,h=u;break;case"[":for(c=u;"]"!==e.charAt(l++)&&l<e.length;)c+=e.charAt(l);if("]"!==c.slice(-1))throw'unterminated "[" block: |'+c+"|";if(c.match(fE)){if(null==i&&null==(i=Hb(t,r)))return"";s[s.length]={t:"Z",v:c.toLowerCase()},h=c.charAt(1)}else c.indexOf("$")>-1&&(c=(c.match(/\$([^-\[\]]*)/)||[])[1]||"$",dE(e)||(s[s.length]={t:"t",v:c}));break;case".":if(null!=i){for(c=u;++l<e.length&&"0"===(u=e.charAt(l));)c+=u;s[s.length]={t:"s",v:c};break}case"0":case"#":for(c=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)c+=u;s[s.length]={t:"n",v:c};break;case"?":for(c=u;e.charAt(++l)===u;)c+=u;s[s.length]={t:u,v:c},h=u;break;case"*":++l," "!=e.charAt(l)&&"*"!=e.charAt(l)||++l;break;case"(":case")":s[s.length]={t:1===n?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(c=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)c+=e.charAt(l);s[s.length]={t:"D",v:c};break;case" ":s[s.length]={t:u,v:u},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++l}var m,v=0,y=0;for(l=s.length-1,h="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=f,h="h",v<1&&(v=1);break;case"s":(m=s[l].v.match(/\.0+$/))&&(y=Math.max(y,m[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=s[l].t;break;case"m":"s"===h&&(s[l].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[l].v.match(/[Hh]/)&&(v=1),v<2&&s[l].v.match(/[Mm]/)&&(v=2),v<3&&s[l].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var w,b="";for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=$b(s[l].t.charCodeAt(0),s[l].v,i,y),s[l].t="t";break;case"n":case"?":for(w=l+1;null!=s[w]&&("?"===(u=s[w].t)||"D"===u||(" "===u||"t"===u)&&null!=s[w+1]&&("?"===s[w+1].t||"t"===s[w+1].t&&"/"===s[w+1].v)||"("===s[l].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[w].v||" "===s[w].v&&null!=s[w+1]&&"?"==s[w+1].t));)s[l].v+=s[w].v,s[w]={v:"",t:";"},++w;b+=s[l].v,l=w-1;break;case"G":s[l].t="t",s[l].v=Zb(t,r)}var E,_,S="";if(b.length>0){40==b.charCodeAt(0)?(E=t<0&&45===b.charCodeAt(0)?-t:t,_=hE("n",b,E)):(_=hE("n",b,E=t<0&&n>1?-t:t),E<0&&s[0]&&"t"==s[0].t&&(_=_.substr(1),s[0].v="-"+s[0].v)),w=_.length-1;var C=s.length;for(l=0;l<s.length;++l)if(null!=s[l]&&"t"!=s[l].t&&s[l].v.indexOf(".")>-1){C=l;break}var A=s.length;if(C===s.length&&-1===_.indexOf("E")){for(l=s.length-1;l>=0;--l)null!=s[l]&&-1!=="n?".indexOf(s[l].t)&&(w>=s[l].v.length-1?(w-=s[l].v.length,s[l].v=_.substr(w+1,s[l].v.length)):w<0?s[l].v="":(s[l].v=_.substr(0,w+1),w=-1),s[l].t="t",A=l);w>=0&&A<s.length&&(s[A].v=_.substr(0,w+1)+s[A].v)}else if(C!==s.length&&-1===_.indexOf("E")){for(w=_.indexOf(".")-1,l=C;l>=0;--l)if(null!=s[l]&&-1!=="n?".indexOf(s[l].t)){for(o=s[l].v.indexOf(".")>-1&&l===C?s[l].v.indexOf(".")-1:s[l].v.length-1,S=s[l].v.substr(o+1);o>=0;--o)w>=0&&("0"===s[l].v.charAt(o)||"#"===s[l].v.charAt(o))&&(S=_.charAt(w--)+S);s[l].v=S,s[l].t="t",A=l}for(w>=0&&A<s.length&&(s[A].v=_.substr(0,w+1)+s[A].v),w=_.indexOf(".")+1,l=C;l<s.length;++l)if(null!=s[l]&&(-1!=="n?(".indexOf(s[l].t)||l===C)){for(o=s[l].v.indexOf(".")>-1&&l===C?s[l].v.indexOf(".")+1:0,S=s[l].v.substr(0,o);o<s[l].v.length;++o)w<_.length&&(S+=_.charAt(w++));s[l].v=S,s[l].t="t",A=l}}}for(l=0;l<s.length;++l)null!=s[l]&&"n?".indexOf(s[l].t)>-1&&(E=n>1&&t<0&&l>0&&"-"===s[l-1].v?-t:t,s[l].v=hE(s[l].t,s[l].v,E),s[l].t="t");var T="";for(l=0;l!==s.length;++l)null!=s[l]&&(T+=s[l].v);return T}(i[1],t,r,i[0])}function yE(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(void 0!=jb[r]){if(jb[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return jb[t]=e,t}function wE(e){for(var t=0;392!=t;++t)void 0!==e[t]&&yE(e[t],t)}function bE(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',jb=e}var EE={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},_E=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var SE=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var o=[];for(n=1;16!=n;++n)o[n-1]="undefined"!==typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return o}(t),n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],h=r[8],f=r[9],d=r[10],p=r[11],g=r[12],m=r[13],v=r[14];return e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=0,o=e.length;i<o;)n=n>>>8^t[255&(n^e.charCodeAt(i++))];return~n},e.buf=function(e,r){for(var y=-1^r,w=e.length-15,b=0;b<w;)y=v[e[b++]^255&y]^m[e[b++]^y>>8&255]^g[e[b++]^y>>16&255]^p[e[b++]^y>>>24]^d[e[b++]]^f[e[b++]]^h[e[b++]]^u[e[b++]]^l[e[b++]]^c[e[b++]]^s[e[b++]]^a[e[b++]]^o[e[b++]]^i[e[b++]]^n[e[b++]]^t[e[b++]];for(w+=15;b<w;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,r){for(var n=-1^r,i=0,o=e.length,a=0,s=0;i<o;)(a=e.charCodeAt(i++))<128?n=n>>>8^t[255&(n^a)]:a<2048?n=(n=n>>>8^t[255&(n^(192|a>>6&31))])>>>8^t[255&(n^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),s=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[255&(n^(240|a>>8&7))])>>>8^t[255&(n^(128|a>>2&63))])>>>8^t[255&(n^(128|s>>6&15|(3&a)<<4))])>>>8^t[255&(n^(128|63&s))]):n=(n=(n=n>>>8^t[255&(n^(224|a>>12&15))])>>>8^t[255&(n^(128|a>>6&63))])>>>8^t[255&(n^(128|63&a))];return~n},e}(),CE=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"===typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function o(e){KS(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),i=e.read_shift(2),o=e.l+i,a={};if(21589===n)1&(r=e.read_shift(1))&&(a.mtime=e.read_shift(4)),i>5&&(2&r&&(a.atime=e.read_shift(4)),4&r&&(a.ctime=e.read_shift(4))),a.mtime&&(a.mt=new Date(1e3*a.mtime));e.l=o,t[n]=a}return t}function a(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=_(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(wb&&Buffer.isBuffer(e)?e.toString("binary"):_(e)).split("\r\n"),i=0,o="";for(i=0;i<n.length;++i)if(o=n[i],/^Content-Location:/i.test(o)&&(o=o.slice(o.indexOf("file")),r||(r=o.slice(0,o.lastIndexOf("/")+1)),o.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),o.slice(0,r.length)!=r););var a=(n[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var s="--"+(a[1]||""),c=[],l=[],u={FileIndex:c,FullPaths:l};f(u);var h,d=0;for(i=0;i<n.length;++i){var p=n[i];p!==s&&p!==s+"--"||(d++&&le(u,n.slice(h,i),r),h=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,i,o,a,s,d=512,p=[],g=e.slice(0,512);KS(g,0);var m=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(g);switch(r=m[0]){case 3:d=512;break;case 4:d=4096;break;case 0:if(0==m[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==d&&KS(g=e.slice(0,d),28);var w=e.slice(0,d);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(g,r);var b=g.read_shift(4,"i");if(3===r&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);g.l+=4,o=g.read_shift(4,"i"),g.l+=4,g.chk("00100000","Mini Stream Cutoff Size: "),a=g.read_shift(4,"i"),n=g.read_shift(4,"i"),s=g.read_shift(4,"i"),i=g.read_shift(4,"i");for(var E=-1,S=0;S<109&&!((E=g.read_shift(4,"i"))<0);++S)p[S]=E;var C=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],i=1;i<r;++i)n[i-1]=e.slice(i*t,(i+1)*t);return n[r-1]=e.slice(r*t),n}(e,d);l(s,i,C,d,p);var A=function(e,t,r,n){var i=e.length,o=[],a=[],s=[],c=[],l=n-1,u=0,h=0,f=0,d=0;for(u=0;u<i;++u)if(s=[],(f=u+t)>=i&&(f-=i),!a[f]){c=[];var p=[];for(h=f;h>=0;){p[h]=!0,a[h]=!0,s[s.length]=h,c.push(e[h]);var g=r[Math.floor(4*h/n)];if(n<4+(d=4*h&l))throw new Error("FAT boundary crossed: "+h+" 4 "+n);if(!e[g])break;if(p[h=jS(e[g],d)])break}o[f]={nodes:s,data:pS([c])}}return o}(C,o,p,d);A[o].name="!Directory",n>0&&a!==v&&(A[a].name="!MiniFAT"),A[p[0]].name="!FAT",A.fat_addrs=p,A.ssz=d;var T=[],I=[],x=[];!function(e,t,r,n,i,o,a,s){for(var l,f=0,d=n.length?2:0,p=t[e].data,g=0,m=0;g<p.length;g+=128){var y=p.slice(g,g+128);KS(y,64),m=y.read_shift(2),l=mS(y,0,m-d),n.push(l);var w={name:l,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(w.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(w.mt=h(y,y.l-8)),w.start=y.read_shift(4,"i"),w.size=y.read_shift(4,"i"),w.size<0&&w.start<0&&(w.size=w.type=0,w.start=v,w.name=""),5===w.type?(f=w.start,i>0&&f!==v&&(t[f].name="!StreamData")):w.size>=4096?(w.storage="fat",void 0===t[w.start]&&(t[w.start]=u(r,w.start,t.fat_addrs,t.ssz)),t[w.start].name=w.name,w.content=t[w.start].data.slice(0,w.size)):(w.storage="minifat",w.size<0?w.size=0:f!==v&&w.start!==v&&t[f]&&(w.content=c(w,t[f].data,(t[s]||{}).data))),w.content&&KS(w.content,0),o[l]=w,a.push(w)}}(o,A,C,T,n,{},I,a),function(e,t,r){for(var n=0,i=0,o=0,a=0,s=0,c=r.length,l=[],u=[];n<c;++n)l[n]=u[n]=n,t[n]=r[n];for(;s<u.length;++s)i=e[n=u[s]].L,o=e[n].R,a=e[n].C,l[n]===n&&(-1!==i&&l[i]!==i&&(l[n]=l[i]),-1!==o&&l[o]!==o&&(l[n]=l[o])),-1!==a&&(l[a]=n),-1!==i&&n!=l[n]&&(l[i]=l[n],u.lastIndexOf(i)<s&&u.push(i)),-1!==o&&n!=l[n]&&(l[o]=l[n],u.lastIndexOf(o)<s&&u.push(o));for(n=1;n<c;++n)l[n]===n&&(-1!==o&&l[o]!==o?l[n]=l[o]:-1!==i&&l[i]!==i&&(l[n]=l[i]));for(n=1;n<c;++n)if(0!==e[n].type){if((s=n)!=l[s])do{s=l[s],t[n]=t[s]+"/"+t[n]}while(0!==s&&-1!==l[s]&&s!=l[s]);l[n]=-1}for(t[0]+="/",n=1;n<c;++n)2!==e[n].type&&(t[n]+="/")}(I,x,T),T.shift();var k={FileIndex:I,FullPaths:x};return t&&t.raw&&(k.raw={header:w,sectors:C}),k}function c(e,t,r){for(var n=e.start,i=e.size,o=[],a=n;r&&i>0&&a>=0;)o.push(t.slice(a*m,a*m+m)),i-=m,a=jS(r,4*a);return 0===o.length?YS(0):Ib(o).slice(0,e.size)}function l(e,t,r,n,i){var o=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var a=r[e],s=(n>>>2)-1;if(!a)return;for(var c=0;c<s&&(o=jS(a,4*c))!==v;++c)i.push(o);l(jS(a,n-4),t-1,r,n,i)}}function u(e,t,r,n,i){var o=[],a=[];i||(i=[]);var s=n-1,c=0,l=0;for(c=t;c>=0;){i[c]=!0,o[o.length]=c,a.push(e[c]);var u=r[Math.floor(4*c/n)];if(n<4+(l=4*c&s))throw new Error("FAT boundary crossed: "+c+" 4 "+n);if(!e[u])break;c=jS(e[u],l)}return{nodes:o,data:pS([a])}}function h(e,t){return new Date(1e3*(BS(e,t+4)/1e7*Math.pow(2,32)+BS(e,t)/1e7-11644473600))}function f(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="\x01Sh33tJ5";if(CE.find(e,"/"+t))return;var r=YS(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),d(e)}(e)}function d(e,t){f(e);for(var i=!1,o=!1,a=e.FullPaths.length-1;a>=0;--a){var s=e.FileIndex[a];switch(s.type){case 0:o?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:o=!0,isNaN(s.R*s.L*s.C)&&(i=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(i=!0);break;default:i=!0}}if(i||t){var c=new Date(1987,1,19),l=0,u=Object.create?Object.create(null):{},h=[];for(a=0;a<e.FullPaths.length;++a)u[e.FullPaths[a]]=!0,0!==e.FileIndex[a].type&&h.push([e.FullPaths[a],e.FileIndex[a]]);for(a=0;a<h.length;++a){var d=r(h[a][0]);(o=u[d])||(h.push([d,{name:n(d).replace("/",""),type:1,clsid:b,ct:c,mt:c,content:null}]),u[d]=!0)}for(h.sort(function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),i=0,o=0,a=Math.min(r.length,n.length);i<a;++i){if(o=r[i].length-n[i].length)return o;if(r[i]!=n[i])return r[i]<n[i]?-1:1}return r.length-n.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],a=0;a<h.length;++a)e.FullPaths[a]=h[a][0],e.FileIndex[a]=h[a][1];for(a=0;a<h.length;++a){var p=e.FileIndex[a],g=e.FullPaths[a];if(p.name=n(g).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===a)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==g.slice(-1)){for(l=a+1;l<h.length&&r(e.FullPaths[l])!=g;++l);for(p.C=l>=h.length?-1:l,l=a+1;l<h.length&&r(e.FullPaths[l])!=r(g);++l);p.R=l>=h.length?-1:l,p.type=1}else r(e.FullPaths[a+1]||"")==r(g)&&(p.R=a+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],o=e.FullPaths[0],a=o,s=e.FileIndex[0],c=1;c<e.FullPaths.length;++c)if(a=e.FullPaths[c].slice(o.length),(s=e.FileIndex[c]).size&&s.content&&"\x01Sh33tJ5"!=a){a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var l=s.content,u=wb&&Buffer.isBuffer(l)?l.toString("binary"):_(l),h=0,f=Math.min(1024,u.length),d=0,p=0;p<=f;++p)(d=u.charCodeAt(p))>=32&&d<128&&++h;var g=h>=4*f/5;i.push(n),i.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+a),i.push("Content-Transfer-Encoding: "+(g?"quoted-printable":"base64")),i.push("Content-Type: "+ae(s,a)),i.push(""),i.push(g?ce(u):se(u))}return i.push(n+"--\r\n"),i.join("\r\n")}(e,r);if(d(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],o=[],a=YS(1),s=r.compression?8:0,c=0;0;var l=0,u=0,h=0,f=0,d=e.FullPaths[0],p=d,g=e.FileIndex[0],m=[],v=0;for(l=1;l<e.FullPaths.length;++l)if(p=e.FullPaths[l].slice(d.length),(g=e.FileIndex[l]).size&&g.content&&"\x01Sh33tJ5"!=p){var y=h,w=YS(p.length);for(u=0;u<p.length;++u)w.write_shift(1,127&p.charCodeAt(u));w=w.slice(0,w.l),m[f]=SE.buf(g.content,0);var b=g.content;8==s&&(b=S(b)),(a=YS(30)).write_shift(4,67324752),a.write_shift(2,20),a.write_shift(2,c),a.write_shift(2,s),g.mt?i(a,g.mt):a.write_shift(4,0),a.write_shift(-4,8&c?0:m[f]),a.write_shift(4,8&c?0:b.length),a.write_shift(4,8&c?0:g.content.length),a.write_shift(2,w.length),a.write_shift(2,0),h+=a.length,n.push(a),h+=w.length,n.push(w),h+=b.length,n.push(b),8&c&&((a=YS(12)).write_shift(-4,m[f]),a.write_shift(4,b.length),a.write_shift(4,g.content.length),h+=a.l,n.push(a)),(a=YS(46)).write_shift(4,33639248),a.write_shift(2,0),a.write_shift(2,20),a.write_shift(2,c),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(-4,m[f]),a.write_shift(4,b.length),a.write_shift(4,g.content.length),a.write_shift(2,w.length),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a.write_shift(4,y),v+=a.l,o.push(a),v+=w.length,o.push(w),++f}return a=YS(22),a.write_shift(4,101010256),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,f),a.write_shift(2,f),a.write_shift(4,v),a.write_shift(4,h),a.write_shift(2,0),Ib([Ib(n),Ib(o),a])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var i=e.FileIndex[n];if(i.content){var o=i.content.length;o>0&&(o<4096?t+=o+63>>6:r+=o+511>>9)}}for(var a=e.FullPaths.length+3>>2,s=t+127>>7,c=(t+7>>3)+r+a+s,l=c+127>>7,u=l<=109?0:Math.ceil((l-109)/127);c+l+u+127>>7>l;)u=++l<=109?0:Math.ceil((l-109)/127);var h=[1,u,l,s,a,r,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),o=YS(n[7]<<9),a=0,s=0;for(a=0;a<8;++a)o.write_shift(1,w[a]);for(a=0;a<8;++a)o.write_shift(2,0);for(o.write_shift(2,62),o.write_shift(2,3),o.write_shift(2,65534),o.write_shift(2,9),o.write_shift(2,6),a=0;a<3;++a)o.write_shift(2,0);for(o.write_shift(4,0),o.write_shift(4,n[2]),o.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),o.write_shift(4,0),o.write_shift(4,4096),o.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:v),o.write_shift(4,n[3]),o.write_shift(-4,n[1]?n[0]-1:v),o.write_shift(4,n[1]),a=0;a<109;++a)o.write_shift(-4,a<n[2]?n[1]+a:-1);if(n[1])for(s=0;s<n[1];++s){for(;a<236+127*s;++a)o.write_shift(-4,a<n[2]?n[1]+a:-1);o.write_shift(-4,s===n[1]-1?v:s+1)}var c=function(e){for(s+=e;a<s-1;++a)o.write_shift(-4,a+1);e&&(++a,o.write_shift(-4,v))};for(s=a=0,s+=n[1];a<s;++a)o.write_shift(-4,E.DIFSECT);for(s+=n[2];a<s;++a)o.write_shift(-4,E.FATSECT);c(n[3]),c(n[4]);for(var l=0,u=0,h=e.FileIndex[0];l<e.FileIndex.length;++l)(h=e.FileIndex[l]).content&&((u=h.content.length)<4096||(h.start=s,c(u+511>>9)));for(c(n[6]+7>>3);511&o.l;)o.write_shift(-4,E.ENDOFCHAIN);for(s=a=0,l=0;l<e.FileIndex.length;++l)(h=e.FileIndex[l]).content&&(!(u=h.content.length)||u>=4096||(h.start=s,c(u+63>>6)));for(;511&o.l;)o.write_shift(-4,E.ENDOFCHAIN);for(a=0;a<n[4]<<2;++a){var f=e.FullPaths[a];if(f&&0!==f.length){h=e.FileIndex[a],0===a&&(h.start=h.size?h.start-1:v);var p=0===a&&r.root||h.name;if(u=2*(p.length+1),o.write_shift(64,p,"utf16le"),o.write_shift(2,u),o.write_shift(1,h.type),o.write_shift(1,h.color),o.write_shift(-4,h.L),o.write_shift(-4,h.R),o.write_shift(-4,h.C),h.clsid)o.write_shift(16,h.clsid,"hex");else for(l=0;l<4;++l)o.write_shift(4,0);o.write_shift(4,h.state||0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,h.start),o.write_shift(4,h.size),o.write_shift(4,0)}else{for(l=0;l<17;++l)o.write_shift(4,0);for(l=0;l<3;++l)o.write_shift(4,-1);for(l=0;l<12;++l)o.write_shift(4,0)}}for(a=1;a<e.FileIndex.length;++a)if((h=e.FileIndex[a]).size>=4096)if(o.l=h.start+1<<9,wb&&Buffer.isBuffer(h.content))h.content.copy(o,o.l,0,h.size),o.l+=h.size+511&-512;else{for(l=0;l<h.size;++l)o.write_shift(1,h.content[l]);for(;511&l;++l)o.write_shift(1,0)}for(a=1;a<e.FileIndex.length;++a)if((h=e.FileIndex[a]).size>0&&h.size<4096)if(wb&&Buffer.isBuffer(h.content))h.content.copy(o,o.l,0,h.size),o.l+=h.size+63&-64;else{for(l=0;l<h.size;++l)o.write_shift(1,h.content[l]);for(;63&l;++l)o.write_shift(1,0)}if(wb)o.l=o.length;else for(;o.l<o.length;)o.write_shift(1,0);return o}t.version="1.2.1";var g,m=64,v=-2,y="d0cf11e0a1b11ae1",w=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",E={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function S(e){return g?g.deflateRawSync(e):q(e)}var C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function I(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var x="undefined"!==typeof Uint8Array,k=x?new Uint8Array(256):[],N=0;N<256;++N)k[N]=I(N);function O(e,t){var r=k[255&e];return t<=8?r>>>8-t:(r=r<<8|k[e>>8&255],t<=16?r>>>16-t:(r=r<<8|k[e>>16&255])>>>24-t)}function R(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function D(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function P(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function M(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function L(e,t,r){var n=7&t,i=t>>>3,o=(1<<r)-1,a=e[i]>>>n;return r<8-n?a&o:(a|=e[i+1]<<8-n,r<16-n?a&o:(a|=e[i+2]<<16-n,r<24-n?a&o:(a|=e[i+3]<<24-n)&o))}function F(e,t,r){var n=7&t,i=t>>>3;return n<=5?e[i]|=(7&r)<<n:(e[i]|=r<<n&255,e[i+1]=(7&r)>>8-n),t+3}function B(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function j(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function U(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function V(e,t){var r=e.length,n=2*r>t?2*r:t+5,i=0;if(r>=t)return e;if(wb){var o=_b(n);if(e.copy)e.copy(o);else for(;i<e.length;++i)o[i]=e[i];return o}if(x){var a=new Uint8Array(n);if(a.set)a.set(e);else for(;i<r;++i)a[i]=e[i];return a}return e.length=n,e}function z(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function H(e,t,r){var n=1,i=0,o=0,a=0,s=0,c=e.length,l=x?new Uint16Array(32):z(32);for(o=0;o<32;++o)l[o]=0;for(o=c;o<r;++o)e[o]=0;c=e.length;var u=x?new Uint16Array(c):z(c);for(o=0;o<c;++o)l[i=e[o]]++,n<i&&(n=i),u[o]=0;for(l[0]=0,o=1;o<=n;++o)l[o+16]=s=s+l[o-1]<<1;for(o=0;o<c;++o)0!=(s=e[o])&&(u[o]=l[s+16]++);var h=0;for(o=0;o<c;++o)if(0!=(h=e[o]))for(s=O(u[o],n)>>n-h,a=(1<<n+4-h)-1;a>=0;--a)t[s|a<<h]=15&h|o<<4;return n}var W=x?new Uint16Array(512):z(512),G=x?new Uint16Array(32):z(32);if(!x){for(var X=0;X<512;++X)W[X]=0;for(X=0;X<32;++X)G[X]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,G,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);H(r,W,288)}();var K=function(){for(var e=x?new Uint8Array(32768):[],t=0,r=0;t<T.length-1;++t)for(;r<T[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=x?new Uint8Array(259):[];for(t=0,r=0;t<A.length-1;++t)for(;r<A[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),i=r+n==e.length;for(t.write_shift(1,+i),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var i=0,o=0,a=x?new Uint16Array(32768):[];o<t.length;){var s=Math.min(65535,t.length-o);if(s<10){for(7&(i=F(r,i,+!(o+s!=t.length)))&&(i+=8-(7&i)),r.l=i/8|0,r.write_shift(2,s),r.write_shift(2,65535&~s);s-- >0;)r[r.l++]=t[o++];i=8*r.l}else{i=F(r,i,+!(o+s!=t.length)+2);for(var c=0;s-- >0;){var l=t[o],u=-1,h=0;if((u=a[c=32767&(c<<5^l)])&&((u|=-32768&o)>o&&(u-=32768),u<o))for(;t[u+h]==t[o+h]&&h<250;)++h;if(h>2){(l=n[h])<=22?i=j(r,i,k[l+1]>>1)-1:(j(r,i,3),j(r,i+=5,k[l-23]>>5),i+=3);var f=l<8?0:l-4>>2;f>0&&(U(r,i,h-A[l]),i+=f),l=e[o-u],i=j(r,i,k[l]>>3),i-=3;var d=l<4?0:l-2>>1;d>0&&(U(r,i,o-u-T[l]),i+=d);for(var p=0;p<h;++p)a[c]=32767&o,c=32767&(c<<5^t[o]),++o;s-=h-1}else l<=143?l+=48:i=B(r,i,1),i=j(r,i,k[l]),a[c]=32767&o,++o}i=j(r,i,0)-1}}return r.l=(i+7)/8|0,r.l}(t,r)}}();function q(e){var t=YS(50+Math.floor(1.1*e.length)),r=K(e,t);return t.slice(0,r)}var Y=x?new Uint16Array(32768):z(32768),Z=x?new Uint16Array(32768):z(32768),$=x?new Uint16Array(128):z(128),Q=1,J=1;function ee(e,t){var r=P(e,t)+257,n=P(e,t+=5)+1,i=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var o=0,a=x?new Uint8Array(19):z(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=1,l=x?new Uint8Array(8):z(8),u=x?new Uint8Array(8):z(8),h=a.length,f=0;f<i;++f)a[C[f]]=o=D(e,t),c<o&&(c=o),l[o]++,t+=3;var d=0;for(l[0]=0,f=1;f<=c;++f)u[f]=d=d+l[f-1]<<1;for(f=0;f<h;++f)0!=(d=a[f])&&(s[f]=u[d]++);var p=0;for(f=0;f<h;++f)if(0!=(p=a[f])){d=k[s[f]]>>8-p;for(var g=(1<<7-p)-1;g>=0;--g)$[d|g<<p]=7&p|f<<3}var m=[];for(c=1;m.length<r+n;)switch(t+=7&(d=$[M(e,t)]),d>>>=3){case 16:for(o=3+R(e,t),t+=2,d=m[m.length-1];o-- >0;)m.push(d);break;case 17:for(o=3+D(e,t),t+=3;o-- >0;)m.push(0);break;case 18:for(o=11+M(e,t),t+=7;o-- >0;)m.push(0);break;default:m.push(d),c<d&&(c=d)}var v=m.slice(0,r),y=m.slice(r);for(f=r;f<286;++f)v[f]=0;for(f=n;f<30;++f)y[f]=0;return Q=H(v,Y,286),J=H(y,Z,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[Eb(t),2];for(var r=0,n=0,i=_b(t||1<<18),o=0,a=i.length>>>0,s=0,c=0;0==(1&n);)if(n=D(e,r),r+=3,n>>>1!=0)for(n>>1==1?(s=9,c=5):(r=ee(e,r),s=Q,c=J);;){!t&&a<o+32767&&(a=(i=V(i,o+32767)).length);var l=L(e,r,s),u=n>>>1==1?W[l]:Y[l];if(r+=15&u,0===((u>>>=4)>>>8&255))i[o++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var f=o+A[u];h>0&&(f+=L(e,r,h),r+=h),l=L(e,r,c),r+=15&(u=n>>>1==1?G[l]:Z[l]);var d=(u>>>=4)<4?0:u-2>>1,p=T[u];for(d>0&&(p+=L(e,r,d),r+=d),!t&&a<f&&(a=(i=V(i,f+100)).length);o<f;)i[o]=i[o-p],++o}}else{7&r&&(r+=8-(7&r));var g=e[r>>>3]|e[(r>>>3)+1]<<8;if(r+=32,g>0)for(!t&&a<o+g&&(a=(i=V(i,o+g)).length);g-- >0;)i[o++]=e[r>>>3],r+=8}return t?[i,r+7>>>3]:[i.slice(0,o),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function ne(e,t){var r=e;KS(r,0);var n={FileIndex:[],FullPaths:[]};f(n,{root:t.root});for(var i=r.length-4;(80!=r[i]||75!=r[i+1]||5!=r[i+2]||6!=r[i+3])&&i>=0;)--i;r.l=i+4,r.l+=4;var a=r.read_shift(2);r.l+=6;var s=r.read_shift(4);for(r.l=s,i=0;i<a;++i){r.l+=20;var c=r.read_shift(4),l=r.read_shift(4),u=r.read_shift(2),h=r.read_shift(2),d=r.read_shift(2);r.l+=8;var p=r.read_shift(4),g=o(r.slice(r.l+u,r.l+u+h));r.l+=u+h+d;var m=r.l;r.l=p+4,ie(r,c,l,n,g),r.l=m}return n}function ie(e,t,r,n,i){e.l+=2;var a=e.read_shift(2),s=e.read_shift(2),c=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,i=31&r,o=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(o-1),n.setDate(i);var a=31&t,s=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(s),n.setSeconds(a<<1),n}(e);if(8257&a)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var l=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),f=e.read_shift(2),d="",p=0;p<h;++p)d+=String.fromCharCode(e[e.l++]);if(f){var m=o(e.slice(e.l,e.l+f));(m[21589]||{}).mt&&(c=m[21589].mt),((i||{})[21589]||{}).mt&&(c=i[21589].mt)}e.l+=f;var v=e.slice(e.l,e.l+l);switch(s){case 8:v=function(e,t){if(!g)return te(e,t);var r=new(0,g.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&a&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),l=e.read_shift(4),u=e.read_shift(4)),l!=t&&re(y,"Bad compressed size: "+t+" != "+l),u!=r&&re(y,"Bad uncompressed size: "+r+" != "+u),ue(n,d,v,{unsafe:!0,mt:c})}var oe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ae(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&oe[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&oe[n[1]]?oe[n[1]]:"application/octet-stream"}function se(e){for(var t=vb(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function ce(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<n.length;++i){var o=n[i];if(0!=o.length)for(var a=0;a<o.length;){var s=76,c=o.slice(a,a+s);"="==c.charAt(s-1)?s--:"="==c.charAt(s-2)?s-=2:"="==c.charAt(s-3)&&(s-=3),c=o.slice(a,a+s),(a+=s)<o.length&&(c+="="),r.push(c)}else r.push("")}return r.join("\r\n")}function le(e,t,r){for(var n,i="",o="",a="",s=0;s<10;++s){var c=t[s];if(!c||c.match(/^\s*$/))break;var l=c.match(/^(.*?):\s*([^\s].*)$/);if(l)switch(l[1].toLowerCase()){case"content-location":i=l[2].trim();break;case"content-type":a=l[2].trim();break;case"content-transfer-encoding":o=l[2].trim()}}switch(++s,o.toLowerCase()){case"base64":n=Sb(yb(t.slice(s).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return Sb(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+o)}var u=ue(e,i.slice(r.length),n,{unsafe:!0});a&&(u.ctype=a)}function ue(e,t,r,i){var o=i&&i.unsafe;o||f(e);var a=!o&&CE.find(e,t);if(!a){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),a={name:n(t),type:2},e.FileIndex.push(a),e.FullPaths.push(s),o||CE.utils.cfb_gc(e)}return a.content=r,a.size=r?r.length:0,i&&(i.CLSID&&(a.clsid=i.CLSID),i.mt&&(a.mt=i.mt),i.ct&&(a.ct=i.ct)),a}return t.find=function(e,t){var r=e.FullPaths.map(function(e){return e.toUpperCase()}),n=r.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),i=!1;47===t.charCodeAt(0)?(i=!0,t=r[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var o=t.toUpperCase(),a=!0===i?r.indexOf(o):n.indexOf(o);if(-1!==a)return e.FileIndex[a];var s=!o.match(kb);for(o=o.replace(xb,""),s&&(o=o.replace(kb,"!")),a=0;a<r.length;++a){if((s?r[a].replace(kb,"!"):r[a]).replace(xb,"")==o)return e.FileIndex[a];if((s?n[a].replace(kb,"!"):n[a]).replace(xb,"")==o)return e.FileIndex[a]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||wb&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return a(),s(e.readFileSync(t),r)}(t,r);case"base64":return s(Sb(yb(t)),r);case"binary":return s(Sb(t),r)}return s(t,r)},t.parse=s,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return a(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:_(n);case"base64":return vb("string"==typeof n?n:_(n));case"buffer":if(wb)return Buffer.isBuffer(n)?n:bb(n);case"array":return"string"==typeof n?Sb(n):n}return n},t.writeFile=function(t,r,n){a();var i=p(t,n);e.writeFileSync(r,i)},t.utils={cfb_new:function(e){var t={};return f(t,e),t},cfb_add:ue,cfb_del:function(e,t){f(e);var r=CE.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){f(e);var i=CE.find(e,t);if(i)for(var o=0;o<e.FileIndex.length;++o)if(e.FileIndex[o]==i)return e.FileIndex[o].name=n(r),e.FullPaths[o]=r,!0;return!1},cfb_gc:function(e){d(e,!0)},ReadShift:VS,CheckField:XS,prep_blob:KS,bconcat:Ib,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");g=e}catch(r){console.error("cannot use native zlib: "+(r.message||r))}},_deflateRaw:q,_inflateRaw:te,consts:E},t}();let AE;function TE(e){return"string"===typeof e?Cb(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function IE(e,t,r){if("undefined"!==typeof AE&&AE.writeFileSync)return r?AE.writeFileSync(e,t,r):AE.writeFileSync(e,t);if("undefined"!==typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Cb(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?R_(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!==typeof Blob){var i=new Blob([TE(n)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=e,a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Ab(t)),s.write(t),s.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function xE(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function kE(e,t){for(var r=[],n=xE(e),i=0;i!==n.length;++i)null==r[e[n[i]][t]]&&(r[e[n[i]][t]]=n[i]);return r}function NE(e){for(var t=[],r=xE(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function OE(e){for(var t=[],r=xE(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var RE=new Date(1899,11,30,0,0,0);function DE(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(RE.getTime()+6e4*(e.getTimezoneOffset()-RE.getTimezoneOffset())))/864e5}var PE=new Date,ME=RE.getTime()+6e4*(PE.getTimezoneOffset()-RE.getTimezoneOffset()),LE=PE.getTimezoneOffset();function FE(e){var t=new Date;return t.setTime(24*e*60*60*1e3+ME),t.getTimezoneOffset()!==LE&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-LE)),t}function BE(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var o=1;o!=i.length;++o)if(i[o]){switch(r=1,o>3&&(n=!0),i[o].slice(i[o].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[o].slice(i[o].length-1));case"D":r*=24;case"H":r*=60;case"M":if(!n)throw new Error("Unsupported ISO Duration Field: M");r*=60}t+=r*parseInt(i[o],10)}return t}var jE=new Date("2017-02-19T19:06:09.000Z"),UE=isNaN(jE.getFullYear())?new Date("2/19/17"):jE,VE=2017==UE.getFullYear();function zE(e,t){var r=new Date(e);if(VE)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==UE.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function HE(e,t){if(wb&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return R_(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return R_(hb(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return R_(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return R_(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(e){return r[e]||e})}catch(o){}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function WE(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=WE(e[r]));return t}function GE(e,t){for(var r="";r.length<t;)r+=e;return r}function XE(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,function(e,t){return r=-r,t}),isNaN(t=Number(n))?t:t/r):t/r}var KE=["january","february","march","april","may","june","july","august","september","october","november","december"];function qE(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),o=t.getDate();if(isNaN(o))return r;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==KE.indexOf(a))return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||o>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}var YE=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,r,n){if(e||"string"==typeof r)return t.split(r);for(var i=t.split(r),o=[i[0]],a=1;a<i.length;++a)o.push(n),o.push(i[a]);return o}}();function ZE(e){return e?e.content&&e.type?HE(e.content,!0):e.data?db(e.data):e.asNodeBuffer&&wb?db(e.asNodeBuffer().toString("binary")):e.asBinary?db(e.asBinary()):e._data&&e._data.getContent?db(HE(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function $E(e){if(!e)return null;if(e.data)return ub(e.data);if(e.asNodeBuffer&&wb)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?ub(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function QE(e,t){for(var r=e.FullPaths||xE(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),o=0;o<r.length;++o){var a=r[o].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return e.files?e.files[r[o]]:e.FileIndex[o]}return null}function JE(e,t){var r=QE(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function e_(e,t,r){if(!r)return(n=JE(e,t))&&".bin"===n.name.slice(-4)?$E(n):ZE(n);var n;if(!t)return null;try{return e_(e,t)}catch(i){return null}}function t_(e,t,r){if(!r)return ZE(JE(e,t));if(!t)return null;try{return t_(e,t)}catch(n){return null}}function r_(e,t,r){if(!r)return $E(JE(e,t));if(!t)return null;try{return r_(e,t)}catch(n){return null}}function n_(e){for(var t=e.FullPaths||xE(e.files),r=[],n=0;n<t.length;++n)"/"!=t[n].slice(-1)&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function i_(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=wb?bb(r):function(e){for(var t=[],r=0,n=e.length+250,i=Eb(e.length+255),o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var s=1023&e.charCodeAt(++o);i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|s>>6&15|(3&a)<<4,i[r++]=128|63&s}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|63&a;r>n&&(t.push(i.slice(0,r)),r=0,i=Eb(65535),n=65530)}return t.push(i.slice(0,r)),Ib(t)}(r),CE.utils.cfb_add(e,t,n);CE.utils.cfb_add(e,t,r)}else e.file(t,r)}function o_(){return CE.utils.cfb_new()}function a_(e,t){switch(t.type){case"base64":return CE.read(e,{type:"base64"});case"binary":return CE.read(e,{type:"binary"});case"buffer":case"array":return CE.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function s_(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();for(var n=e.split("/");0!==n.length;){var i=n.shift();".."===i?r.pop():"."!==i&&r.push(i)}return r.join("/")}var c_='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',l_=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,u_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,h_=c_.match(u_)?u_:/<[^>]*>/g,f_=/<\w*:/,d_=/<(\/?)\w+:/;function p_(e,t,r){for(var n={},i=0,o=0;i!==e.length&&(32!==(o=e.charCodeAt(i))&&10!==o&&13!==o);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var a=e.match(l_),s=0,c="",l=0,u="",h="",f=1;if(a)for(l=0;l!=a.length;++l){for(h=a[l],o=0;o!=h.length&&61!==h.charCodeAt(o);++o);for(u=h.slice(0,o).trim();32==h.charCodeAt(o+1);)++o;for(f=34==(i=h.charCodeAt(o+1))||39==i?1:0,c=h.slice(o+1+f,h.length-f),s=0;s!=u.length&&58!==u.charCodeAt(s);++s);if(s===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,r||(n[u.toLowerCase()]=c);else{var d=(5===s&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(s+1);if(n[d]&&"ext"==u.slice(s-3,s))continue;n[d]=c,r||(n[d.toLowerCase()]=c)}}return n}function g_(e){return e.replace(d_,"<$1")}var m_={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},v_=NE(m_),y_=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function r(n){var i=n+"",o=i.indexOf("<![CDATA[");if(-1==o)return i.replace(e,function(e,t){return m_[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e}).replace(t,function(e,t){return String.fromCharCode(parseInt(t,16))});var a=i.indexOf("]]>");return r(i.slice(0,o))+i.slice(o+9,a)+r(i.slice(a+3))}}(),w_=/[&<>'"]/g,b_=/[\u0000-\u0008\u000b-\u001f]/g;function E_(e){return(e+"").replace(w_,function(e){return v_[e]}).replace(b_,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function __(e){return E_(e).replace(/ /g,"_x0020_")}var S_=/[\u0000-\u001f]/g;function C_(e){return(e+"").replace(w_,function(e){return v_[e]}).replace(/\n/g,"<br/>").replace(S_,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var A_=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function T_(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function I_(e){for(var t="",r=0,n=0,i=0,o=0,a=0,s=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(i=e.charCodeAt(r++),n>191&&n<224?(a=(31&n)<<6,a|=63&i,t+=String.fromCharCode(a)):(o=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&o):(s=((7&n)<<18|(63&i)<<12|(63&o)<<6|63&(a=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function x_(e){var t,r,n,i=Eb(2*e.length),o=1,a=0,s=0;for(r=0;r<e.length;r+=o)o=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),o=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),o=3):(o=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(i[a++]=255&s,i[a++]=s>>>8,s=0),i[a++]=t%256,i[a++]=t>>>8;return i.slice(0,a).toString("ucs2")}function k_(e){return bb(e,"binary").toString("utf8")}var N_="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",O_=wb&&(k_(N_)==I_(N_)&&k_||x_(N_)==I_(N_)&&x_)||I_,R_=wb?function(e){return bb(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},D_=function(){var e={};return function(t,r){var n=t+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),P_=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}(),M_=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),L_=/<\/?(?:vt:)?variant>/g,F_=/<(?:vt:)([^>]*)>([\s\S]*)</;function B_(e,t){var r=p_(e),n=e.match(M_(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(e){var t=e.replace(L_,"").match(F_);t&&i.push({v:O_(t[2]),t:t[1]})}),i}var j_=/(^\s|\s$|\n)/;function U_(e,t){return"<"+e+(t.match(j_)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function V_(e){return xE(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function z_(e,t,r){return"<"+e+(null!=r?V_(r):"")+(null!=t?(t.match(j_)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function H_(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function W_(e){if(wb&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return O_(Ab(Tb(e)));throw new Error("Bad input format: expected Buffer or string")}var G_=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,X_="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",K_="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",q_="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Y_="http://schemas.openxmlformats.org/package/2006/content-types",Z_="http://schemas.openxmlformats.org/package/2006/relationships",$_="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Q_="http://purl.org/dc/elements/1.1/",J_="http://purl.org/dc/terms/",eS="http://purl.org/dc/dcmitype/",tS="http://schemas.openxmlformats.org/officeDocument/2006/relationships",rS="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",nS="http://www.w3.org/2001/XMLSchema-instance",iS="http://www.w3.org/2001/XMLSchema",oS=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],aS="urn:schemas-microsoft-com:office:office",sS="urn:schemas-microsoft-com:office:excel",cS="urn:schemas-microsoft-com:office:spreadsheet",lS="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",uS="http://macVmlSchemaUri",hS="urn:schemas-microsoft-com:vml",fS="http://www.w3.org/TR/REC-html40";var dS=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,i=e[0][r].length;n<i;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},pS=wb?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:bb(e)})):dS(e)}:dS,gS=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(LS(e,i)));return n.join("").replace(xb,"")},mS=wb?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(xb,""):gS(e,t,r)}:gS,vS=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},yS=wb?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):vS(e,t,r)}:vS,wS=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(MS(e,i)));return n.join("")},bS=wb?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):wS(e,t,r)}:wS,ES=function(e,t){var r=BS(e,t);return r>0?bS(e,t+4,t+4+r-1):""},_S=ES,SS=function(e,t){var r=BS(e,t);return r>0?bS(e,t+4,t+4+r-1):""},CS=SS,AS=function(e,t){var r=2*BS(e,t);return r>0?bS(e,t+4,t+4+r-1):""},TS=AS,IS=function(e,t){var r=BS(e,t);return r>0?mS(e,t+4,t+4+r):""},xS=IS,kS=function(e,t){var r=BS(e,t);return r>0?bS(e,t+4,t+4+r):""},NS=kS,OS=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],o=5;o>=0;--o)i=256*i+e[t+o];return 2047==n?0==i?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}(e,t)},RS=OS,DS=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function PS(){mS=function(e,t,r){return fb.utils.decode(1200,e.slice(t,r)).replace(xb,"")},bS=function(e,t,r){return fb.utils.decode(65001,e.slice(t,r))},_S=function(e,t){var r=BS(e,t);return r>0?fb.utils.decode(ib,e.slice(t+4,t+4+r-1)):""},CS=function(e,t){var r=BS(e,t);return r>0?fb.utils.decode(nb,e.slice(t+4,t+4+r-1)):""},TS=function(e,t){var r=2*BS(e,t);return r>0?fb.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},xS=function(e,t){var r=BS(e,t);return r>0?fb.utils.decode(1200,e.slice(t+4,t+4+r)):""},NS=function(e,t){var r=BS(e,t);return r>0?fb.utils.decode(65001,e.slice(t+4,t+4+r)):""}}wb&&(_S=function(e,t){if(!Buffer.isBuffer(e))return ES(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},CS=function(e,t){if(!Buffer.isBuffer(e))return SS(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},TS=function(e,t){if(!Buffer.isBuffer(e))return AS(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},xS=function(e,t){if(!Buffer.isBuffer(e))return IS(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},NS=function(e,t){if(!Buffer.isBuffer(e))return kS(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},RS=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):OS(e,t)},DS=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof fb&&PS();var MS=function(e,t){return e[t]},LS=function(e,t){return 256*e[t+1]+e[t]},FS=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},BS=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},jS=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},US=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function VS(e,t){var r,n,i,o,a,s,c="",l=[];switch(t){case"dbcs":if(s=this.l,wb&&Buffer.isBuffer(this))c=this.slice(this.l,this.l+2*e).toString("utf16le");else for(a=0;a<e;++a)c+=String.fromCharCode(LS(this,s)),s+=2;e*=2;break;case"utf8":c=bS(this,this.l,this.l+e);break;case"utf16le":e*=2,c=mS(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof fb)return VS.call(this,e,"dbcs");c=fb.utils.decode(nb,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":c=_S(this,this.l),e=4+BS(this,this.l);break;case"lpstr-cp":c=CS(this,this.l),e=4+BS(this,this.l);break;case"lpwstr":c=TS(this,this.l),e=4+2*BS(this,this.l);break;case"lpp4":e=4+BS(this,this.l),c=xS(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+BS(this,this.l),c=NS(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,c="";0!==(i=MS(this,this.l+e++));)l.push(pb(i));c=l.join("");break;case"_wstr":for(e=0,c="";0!==(i=LS(this,this.l+e));)l.push(pb(i)),e+=2;e+=2,c=l.join("");break;case"dbcs-cont":for(c="",s=this.l,a=0;a<e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=MS(this,s),this.l=s+1,o=VS.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),l.join("")+o;l.push(pb(LS(this,s))),s+=2}c=l.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof fb){c=fb.utils.decode(nb,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(c="",s=this.l,a=0;a!=e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=MS(this,s),this.l=s+1,o=VS.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),l.join("")+o;l.push(pb(MS(this,s))),s+=1}c=l.join("");break;default:switch(e){case 1:return r=MS(this,this.l),this.l++,r;case 2:return r=("i"===t?FS:LS)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(r=(e>0?jS:US)(this,this.l),this.l+=4,r):(n=BS(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return n=8==e?RS(this,this.l):RS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:c=yS(this,this.l,e)}}return this.l+=e,c}var zS=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},HS=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},WS=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function GS(e,t,r){var n=0,i=0;if("dbcs"===r){for(i=0;i!=t.length;++i)WS(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if("sbcs"===r){if("undefined"!==typeof fb&&874==ib)for(i=0;i!=t.length;++i){var o=fb.utils.encode(ib,t.charAt(i));this[this.l+i]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);n=t.length}else{if("hex"===r){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===r){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,zS(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,o=0,a=n?-t:t;isFinite(a)?0==a?i=o=0:(i=Math.floor(Math.log(a)/Math.LN2),o=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(t)?26985:0);for(var s=0;s<=5;++s,o/=256)e[r+s]=255&o;e[r+6]=(15&i)<<4|15&o,e[r+7]=i>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,HS(this,t,this.l)}}return this.l+=n,this}function XS(e,t){var r=yS(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function KS(e,t){e.l=t,e.read_shift=VS,e.chk=XS,e.write_shift=GS}function qS(e,t){e.l+=t}function YS(e){var t=Eb(e);return KS(t,0),t}function ZS(e,t,r){if(e){var n,i,o;KS(e,e.l||0);for(var a=e.length,s=0,c=0;e.l<a;){128&(s=e.read_shift(1))&&(s=(127&s)+((127&e.read_shift(1))<<7));var l=iO[s]||iO[65535];for(o=127&(n=e.read_shift(1)),i=1;i<4&&128&n;++i)o+=(127&(n=e.read_shift(1)))<<7*i;c=e.l+o;var u=l.f&&l.f(e,o,r);if(e.l=c,t(u,l,s))return}}}function $S(){var e=[],t=wb?256:2048,r=function(e){var t=YS(e);return KS(t,0),t},n=r(t),i=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},o=function(e){return n&&e<n.length-n.l?n:(i(),n=r(Math.max(e+1,t)))};return{next:o,push:function(e){i(),null==(n=e).l&&(n.l=n.length),o(t)},end:function(){return i(),Ib(e)},_bufs:e}}function QS(e,t,r,n){var i,o=+t;if(!isNaN(o)){n||(n=iO[o].p||(r||[]).length||0),i=1+(o>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var a=e.next(i);o<=127?a.write_shift(1,o):(a.write_shift(1,128+(127&o)),a.write_shift(1,o>>7));for(var s=0;4!=s;++s){if(!(n>=128)){a.write_shift(1,n);break}a.write_shift(1,128+(127&n)),n>>=7}n>0&&DS(r)&&e.push(r)}}function JS(e,t,r){var n=WE(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function eC(e,t,r){var n=WE(e);return n.s=JS(n.s,t.s,r),n.e=JS(n.e,t.s,r),n}function tC(e,t){if(e.cRel&&e.c<0)for(e=WE(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=WE(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=cC(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function rC(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?tC(e.s,t.biff)+":"+tC(e.e,t.biff):(e.s.rRel?"":"$")+iC(e.s.r)+":"+(e.e.rRel?"":"$")+iC(e.e.r):(e.s.cRel?"":"$")+aC(e.s.c)+":"+(e.e.cRel?"":"$")+aC(e.e.c)}function nC(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function iC(e){return""+(e+1)}function oC(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function aC(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sC(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function cC(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function lC(e){var t=e.indexOf(":");return-1==t?{s:sC(e),e:sC(e)}:{s:sC(e.slice(0,t)),e:sC(e.slice(t+1))}}function uC(e,t){return"undefined"===typeof t||"number"===typeof t?uC(e.s,e.e):("string"!==typeof e&&(e=cC(e)),"string"!==typeof t&&(t=cC(t)),e==t?e:e+":"+t)}function hC(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,o=e.length;for(r=0;n<o&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<o&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===o||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=o&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=o&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function fC(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=vE(e.z,r?DE(t):t)}catch(n){}try{return e.w=vE((e.XF||{}).numFmtId||(r?14:0),r?DE(t):t)}catch(n){return""+t}}function dC(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?QC[e.v]||e.v:fC(e,void 0==t?e.v:t))}function pC(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function gC(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense;var o=e||(i?[]:{}),a=0,s=0;if(o&&null!=n.origin){if("number"==typeof n.origin)a=n.origin;else{var c="string"==typeof n.origin?sC(n.origin):n.origin;a=c.r,s=c.c}o["!ref"]||(o["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var u=hC(o["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),-1==a&&(l.e.r=a=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if("undefined"!==typeof t[h][f]){var d={v:t[h][f]},p=a+h,g=s+f;if(l.s.r>p&&(l.s.r=p),l.s.c>g&&(l.s.c=g),l.e.r<p&&(l.e.r=p),l.e.c<g&&(l.e.c=g),!t[h][f]||"object"!==typeof t[h][f]||Array.isArray(t[h][f])||t[h][f]instanceof Date)if(Array.isArray(d.v)&&(d.f=t[h][f][1],d.v=d.v[0]),null===d.v)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else{if(!n.sheetStubs)continue;d.t="z"}else"number"===typeof d.v?d.t="n":"boolean"===typeof d.v?d.t="b":d.v instanceof Date?(d.z=n.dateNF||jb[14],n.cellDates?(d.t="d",d.w=vE(d.z,DE(d.v))):(d.t="n",d.v=DE(d.v),d.w=vE(d.z,d.v))):d.t="s";else d=t[h][f];if(i)o[p]||(o[p]=[]),o[p][g]&&o[p][g].z&&(d.z=o[p][g].z),o[p][g]=d;else{var m=cC({c:g,r:p});o[m]&&o[m].z&&(d.z=o[m].z),o[m]=d}}}return l.s.c<1e7&&(o["!ref"]=uC(l)),o}function mC(e,t){return gC(null,e,t)}function vC(e,t){return t||(t=YS(4)),t.write_shift(4,e),t}function yC(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function wC(e,t){var r=!1;return null==t&&(r=!0,t=YS(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function bC(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function EC(e,t){var r=e.l,n=e.read_shift(1),i=yC(e),o=[],a={t:i,h:i};if(0!==(1&n)){for(var s=e.read_shift(4),c=0;c!=s;++c)o.push(bC(e));a.r=o}else a.r=[{ich:0,ifnt:0}];return e.l=r+t,a}var _C=EC;function SC(e,t){var r=!1;return null==t&&(r=!0,t=YS(23+4*e.t.length)),t.write_shift(1,1),wC(e.t,t),t.write_shift(4,1),function(e,t){t||(t=YS(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function CC(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function AC(e,t){return null==t&&(t=YS(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function TC(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function IC(e,t){return null==t&&(t=YS(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var xC=yC,kC=wC;function NC(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function OC(e,t){var r=!1;return null==t&&(r=!0,t=YS(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var RC=yC,DC=NC,PC=OC;function MC(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var i=0===n?RS([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):jS(t,0)>>2;return r?i/100:i}function LC(e,t){null==t&&(t=YS(4));var r=0,n=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?i:e)<<2)+(r+2))}function FC(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var BC=FC,jC=function(e,t){return t||(t=YS(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function UC(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function VC(e,t){return(t||YS(8)).write_shift(8,e,"f")}function zC(e,t){if(t||(t=YS(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function HC(e,t){var r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var WC=80,GC=[WC,81],XC={1:{n:"CodePage",t:2},2:{n:"Category",t:WC},3:{n:"PresentationFormat",t:WC},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:WC},15:{n:"Company",t:WC},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:WC},27:{n:"ContentStatus",t:WC},28:{n:"Language",t:WC},29:{n:"Version",t:WC},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},KC={1:{n:"CodePage",t:2},2:{n:"Title",t:WC},3:{n:"Subject",t:WC},4:{n:"Author",t:WC},5:{n:"Keywords",t:WC},6:{n:"Comments",t:WC},7:{n:"Template",t:WC},8:{n:"LastAuthor",t:WC},9:{n:"RevNumber",t:WC},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:WC},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},qC={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},YC=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ZC(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var $C=WE(ZC([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),QC={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},JC={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},eA={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},tA={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function rA(e,t){var r,n=function(e){for(var t=[],r=xE(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(eA),i=[];i[i.length]=c_,i[i.length]=z_("Types",null,{xmlns:Y_,"xmlns:xsd":iS,"xmlns:xsi":nS}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return z_("Default",null,{Extension:e[0],ContentType:e[1]})}));var o=function(n){e[n]&&e[n].length>0&&(r=e[n][0],i[i.length]=z_("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:tA[n][t.bookType]||tA[n].xlsx}))},a=function(r){(e[r]||[]).forEach(function(e){i[i.length]=z_("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:tA[r][t.bookType]||tA[r].xlsx})})},s=function(t){(e[t]||[]).forEach(function(e){i[i.length]=z_("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})})};return o("workbooks"),a("sheets"),a("charts"),s("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),a("metadata"),s("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var nA={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function iA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function oA(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var n={};return(e.match(h_)||[]).forEach(function(e){var i=p_(e);if("<Relationship"===i[0]){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var a="External"===i.TargetMode?i.Target:s_(i.Target,t);r[a]=o,n[i.Id]=o}}),r["!id"]=n,r}function aA(e){var t=[c_,z_("Relationships",null,{xmlns:Z_})];return xE(e["!id"]).forEach(function(r){t[t.length]=z_("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function sA(e,t,r,n,i,o){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,o?i.TargetMode=o:[nA.HLINK,nA.XPATH,nA.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function cA(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function lA(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function uA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rb.version+"</meta:generator></office:meta></office:document-meta>"}var hA=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],fA=function(){for(var e=new Array(hA.length),t=0;t<hA.length;++t){var r=hA[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function dA(e){var t={};e=O_(e);for(var r=0;r<hA.length;++r){var n=hA[r],i=e.match(fA[r]);null!=i&&i.length>0&&(t[n[1]]=y_(i[1])),"date"===n[2]&&t[n[1]]&&(t[n[1]]=zE(t[n[1]]))}return t}function pA(e,t,r,n,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=E_(t),n[n.length]=r?z_(e,t,r):U_(e,t))}function gA(e,t){var r=t||{},n=[c_,z_("cp:coreProperties",null,{"xmlns:cp":X_,"xmlns:dc":Q_,"xmlns:dcterms":J_,"xmlns:dcmitype":eS,"xmlns:xsi":nS})],i={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&pA("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:H_(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),null!=e.ModifiedDate&&pA("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:H_(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var o=0;o!=hA.length;++o){var a=hA[o],s=r.Props&&null!=r.Props[a[1]]?r.Props[a[1]]:e?e[a[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&pA(a[0],s,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var mA=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],vA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function yA(e,t,r,n){var i=[];if("string"==typeof e)i=B_(e,n);else for(var o=0;o<e.length;++o)i=i.concat(e[o].map(function(e){return{v:e}}));var a="string"==typeof t?B_(t,n).map(function(e){return e.v}):t,s=0,c=0;if(a.length>0)for(var l=0;l!==i.length;l+=2){switch(c=+i[l+1].v,i[l].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=a.slice(s,s+c);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":r.NamedRanges=c,r.DefinedNames=a.slice(s,s+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=a.slice(s,s+c)}s+=c}}function wA(e){var t=[],r=z_;return e||(e={}),e.Application="SheetJS",t[t.length]=c_,t[t.length]=z_("Properties",null,{xmlns:q_,"xmlns:vt":rS}),mA.forEach(function(n){if(void 0!==e[n[1]]){var i;switch(n[2]){case"string":i=E_(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false"}void 0!==i&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+E_(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var bA=/<[^>]+>[^<]*/g;function EA(e){var t=[c_,z_("Properties",null,{xmlns:K_,"xmlns:vt":rS})];if(!e)return t.join("");var r=1;return xE(e).forEach(function(n){++r,t[t.length]=z_("property",function(e,t){switch(typeof e){case"string":var r=z_("vt:lpwstr",E_(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return z_((0|e)==e?"vt:i4":"vt:r8",E_(String(e)));case"boolean":return z_("vt:bool",e?"true":"false")}if(e instanceof Date)return z_("vt:filetime",H_(e));throw new Error("Unable to serialize "+e)}(e[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:E_(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _A,SA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function CA(e,t,r){_A||(_A=NE(SA)),e[t=_A[t]||t]=r}function AA(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function TA(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function IA(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function xA(e,t,r){return 31===t?IA(e):TA(e,0,r)}function kA(e,t,r){return xA(e,t,!1===r?0:4)}function NA(e){var t=e.l,r=DA(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[r,DA(e,3)]}function OA(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var o=e.read_shift(4),a=e.read_shift(4);n[o]=e.read_shift(a,1200===t?"utf16le":"utf8").replace(xb,"").replace(kb,"!"),1200===t&&a%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),n}function RA(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function DA(e,t,r){var n,i=e.read_shift(2),o=r||{};if(e.l+=2,12!==t&&i!==t&&-1===GC.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&i)))throw new Error("Expected type "+t+" saw "+i);switch(12===t?i:t){case 2:return n=e.read_shift(2,"i"),o.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return n=e.read_shift(4);case 30:return TA(e,0,4).replace(xb,"");case 31:return IA(e);case 64:return AA(e);case 65:return RA(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return kA(e,i,!o.raw).replace(xb,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return xA(e,t,0)}(e,i).replace(xb,"");case 4108:return function(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(NA(e));return r}(e);case 4126:case 4127:return 4127==i?function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(xb,""),e.l-i&2&&(e.l+=2)}return r}(e):function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(xb,"");return r}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function PA(e,t){var r=YS(4),n=YS(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=YS(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var i=(r*=1e7)/Math.pow(2,32)|0;i>0&&(r%=Math.pow(2,32),n+=i);var o=YS(8);return o.write_shift(4,r),o.write_shift(4,n),o}(t);break;case 31:case 80:for((n=YS(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ib([r,n])}function MA(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),o=[],a=0,s=0,c=-1,l={};for(a=0;a!=i;++a){var u=e.read_shift(4),h=e.read_shift(4);o[a]=[u,h+r]}o.sort(function(e,t){return e[1]-t[1]});var f={};for(a=0;a!=i;++a){if(e.l!==o[a][1]){var d=!0;if(a>0&&t)switch(t[o[a-1][0]].t){case 2:e.l+2===o[a][1]&&(e.l+=2,d=!1);break;case 80:case 4108:e.l<=o[a][1]&&(e.l=o[a][1],d=!1)}if((!t||0==a)&&e.l<=o[a][1]&&(d=!1,e.l=o[a][1]),d)throw new Error("Read Error: Expected address "+o[a][1]+" at "+e.l+" :"+a)}if(t){var p=t[o[a][0]];if(f[p.n]=DA(e,p.t,{raw:!0}),"version"===p.p&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(65535&f[p.n])).slice(-4)),"CodePage"==p.n)switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:cb(s=f[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[p.n])}}else if(1===o[a][0]){if(s=f.CodePage=DA(e,2),cb(s),-1!==c){var g=e.l;e.l=o[c][1],l=OA(e,s),e.l=g}}else if(0===o[a][0]){if(0===s){c=a,e.l=o[a+1][1];continue}l=OA(e,s)}else{var m,v=l[o[a][0]];switch(e[e.l]){case 65:e.l+=4,m=RA(e);break;case 30:case 31:e.l+=4,m=kA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=zA(e,4);break;case 64:e.l+=4,m=zE(AA(e));break;default:throw new Error("unparsed value: "+e[e.l])}f[v]=m}}return e.l=r+n,f}var LA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function FA(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function BA(e,t,r){var n=YS(8),i=[],o=[],a=8,s=0,c=YS(8),l=YS(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),o.push(c),i.push(l),a+=8+c.length,!t){(l=YS(8)).write_shift(4,0),i.unshift(l);var u=[YS(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var h=e[s][0];for((c=YS(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,s+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ib(u),o.unshift(c),a+=8+c.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(LA.indexOf(e[s][0])>-1||vA.indexOf(e[s][0])>-1)&&null!=e[s][1]){var f=e[s][1],d=0;if(t){var p=r[d=+t[e[s][0]]];if("version"==p.p&&"string"==typeof f){var g=f.split(".");f=(+g[0]<<16)+(+g[1]||0)}c=PA(p.t,f)}else{var m=FA(f);-1==m&&(m=31,f=String(f)),c=PA(m,f)}o.push(c),(l=YS(8)).write_shift(4,t?d:2+s),i.push(l),a+=8+c.length}var v=8*(o.length+1);for(s=0;s<o.length;++s)i[s].write_shift(4,v),v+=o[s].length;return n.write_shift(4,a),n.write_shift(4,o.length),Ib([n].concat(i).concat(o))}function jA(e,t,r){var n=e.content;if(!n)return{};KS(n,0);var i,o,a,s,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var l=n.read_shift(4),u=n.read_shift(16);if(u!==CE.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(1!==(i=n.read_shift(4))&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(o=n.read_shift(16),s=n.read_shift(4),1===i&&s!==n.l)throw new Error("Length mismatch: "+s+" !== "+n.l);2===i&&(a=n.read_shift(16),c=n.read_shift(4));var h,f=MA(n,t),d={SystemIdentifier:l};for(var p in f)d[p]=f[p];if(d.FMTID=o,1===i)return d;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);try{h=MA(n,null)}catch(g){}for(p in h)d[p]=h[p];return d.FMTID=[o,a],d}function UA(e,t,r,n,i,o){var a=YS(i?68:48),s=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,CE.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var c=BA(e,r,n);if(s.push(c),i){var l=BA(i,null,null);a.write_shift(16,o,"hex"),a.write_shift(4,68+c.length),s.push(l)}return Ib(s)}function VA(e,t){return e.read_shift(t),null}function zA(e,t){return 1===e.read_shift(t)}function HA(e,t){return t||(t=YS(2)),t.write_shift(2,+!!e),t}function WA(e){return e.read_shift(2,"u")}function GA(e,t){return t||(t=YS(2)),t.write_shift(2,e),t}function XA(e,t){return function(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}(e,t,WA)}function KA(e,t,r){return r||(r=YS(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function qA(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont",o=nb;(r&&r.biff>=8&&(nb=1200),r&&8!=r.biff)?12==r.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?e.read_shift(n,i):"";return nb=o,a}function YA(e){var t=nb;nb=1200;var r,n=e.read_shift(2),i=e.read_shift(1),o=4&i,a=8&i,s=1+(1&i),c=0,l={};a&&(c=e.read_shift(2)),o&&(r=e.read_shift(4));var u=2==s?"dbcs-cont":"sbcs-cont",h=0===n?"":e.read_shift(n,u);return a&&(e.l+=4*c),o&&(e.l+=r),l.t=h,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),nb=t,l}function ZA(e){var t=e.t||"",r=YS(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=YS(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),Ib([r,n])}function $A(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function QA(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):$A(e,n,r)}function JA(e,t,r){if(r.biff>5)return QA(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function eT(e,t,r){return r||(r=YS(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function tT(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(xb,"");return n&&(e.l+=24),i}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return r+e.read_shift(i>>1,"utf16le").replace(xb,"")}(e);default:throw new Error("Unsupported Moniker "+r)}}function rT(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(xb,""):""}function nT(e,t){t||(t=YS(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function iT(e){var t=YS(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var i=n.indexOf("#"),o=i>-1?31:23;switch(n.charAt(0)){case"#":o=28;break;case".":o&=-3}t.write_shift(4,2),t.write_shift(4,o);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)t.write_shift(4,a[r]);if(28==o)nT(n=n.slice(1),t);else if(2&o){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var s=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),8&o&&nT(i>-1?n.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));for(var c=0;"../"==n.slice(3*c,3*c+3)||"..\\"==n.slice(3*c,3*c+3);)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,255&n.charCodeAt(r+3*c));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function oT(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function aT(e,t){var r=oT(e);return r[3]=0,r}function sT(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function cT(e,t,r,n){return n||(n=YS(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function lT(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function uT(e){return[e.read_shift(2),MC(e)]}function hT(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function fT(e,t){return t||(t=YS(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function dT(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:r}}}var pT=dT;function gT(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function mT(e){e.l+=2,e.l+=e.read_shift(2)}var vT={0:mT,4:mT,5:mT,6:mT,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:mT,9:mT,10:mT,11:mT,12:mT,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:mT,15:mT,16:mT,17:mT,18:mT,19:mT,20:mT,21:gT};function yT(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),(t-=2)>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function wT(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;default:throw new Error("unsupported BIFF version")}var o=YS(i);return o.write_shift(2,n),o.write_shift(2,t),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function bT(e,t){var r=!t||t.biff>=8?2:1,n=YS(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function ET(e,t,r){var n=0;r&&2==r.biff||(n=e.read_shift(2));var i=e.read_shift(2);return r&&2==r.biff&&(n=1-(i>>15),i&=32767),[{Unsynced:1&n,DyZero:(2&n)>>1,ExAsc:(4&n)>>2,ExDsc:(8&n)>>3},i]}function _T(e,t,r,n){var i=r&&5==r.biff;n||(n=YS(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var o=n.length>n.l?n.slice(0,n.l):n;return null==o.l&&(o.l=o.length),o}var ST=JA;function CT(e,t,r){var n=e.l+t,i=8!=r.biff&&r.biff?2:4,o=e.read_shift(i),a=e.read_shift(i),s=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:o,c:s},e:{r:a,c:c}}}function AT(e,t,r,n){var i=r&&5==r.biff;n||(n=YS(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&i&&(o|=1024),n.write_shift(4,o),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function TT(e,t,r){var n=sT(e);2!=r.biff&&9!=t||++e.l;var i=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return n.val=i,n.t=!0===i||!1===i?"b":"e",n}var IT=function(e,t,r){return 0===t?"":JA(e,0,r)};function xT(e,t,r){var n,i=e.read_shift(2),o={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===r.sbcch&&(n=function(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=qA(e,0,r),o=e.read_shift(2);if(o!==(n-=e.l))throw new Error("Malformed AddinUdf: padding = "+n+" != "+o);return e.l+=o,i}(e,t-2,r)),o.body=n||e.read_shift(t-2),"string"===typeof n&&(o.Name=n),o}var kT=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function NT(e,t,r){var n=e.l+t,i=e.read_shift(2),o=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(r&&2==r.biff?1:2),c=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),c=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var l=$A(e,a,r);32&i&&(l=kT[l.charCodeAt(0)]);var u=n-e.l;r&&2==r.biff&&--u;var h=n!=e.l&&0!==s&&u>0?function(e,t,r,n){var i,o=e.l+t,a=Gx(e,n,r);o!==e.l&&(i=Wx(e,o-e.l,a,r));return[a,i]}(e,u,r,s):[];return{chKey:o,Name:l,itab:c,rgce:h}}function OT(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=qA(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],i=e.l+t,o=e.read_shift(r.biff>8?4:2);0!==o--;)n.push(lT(e,r.biff,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function RT(e,t,r){var n=pT(e,6);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,$x(e,t,r)]}var DT={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function PT(e){var t=YS(24),r=sC(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Ib([t,iT(e[1])])}function MT(e){var t=e[1].Tooltip,r=YS(10+2*(t.length+1));r.write_shift(2,2048);var n=sC(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function LT(e,t,r){if(!r.cellStyles)return qS(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),o=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),c=e.read_shift(2);2==n&&(e.l+=2);var l={s:i,e:o,w:a,ixfe:s,flags:c};return(r.biff>=5||!r.biff)&&(l.level=c>>8&7),l}var FT=sT,BT=XA,jT=QA;var UT=[2,3,48,49,131,139,140,245],VT=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=NE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var i=mC(function(t,r){var n=[],i=Eb(1);switch(r.type){case"base64":i=Sb(yb(t));break;case"binary":i=Sb(t);break;case"buffer":case"array":i=t}KS(i,0);var o=i.read_shift(1),a=!!(136&o),s=!1,c=!1;switch(o){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,a=!0;break;case 140:c=!0;break;default:throw new Error("DBF Unsupported Version: "+o.toString(16))}var l=0,u=521;2==o&&(l=i.read_shift(2)),i.l+=3,2!=o&&(l=i.read_shift(4)),l>1048576&&(l=1e6),2!=o&&(u=i.read_shift(2));var h=i.read_shift(2),f=r.codepage||1252;2!=o&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(f=e[i[i.l]]),i.l+=1,i.l+=2),c&&(i.l+=36);for(var d=[],p={},g=Math.min(i.length,2==o?521:u-10-(s?264:0)),m=c?32:11;i.l<g&&13!=i[i.l];)switch((p={}).name=fb.utils.decode(f,i.slice(i.l,i.l+m)).replace(/[\u0000\r\n].*$/g,""),i.l+=m,p.type=String.fromCharCode(i.read_shift(1)),2==o||c||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==o&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&d.push(p),2!=o&&(i.l+=c?13:14),p.type){case"B":s&&8==p.len||!r.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(n[0]=[],y=0;y!=d.length;++y)n[0][y]=d[y].name;for(;l-- >0;)if(42!==i[i.l])for(++i.l,n[++v]=[],y=0,y=0;y!=d.length;++y){var w=i.slice(i.l,i.l+d[y].len);i.l+=d[y].len,KS(w,0);var b=fb.utils.decode(f,w);switch(d[y].type){case"C":b.trim().length&&(n[v][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?n[v][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):n[v][y]=b;break;case"F":n[v][y]=parseFloat(b.trim());break;case"+":case"I":n[v][y]=c?2147483648^w.read_shift(-4,"i"):w.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":n[v][y]=!0;break;case"N":case"F":n[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!a)throw new Error("DBF Unexpected MEMO for type "+o.toString(16));n[v][y]="##MEMO##"+(c?parseInt(b.trim(),10):w.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(n[v][y]=+b||0);break;case"@":n[v][y]=new Date(w.read_shift(-8,"f")-621356832e5);break;case"T":n[v][y]=new Date(864e5*(w.read_shift(4)-2440588)+w.read_shift(4));break;case"Y":n[v][y]=w.read_shift(4,"i")/1e4+w.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[v][y]=-w.read_shift(-8,"f");break;case"B":if(s&&8==d[y].len){n[v][y]=w.read_shift(8,"f");break}case"G":case"P":w.l+=d[y].len;break;case"0":if("_NullFlags"===d[y].name)break;default:throw new Error("DBF Unsupported data type "+d[y].type)}}else i.l+=h;if(2!=o&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=d,n}(t,n),n);return i["!cols"]=n.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete n.DBF,i}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return pC(r(e,t),t)}catch(n){if(t&&t.WTF)throw n}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var i=r||{};if(+i.codepage>=0&&cb(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var o=$S(),a=AR(e,{header:1,raw:!0,cellDates:!0}),s=a[0],c=a.slice(1),l=e["!cols"]||[],u=0,h=0,f=0,d=1;for(u=0;u<s.length;++u)if(((l[u]||{}).DBF||{}).name)s[u]=l[u].DBF.name,++f;else if(null!=s[u]){if(++f,"number"===typeof s[u]&&(s[u]=s[u].toString(10)),"string"!==typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(h=0;h<1024;++h)if(-1==s.indexOf(s[u]+"_"+h)){s[u]+="_"+h;break}}var p=hC(e["!ref"]),g=[],m=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",w="",b=0,E=[];for(h=0;h<c.length;++h)null!=c[h][u]&&E.push(c[h][u]);if(0!=E.length&&null!=s[u]){for(h=0;h<E.length;++h){switch(typeof E[h]){case"number":w="B";break;case"string":default:w="C";break;case"boolean":w="L";break;case"object":w=E[h]instanceof Date?"D":"C"}b=Math.max(b,String(E[h]).length),y=y&&y!=w?"C":w}b>250&&(b=250),"C"==(w=((l[u]||{}).DBF||{}).type)&&l[u].DBF.len>b&&(b=l[u].DBF.len),"B"==y&&"N"==w&&(y="N",v[u]=l[u].DBF.dec,b=l[u].DBF.len),m[u]="C"==y||"N"==w?b:n[y]||0,d+=m[u],g[u]=y}else g[u]="?"}var _=o.next(32);for(_.write_shift(4,318902576),_.write_shift(4,c.length),_.write_shift(2,296+32*f),_.write_shift(2,d),u=0;u<4;++u)_.write_shift(4,0);for(_.write_shift(4,(+t[ib]||3)<<8),u=0,h=0;u<s.length;++u)if(null!=s[u]){var S=o.next(32),C=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,C,"sbcs"),S.write_shift(1,"?"==g[u]?"C":g[u],"sbcs"),S.write_shift(4,h),S.write_shift(1,m[u]||n[g[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),h+=m[u]||n[g[u]]||0}var A=o.next(264);for(A.write_shift(4,13),u=0;u<65;++u)A.write_shift(4,0);for(u=0;u<c.length;++u){var T=o.next(d);for(T.write_shift(1,0),h=0;h<s.length;++h)if(null!=s[h])switch(g[h]){case"L":T.write_shift(1,null==c[u][h]?63:c[u][h]?84:70);break;case"B":T.write_shift(8,c[u][h]||0,"f");break;case"N":var I="0";for("number"==typeof c[u][h]&&(I=c[u][h].toFixed(v[h]||0)),f=0;f<m[h]-I.length;++f)T.write_shift(1,32);T.write_shift(1,I,"sbcs");break;case"D":c[u][h]?(T.write_shift(4,("0000"+c[u][h].getFullYear()).slice(-4),"sbcs"),T.write_shift(2,("00"+(c[u][h].getMonth()+1)).slice(-2),"sbcs"),T.write_shift(2,("00"+c[u][h].getDate()).slice(-2),"sbcs")):T.write_shift(8,"00000000","sbcs");break;case"C":var x=String(null!=c[u][h]?c[u][h]:"").slice(0,m[h]);for(T.write_shift(1,x,"sbcs"),f=0;f<m[h]-x.length;++f)T.write_shift(1,32)}}return o.next(1).write_shift(1,26),o.end()}}}(),zT=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+xE(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?gb(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:gb(n)};function i(e,i){var o,a=e.split(/[\n\r]+/),s=-1,c=-1,l=0,u=0,h=[],f=[],d=null,p={},g=[],m=[],v=[],y=0;for(+i.codepage>=0&&cb(+i.codepage);l!==a.length;++l){y=0;var w,b=a[l].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),E=b.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),_=E[0];if(b.length>0)switch(_){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==E[1].charAt(0)&&f.push(b.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,C=!1,A=!1,T=!1,I=-1,x=-1;for(u=1;u<E.length;++u)switch(E[u].charAt(0)){case"A":case"G":break;case"X":c=parseInt(E[u].slice(1))-1,C=!0;break;case"Y":for(s=parseInt(E[u].slice(1))-1,C||(c=0),o=h.length;o<=s;++o)h[o]=[];break;case"K":'"'===(w=E[u].slice(1)).charAt(0)?w=w.slice(1,w.length-1):"TRUE"===w?w=!0:"FALSE"===w?w=!1:isNaN(XE(w))?isNaN(qE(w).getDate())||(w=zE(w)):(w=XE(w),null!==d&&dE(d)&&(w=FE(w))),"undefined"!==typeof fb&&"string"==typeof w&&"string"!=(i||{}).type&&(i||{}).codepage&&(w=fb.utils.decode(i.codepage,w)),S=!0;break;case"E":T=!0;var k=wx(E[u].slice(1),{r:s,c:c});h[s][c]=[h[s][c],k];break;case"S":A=!0,h[s][c]=[h[s][c],"S5S"];break;case"R":I=parseInt(E[u].slice(1))-1;break;case"C":x=parseInt(E[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}if(S&&(h[s][c]&&2==h[s][c].length?h[s][c][0]=w:h[s][c]=w,d=null),A){if(T)throw new Error("SYLK shared formula cannot have own formula");var N=I>-1&&h[I][x];if(!N||!N[1])throw new Error("SYLK shared formula cannot find base");h[s][c][1]=_x(N[1],{r:s-I,c:c-x})}break;case"F":var O=0;for(u=1;u<E.length;++u)switch(E[u].charAt(0)){case"X":c=parseInt(E[u].slice(1))-1,++O;break;case"Y":for(s=parseInt(E[u].slice(1))-1,o=h.length;o<=s;++o)h[o]=[];break;case"M":y=parseInt(E[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":d=f[parseInt(E[u].slice(1))];break;case"W":for(v=E[u].slice(1).split(" "),o=parseInt(v[0],10);o<=parseInt(v[1],10);++o)y=parseInt(v[2],10),m[o-1]=0===y?{hidden:!0}:{wch:y},xI(m[o-1]);break;case"C":m[c=parseInt(E[u].slice(1))-1]||(m[c]={});break;case"R":g[s=parseInt(E[u].slice(1))-1]||(g[s]={}),y>0?(g[s].hpt=y,g[s].hpx=OI(y)):0===y&&(g[s].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}O<1&&(d=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}}return g.length>0&&(p["!rows"]=g),m.length>0&&(p["!cols"]=m),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function o(e,t){var r=function(e,t){switch(t.type){case"base64":return i(yb(e),t);case"binary":return i(e,t);case"buffer":return i(wb&&Buffer.isBuffer(e)?e.toString("binary"):Ab(e),t);case"array":return i(HE(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],o=r[1],a=mC(n,t);return xE(o).forEach(function(e){a[e]=o[e]}),a}function a(e,t,r,n){var i="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+Ex(e.f,{r:r,c:n}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return pC(o(e,t),t)},to_sheet:o,from_sheet:function(e,t){var r,n,i=["ID;PWXL;N;E"],o=[],s=hC(e["!ref"]),c=Array.isArray(e),l="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=i,e["!cols"].forEach(function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=SI(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=CI(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)})),e["!rows"]&&function(e,t){t.forEach(function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*NI(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))})}(i,e["!rows"]),i.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var h=s.s.c;h<=s.e.c;++h){var f=cC({r:u,c:h});(r=c?(e[u]||[])[h]:e[f])&&(null!=r.v||r.f&&!r.F)&&o.push(a(r,0,u,h))}return i.join(l)+l+o.join(l)+l+"E"+l}}}(),HT=function(){function e(e,t){for(var r=e.split("\n"),n=-1,i=-1,o=0,a=[];o!==r.length;++o)if("BOT"!==r[o].trim()){if(!(n<0)){for(var s=r[o].trim().split(","),c=s[0],l=s[1],u=r[++o]||"";1&(u.match(/["]/g)||[]).length&&o<r.length-1;)u+="\n"+r[++o];switch(u=u.trim(),+c){case-1:if("BOT"===u){a[++n]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?a[n][i]=!0:"FALSE"===u?a[n][i]=!1:isNaN(XE(l))?isNaN(qE(l).getDate())?a[n][i]=l:a[n][i]=zE(l):a[n][i]=XE(l),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),a[n][i++]=""!==u?u:null}if("EOD"===u)break}}else a[++n]=[],i=0;return t&&t.sheetRows&&(a=a.slice(0,t.sheetRows)),a}function t(t,r){return mC(function(t,r){switch(r.type){case"base64":return e(yb(t),r);case"binary":return e(t,r);case"buffer":return e(wb&&Buffer.isBuffer(t)?t.toString("binary"):Ab(t),r);case"array":return e(HE(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}return{to_workbook:function(e,r){return pC(t(e,r),r)},to_sheet:t,from_sheet:function(){var e=function(e,t,r,n,i){e.push(t),e.push(r+","+n),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,i=[],o=hC(r["!ref"]),a=Array.isArray(r);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,o.e.r-o.s.r+1,""),e(i,"TUPLES",0,o.e.c-o.s.c+1,""),e(i,"DATA",0,0,"");for(var s=o.s.r;s<=o.e.r;++s){t(i,-1,0,"BOT");for(var c=o.s.c;c<=o.e.c;++c){var l=cC({r:s,c:c});if(n=a?(r[s]||[])[c]:r[l])switch(n.t){case"n":var u=n.w;u||null==n.v||(u=n.v),null==u?n.f&&!n.F?t(i,1,0,"="+n.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=vE(n.z||jb[14],DE(zE(n.v)))),t(i,0,n.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}()}}(),WT=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(t,r){return mC(function(t,r){for(var n=t.split("\n"),i=-1,o=-1,a=0,s=[];a!==n.length;++a){var c=n[a].trim().split(":");if("cell"===c[0]){var l=sC(c[1]);if(s.length<=l.r)for(i=s.length;i<=l.r;++i)s[i]||(s[i]=[]);switch(i=l.r,o=l.c,c[2]){case"t":s[i][o]=e(c[3]);break;case"v":s[i][o]=+c[3];break;case"vtf":var u=c[c.length-1];case"vtc":"nl"===c[3]?s[i][o]=!!+c[4]:s[i][o]=+c[4],"vtf"==c[2]&&(s[i][o]=[s[i][o],u])}}}return r&&r.sheetRows&&(s=s.slice(0,r.sheetRows)),s}(t,r),r)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function s(e){if(!e||!e["!ref"])return"";for(var r,n=[],i=[],o="",a=lC(e["!ref"]),s=Array.isArray(e),c=a.s.r;c<=a.e.r;++c)for(var l=a.s.c;l<=a.e.c;++l)if(o=cC({r:c,c:l}),(r=s?(e[c]||[])[l]:e[o])&&null!=r.v&&"z"!==r.t){switch(i=["cell",o,"t"],r.t){case"s":case"str":i.push(t(r.v));break;case"n":r.f?(i[2]="vtf",i[3]="n",i[4]=r.v,i[5]=t(r.f)):(i[2]="v",i[3]=r.v);break;case"b":i[2]="vt"+(r.f?"f":"c"),i[3]="nl",i[4]=r.v?"1":"0",i[5]=t(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var u=DE(zE(r.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=r.w||vE(r.z||jb[14],u);break;case"e":continue}n.push(i.join(":"))}return n.push("sheet:c:"+(a.e.c-a.s.c+1)+":r:"+(a.e.r-a.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,t){return pC(r(e,t),t)},to_sheet:r,from_sheet:function(e){return[n,i,o,i,s(e),a].join("\n")}}}(),GT=function(){function e(e,t,r,n,i){i.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(XE(e))?isNaN(qE(e).getDate())?t[r][n]=e:t[r][n]=zE(e):t[r][n]=XE(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},i=!1,o=0,a=0;o<e.length;++o)34==(a=e.charCodeAt(o))?i=!i:!i&&a in t&&(n[a]=(n[a]||0)+1);for(o in a=[],n)Object.prototype.hasOwnProperty.call(n,o)&&a.push([n[o],o]);if(!a.length)for(o in n=r)Object.prototype.hasOwnProperty.call(n,o)&&a.push([n[o],o]);return a.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),t[a.pop()[1]]||44}function i(e,t){var r=t||{},i="";var o=r.dense?[]:{},a={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=n(e.slice(0,1024)):i=r&&r.FS?r.FS:n(e.slice(0,1024));var s=0,c=0,l=0,u=0,h=0,f=i.charCodeAt(0),d=!1,p=0,g=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var m=null!=r.dateNF?function(e){var t="number"==typeof e?jb[e]:e;return t=t.replace(_E,"(\\d+)"),new RegExp("^"+t+"$")}(r.dateNF):null;function v(){var t=e.slice(u,h),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(n.t="n",n.f=t.slice(1)):(n.t="s",n.v=t);else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(l=XE(t)))if(!isNaN(qE(t).getDate())||m&&t.match(m)){n.z=r.dateNF||jb[14];var i=0;m&&t.match(m)&&(t=function(e,t,r){var n=-1,i=-1,o=-1,a=-1,s=-1,c=-1;(t.match(_E)||[]).forEach(function(e,t){var l=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=l;break;case"d":o=l;break;case"h":a=l;break;case"s":c=l;break;case"m":a>=0?s=l:i=l}}),c>=0&&-1==s&&i>=0&&(s=i,i=-1);var l=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==l.length&&(l="0"+l),8==l.length&&(l="20"+l);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return-1==a&&-1==s&&-1==c?l:-1==n&&-1==i&&-1==o?u:l+"T"+u}(0,r.dateNF,t.match(m)||[]),i=1),r.cellDates?(n.t="d",n.v=zE(t,i)):(n.t="n",n.v=DE(zE(t,i))),!1!==r.cellText&&(n.w=vE(n.z,n.v instanceof Date?DE(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=l;if("z"==n.t||(r.dense?(o[s]||(o[s]=[]),o[s][c]=n):o[cC({c:c,r:s})]=n),u=h+1,g=e.charCodeAt(u),a.e.c<c&&(a.e.c=c),a.e.r<s&&(a.e.r=s),p==f)++c;else if(c=0,++s,r.sheetRows&&r.sheetRows<=s)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===g&&(d=!d);break;case f:case 10:case 13:if(!d&&v())break e}return h-u>0&&v(),o["!ref"]=uC(a),o}function o(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,r):mC(function(t,r){var n=r||{},i=[];if(!t||0===t.length)return i;for(var o=t.split(/[\r\n]/),a=o.length-1;a>=0&&0===o[a].length;)--a;for(var s=10,c=0,l=0;l<=a;++l)-1==(c=o[l].indexOf(" "))?c=o[l].length:c++,s=Math.max(s,c);for(l=0;l<=a;++l){i[l]=[];var u=0;for(e(o[l].slice(0,s).trim(),i,l,u,n),u=1;u<=(o[l].length-s)/10+1;++u)e(o[l].slice(s+10*(u-1),s+10*u).trim(),i,l,u,n)}return n.sheetRows&&(i=i.slice(0,n.sheetRows)),i}(t,r),r):i(t,r)}function a(e,t){var r="",n="string"==t.type?[0,0,0,0]:gR(e,t);switch(t.type){case"base64":r=yb(e);break;case"binary":case"string":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof fb?fb.utils.decode(t.codepage,e):wb&&Buffer.isBuffer(e)?e.toString("binary"):Ab(e);break;case"array":r=HE(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=O_(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=O_(r):"binary"==t.type&&"undefined"!==typeof fb&&t.codepage&&(r=fb.utils.decode(t.codepage,fb.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?WT.to_sheet("string"==t.type?r:O_(r),t):o(r,t)}return{to_workbook:function(e,t){return pC(a(e,t),t)},to_sheet:a,from_sheet:function(e){for(var t,r=[],n=hC(e["!ref"]),i=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){for(var a=[],s=n.s.c;s<=n.e.c;++s){var c=cC({r:o,c:s});if((t=i?(e[o]||[])[s]:e[c])&&null!=t.v){for(var l=(t.w||(dC(t),t.w)||"").slice(0,10);l.length<10;)l+=" ";a.push(l+(0===s?" ":""))}else a.push("          ")}r.push(a.join(""))}return r.join("\n")}}}();var XT=function(){function e(e,t,r){if(e){KS(e,e.l||0);for(var n=r.Enum||v;e.l<e.length;){var i=e.read_shift(2),o=n[i]||n[65535],a=e.read_shift(2),s=e.l+a,c=o.f&&o.f(e,a,r);if(e.l=s,t(c,o,i))return}}}function t(t,r){if(!t)return t;var n=r||{};var i=n.dense?[]:{},o="Sheet1",a="",s=0,c={},l=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},f=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=v,e(t,function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:h=e;break;case 204:e&&(a=e);break;case 222:a=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||jb[14],n.cellDates&&(e[1].t="d",e[1].v=FE(e[1].v))),n.qpro&&e[3]>s&&(i["!ref"]=uC(h),c[o]=i,l.push(o),i=n.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o=a||"Sheet"+(s+1),a="");var u=n.dense?(i[e[0].r]||[])[e[0].c]:i[cC(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}n.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[cC(e[0])]=e[1]}},n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=y,14==t[2]&&(n.qpro=!0,t.l=0),e(t,function(e,t,r){switch(r){case 204:o=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(i["!ref"]=uC(h),c[o]=i,l.push(o),i=n.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o="Sheet"+(s+1)),f>0&&e[0].r>=f)break;n.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[cC(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(o=e[1])}},n)}if(i["!ref"]=uC(h),c[a||o]=i,l.push(a||o),!u.length)return{SheetNames:l,Sheets:c};for(var d={},p=[],g=0;g<u.length;++g)c[l[g]]?(p.push(u[g]||l[g]),d[u[g]]=c[u[g]]||c[l[g]]):(p.push(u[g]),d[u[g]]={"!ref":"A1"});return{SheetNames:p,Sheets:d}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var i=e.l+t,o=r(e,0,n);if(o[1].t="s",20768==n.vers){e.l++;var a=e.read_shift(1);return o[1].v=e.read_shift(a,"utf8"),o}return n.qpro&&e.l++,o[1].v=e.read_shift(i-e.l,"cstr"),o}function i(e,t,r){var n=YS(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var i=0;i<n.length;++i){var o=r.charCodeAt(i);n.write_shift(1,o>=128?95:o)}return n.write_shift(1,0),n}function o(e,t,r){var n=YS(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function a(e,t,r){var n=YS(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function s(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?aC(t):iC(t))}var c={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},l=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,r,n){var i=YS(6+n.length);i.write_shift(2,e),i.write_shift(1,r),i.write_shift(1,t),i.write_shift(1,39);for(var o=0;o<n.length;++o){var a=n.charCodeAt(o);i.write_shift(1,a>=128?95:a)}return i.write_shift(1,0),i}function f(e,t){var r=u(e),n=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(2);if(65535==o)return 0===n&&3221225472===i?(r[1].t="e",r[1].v=15):0===n&&3489660928===i?(r[1].t="e",r[1].v=42):r[1].v=0,r;var a=32768&o;return o=(32767&o)-16446,r[1].v=(1-2*a)*(i*Math.pow(2,o+32)+n*Math.pow(2,o)),r}function d(e,t,r,n){var i=YS(14);if(i.write_shift(2,e),i.write_shift(1,r),i.write_shift(1,t),0==n)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var o,a=0,s=0,c=0;return n<0&&(a=1,n=-n),s=0|Math.log2(n),0==(2147483648&(c=(n/=Math.pow(2,s-31))>>>0))&&(++s,c=(n/=2)>>>0),n-=c,c|=2147483648,c>>>=0,o=(n*=Math.pow(2,32))>>>0,i.write_shift(4,o),i.write_shift(4,c),s+=16383+(a?32768:0),i.write_shift(2,s),i}function p(e,t){var r=u(e),n=e.read_shift(8,"f");return r[1].v=n,r}function g(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function m(e,t){var r=YS(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var i=e.charCodeAt(n);r[r.l++]=i>127?95:i}return r[r.l++]=0,r}var v={0:{n:"BOF",f:WA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var i=r(e,0,n);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,n){var i=r(e,0,n);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var i=e.l+t,o=r(e,0,n);if(o[1].v=e.read_shift(8,"f"),n.qpro)e.l=i;else{var a=e.read_shift(2);!function(e,t){KS(e,0);var r=[],n=0,i="",o="",a="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:r.push(e.read_shift(8,"f"));break;case 1:o=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),r.push(o+i);break;case 2:var f=s(t[0].c,e.read_shift(2),!0),d=s(t[0].r,e.read_shift(2),!1);o=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),r.push(f+d+":"+o+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:u=r.pop(),a=r.pop(),r.push(["AND","OR"][h-20]+"("+a+","+u+")");break;default:if(h<32&&l[h])u=r.pop(),a=r.pop(),r.push(a+l[h]+u);else{if(!c[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(n=c[h][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+r.join("|")+"|");var g=r.slice(-n);r.length-=n,r.push(c[h][0]+"("+g.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+a),o),e.l+=a}return o}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:g},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=u(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:f},24:{n:"NUMBER18",f:function(e,t){var r=u(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=f(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var i=e.read_shift(2);if(14e3==i){for(r[i]=[0,""],r[i][0]=e.read_shift(2);e[e.l];)r[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=u(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:g},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&cb(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n=$S(),s=hC(e["!ref"]),c=Array.isArray(e),l=[];aO(n,0,function(e){var t=YS(2);return t.write_shift(2,e),t}(1030)),aO(n,6,function(e){var t=YS(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(s));for(var u=Math.min(s.e.r,8191),h=s.s.r;h<=u;++h)for(var f=iC(h),d=s.s.c;d<=s.e.c;++d){h===s.s.r&&(l[d]=aC(d));var p=l[d]+f,g=c?(e[h]||[])[d]:e[p];if(g&&"z"!=g.t)if("n"==g.t)(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?aO(n,13,o(h,d,g.v)):aO(n,14,a(h,d,g.v));else aO(n,15,i(h,d,dC(g).slice(0,239)))}return aO(n,1),n.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&cb(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=$S();aO(n,0,function(e){var t=YS(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,i=0,o=0;o<e.SheetNames.length;++o){var a=e.SheetNames[o],s=e.Sheets[a];if(s&&s["!ref"]){++i;var c=lC(s["!ref"]);r<c.e.r&&(r=c.e.r),n<c.e.c&&(n=c.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,i),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,o=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&aO(n,27,m(e.SheetNames[i],o++));var a=0;for(i=0;i<e.SheetNames.length;++i){var s=e.Sheets[e.SheetNames[i]];if(s&&s["!ref"]){for(var c=hC(s["!ref"]),l=Array.isArray(s),u=[],f=Math.min(c.e.r,8191),p=c.s.r;p<=f;++p)for(var g=iC(p),v=c.s.c;v<=c.e.c;++v){p===c.s.r&&(u[v]=aC(v));var y=u[v]+g,w=l?(s[p]||[])[v]:s[y];if(w&&"z"!=w.t)if("n"==w.t)aO(n,23,d(p,v,a,w.v));else aO(n,22,h(p,v,a,dC(w).slice(0,239)))}++a}}return aO(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(Sb(yb(e)),r);case"binary":return t(Sb(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var KT=function(){var e=D_("t"),t=D_("rPr");function r(r){var n=r.match(e);if(!n)return{t:"s",v:""};var i={t:"s",v:y_(n[1])},o=r.match(t);return o&&(i.s=function(e){var t={},r=e.match(h_),n=0,i=!1;if(r)for(;n!=r.length;++n){var o=p_(r[n]);switch(o[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!o.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==o.val)break;t.cp=ab[parseInt(o.val,10)];break;case"<outline":if(!o.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=o.val;break;case"<sz":t.sz=o.val;break;case"<strike":if(!o.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!o.val)break;switch(o.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==o.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==o.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":o.rgb&&(t.color=o.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=o.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=o.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==o[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+o[0])}}return t}(o[1])),i}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(n,"").split(i).map(r).filter(function(e){return e.v})}}(),qT=function(){var e=/(\r\n|\n)/g;function t(t){var r=[[],t.v,[]];return t.v?(t.s&&function(e,t,r){var n=[];e.u&&n.push("text-decoration: underline;"),e.uval&&n.push("text-underline-style:"+e.uval+";"),e.sz&&n.push("font-size:"+e.sz+"pt;"),e.outline&&n.push("text-effect: outline;"),e.shadow&&n.push("text-shadow: auto;"),t.push('<span style="'+n.join("")+'">'),e.b&&(t.push("<b>"),r.push("</b>")),e.i&&(t.push("<i>"),r.push("</i>")),e.strike&&(t.push("<s>"),r.push("</s>"));var i=e.valign||"";"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(t.push("<"+i+">"),r.push("</"+i+">")),r.push("</span>")}(t.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(t).join("")}}(),YT=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ZT=/<(?:\w+:)?r>/,$T=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function QT(e,t){var r=!t||t.cellHTML,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=y_(O_(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=O_(e),r&&(n.h=C_(n.t))):e.match(ZT)&&(n.r=O_(e),n.t=y_(O_((e.replace($T,"").match(YT)||[]).join("").replace(h_,""))),r&&(n.h=qT(KT(n.r)))),n):{t:""}}var JT=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,eI=/<(?:\w+:)?(?:si|sstItem)>/g,tI=/<\/(?:\w+:)?(?:si|sstItem)>/;var rI=/^\s|\s$|[\t\n\r]/;function nI(e,t){if(!t.bookSST)return"";var r=[c_];r[r.length]=z_("sst",null,{xmlns:oS[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var i=e[n],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(rI)&&(o+=' xml:space="preserve"'),o+=">"+E_(i.t)+"</t>"),o+="</si>",r[r.length]=o}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var iI=function(e,t){var r=!1;return null==t&&(r=!0,t=YS(15+4*e.t.length)),t.write_shift(1,0),wC(e.t,t),r?t.slice(0,t.l):t};function oI(e){var t=$S();QS(t,159,function(e,t){return t||(t=YS(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)QS(t,19,iI(e[r]));return QS(t,160),t.end()}function aI(e){if("undefined"!==typeof fb)return fb.utils.encode(ib,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function sI(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function cI(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),o=[];i-- >0;)o.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=o,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function lI(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=sI(e,4),t.U=sI(e,4),t.W=sI(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function uI(e,t){var r=e.l+t,n={};n.Flags=63&e.read_shift(4),e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=36==n.Flags;break;case 26625:i=4==n.Flags;break;case 0:i=16==n.Flags||4==n.Flags||36==n.Flags;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function hI(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function fI(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:uI(e,t),v:hI(e,e.length-e.l)}}function dI(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pI(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(h_,function(e){var r=p_(e);switch(g_(r[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach(function(e){n[e]=r[e]});break;case"<dataIntegrity":n.encryptedHmacKey=r.encryptedHmacKey,n.encryptedHmacValue=r.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"<keyEncryptor":n.uri=r.uri;break;case"<encryptedKey":n.encs.push(r);break;default:throw r[0]}}),n}function gI(e){var t,r,n=0,i=aI(e),o=i.length+1;for((t=Eb(o))[0]=i.length,r=1;r!=o;++r)t[r]=i[r-1];for(r=o-1;r>=0;--r)n=((0===(16384&n)?0:1)|n<<1&32767)^t[r];return 52811^n}var mI=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(e,t){return 255&((r=e^t)/2|128*r);var r};return function(i){for(var o,a,s,c=aI(i),l=function(e){for(var n=t[e.length-1],i=104,o=e.length-1;o>=0;--o)for(var a=e[o],s=0;7!=s;++s)64&a&&(n^=r[i]),a*=2,--i;return n}(c),u=c.length,h=Eb(16),f=0;16!=f;++f)h[f]=0;for(1===(1&u)&&(o=l>>8,h[u]=n(e[0],o),--u,o=255&l,a=c[c.length-1],h[u]=n(a,o));u>0;)o=l>>8,h[--u]=n(c[u],o),o=255&l,h[--u]=n(c[u],o);for(u=15,s=15-c.length;s>0;)o=l>>8,h[u]=n(e[s],o),--s,o=255&l,h[--u]=n(c[u],o),--u,--s;return h}}(),vI=function(e){var t=0,r=mI(e);return function(e){var n=function(e,t,r,n,i){var o,a;for(i||(i=t),n||(n=mI(e)),o=0;o!=t.length;++o)a=t[o],a=255&((a^=n[r])>>5|a<<3),i[o]=a,++r;return[i,r,n]}("",e,t,r);return t=n[1],n[0]}};function yI(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e){var t={},r=t.EncryptionVersionInfo=sI(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):n.Data=function(e,t){var r={},n=r.EncryptionVersionInfo=sI(e,4);if(t-=4,2!=n.Minor)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=uI(e,i),t-=i,r.EncryptionVerifier=hI(e,t),r}(e,t),n}var wI=function(){function e(e,r){switch(r.type){case"base64":return t(yb(e),r);case"binary":return t(e,r);case"buffer":return t(wb&&Buffer.isBuffer(e)?e.toString("binary"):Ab(e),r);case"array":return t(HE(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach(function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,o=/\\\w+\b/g,a=0,s=-1;n=o.exec(e);){if("\\cell"===n[0]){var c=e.slice(a,o.lastIndex-n[0].length);if(" "==c[0]&&(c=c.slice(1)),++s,c.length){var l={v:c,t:"s"};Array.isArray(r)?r[t][s]=l:r[cC({r:t,c:s})]=l}}a=o.lastIndex}s>i.e.c&&(i.e.c=s)}),r["!ref"]=uC(i),r}return{to_workbook:function(t,r){return pC(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=hC(e["!ref"]),i=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){r.push("\\trowd\\trautofit1");for(var a=n.s.c;a<=n.e.c;++a)r.push("\\cellx"+(a+1));for(r.push("\\pard\\intbl"),a=n.s.c;a<=n.e.c;++a){var s=cC({r:o,c:a});(t=i?(e[o]||[])[a]:e[s])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(dC(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function bI(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function EI(e,t){if(0===t)return e;var r=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),o=Math.min(t,r,n),a=i-o;if(0===a)return[0,0,t];var s,c=0,l=i+o;switch(s=a/(l>1?2-l:l),i){case t:c=((r-n)/a+6)%6;break;case r:c=(n-t)/a+2;break;case n:c=(t-r)/a+4}return[c/6,s,l/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return r[2]=t<0?r[2]*(1+t):1-(1-r[2])*(1-t),bI(function(e){var t,r=e[0],n=e[1],i=e[2],o=2*n*(i<.5?i:1-i),a=i-o/2,s=[a,a,a],c=6*r;if(0!==n)switch(0|c){case 0:case 6:t=o*c,s[0]+=o,s[1]+=t;break;case 1:t=o*(2-c),s[0]+=t,s[1]+=o;break;case 2:t=o*(c-2),s[1]+=o,s[2]+=t;break;case 3:t=o*(4-c),s[1]+=t,s[2]+=o;break;case 4:t=o*(c-4),s[2]+=o,s[0]+=t;break;case 5:t=o*(6-c),s[2]+=t,s[0]+=o}for(var l=0;3!=l;++l)s[l]=Math.round(255*s[l]);return s}(r))}var _I=6;function SI(e){return Math.floor((e+Math.round(128/_I)/256)*_I)}function CI(e){return Math.floor((e-5)/_I*100+.5)/100}function AI(e){return Math.round((e*_I+5)/_I*256)/256}function TI(e){return AI(CI(SI(e)))}function II(e){var t=Math.abs(e-TI(e)),r=_I;if(t>.005)for(_I=1;_I<15;++_I)Math.abs(e-TI(e))<=t&&(t=Math.abs(e-TI(e)),r=_I);_I=r}function xI(e){e.width?(e.wpx=SI(e.width),e.wch=CI(e.wpx),e.MDW=_I):e.wpx?(e.wch=CI(e.wpx),e.width=AI(e.wch),e.MDW=_I):"number"==typeof e.wch&&(e.width=AI(e.wch),e.wpx=SI(e.width),e.MDW=_I),e.customWidth&&delete e.customWidth}var kI=96;function NI(e){return 96*e/kI}function OI(e){return e*kI/96}var RI={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var DI=["numFmtId","fillId","fontId","borderId","xfId"],PI=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var MI=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,a,s){var c,l={};return o?((c=(o=o.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,r){t.NumberFmt=[];for(var n=xE(jb),i=0;i<n.length;++i)t.NumberFmt[n[i]]=jb[n[i]];var o=e[0].match(h_);if(o)for(i=0;i<o.length;++i){var a=p_(o[i]);switch(g_(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var s=y_(O_(a.formatCode)),c=parseInt(a.numFmtId,10);if(t.NumberFmt[c]=s,c>0){if(c>392){for(c=392;c>60&&null!=t.NumberFmt[c];--c);t.NumberFmt[c]=s}yE(s,c)}break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}(c,l,s),(c=o.match(n))&&function(e,t,r,n){t.Fonts=[];var i={},o=!1;(e[0].match(h_)||[]).forEach(function(e){var a=p_(e);switch(g_(a[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=O_(a.val));break;case"<b":i.bold=a.val?T_(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?T_(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?T_(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?T_(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?T_(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?T_(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?T_(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<charset":if("1"==a.val)break;a.codepage=ab[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=T_(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var s=$C[i.color.index];81==i.color.index&&(s=$C[1]),s||(s=$C[1]),i.color.rgb=s[0].toString(16)+s[1].toString(16)+s[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=EI(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<AlternateContent":case"<ext":o=!0;break;case"</AlternateContent>":case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fonts")}})}(c,l,a,s),(c=o.match(r))&&function(e,t,r,n){t.Fills=[];var i={},o=!1;(e[0].match(h_)||[]).forEach(function(e){var r=p_(e);switch(g_(r[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":r.patternType&&(i.patternType=r.patternType);break;case"<bgColor":i.bgColor||(i.bgColor={}),r.indexed&&(i.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(i.bgColor.theme=parseInt(r.theme,10)),r.tint&&(i.bgColor.tint=parseFloat(r.tint)),r.rgb&&(i.bgColor.rgb=r.rgb.slice(-6));break;case"<fgColor":i.fgColor||(i.fgColor={}),r.theme&&(i.fgColor.theme=parseInt(r.theme,10)),r.tint&&(i.fgColor.tint=parseFloat(r.tint)),null!=r.rgb&&(i.fgColor.rgb=r.rgb.slice(-6));break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+r[0]+" in fills")}})}(c,l,0,s),(c=o.match(i))&&function(e,t,r,n){t.Borders=[];var i={},o=!1;(e[0].match(h_)||[]).forEach(function(e){var r=p_(e);switch(g_(r[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":i={},r.diagonalUp&&(i.diagonalUp=T_(r.diagonalUp)),r.diagonalDown&&(i.diagonalDown=T_(r.diagonalDown)),t.Borders.push(i);break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+r[0]+" in borders")}})}(c,l,0,s),(c=o.match(t))&&function(e,t,r){var n;t.CellXf=[];var i=!1;(e[0].match(h_)||[]).forEach(function(e){var o=p_(e),a=0;switch(g_(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(n=o)[0],a=0;a<DI.length;++a)n[DI[a]]&&(n[DI[a]]=parseInt(n[DI[a]],10));for(a=0;a<PI.length;++a)n[PI[a]]&&(n[PI[a]]=T_(n[PI[a]]));if(t.NumberFmt&&n.numFmtId>392)for(a=392;a>60;--a)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[a]){n.numFmtId=a;break}t.CellXf.push(n);break;case"<alignment":case"<alignment/>":var s={};o.vertical&&(s.vertical=o.vertical),o.horizontal&&(s.horizontal=o.horizontal),null!=o.textRotation&&(s.textRotation=o.textRotation),o.indent&&(s.indent=o.indent),o.wrapText&&(s.wrapText=T_(o.wrapText)),n.alignment=s;break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}(c,l,s),l):l}}();function LI(e,t){var r,n=[c_,z_("styleSheet",null,{xmlns:oS[0],"xmlns:vt":rS})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=z_("numFmt",null,{numFmtId:n,formatCode:E_(e[n])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=z_("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=z_("cellXfs",null),e.forEach(function(e){t[t.length]=z_("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=z_("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function FI(e,t,r){r||(r=YS(6+4*t.length)),r.write_shift(2,e),wC(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function BI(e,t){t||(t=YS(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=YS(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),zC(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),wC(e.name,t),t.length>t.l?t.slice(0,t.l):t}var jI,UI=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],VI=qS;function zI(e,t){t||(t=YS(84)),jI||(jI=NE(UI));var r=jI[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(zC({auto:1},t),zC({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function HI(e,t,r){r||(r=YS(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function WI(e,t){return t||(t=YS(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var GI=qS;function XI(e){var t;QS(e,613,vC(1)),QS(e,46,(t||(t=YS(51)),t.write_shift(1,0),WI(0,t),WI(0,t),WI(0,t),WI(0,t),WI(0,t),t.length>t.l?t.slice(0,t.l):t)),QS(e,614)}function KI(e){var t,r;QS(e,619,vC(1)),QS(e,48,(t={xfId:0,builtinId:0,name:"Normal"},r||(r=YS(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),OC(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),QS(e,620)}function qI(e){QS(e,508,function(e,t,r){var n=YS(2052);return n.write_shift(4,e),OC(t,n),OC(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),QS(e,509)}function YI(e,t){var r=$S();return QS(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r}),0!=r&&(QS(e,615,vC(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&QS(e,44,FI(n,t[n]))}),QS(e,616))}}(r,e.SSF),function(e){QS(e,611,vC(1)),QS(e,43,BI({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),QS(e,612)}(r),function(e){QS(e,603,vC(2)),QS(e,45,zI({patternType:"none"})),QS(e,45,zI({patternType:"gray125"})),QS(e,604)}(r),XI(r),function(e){QS(e,626,vC(1)),QS(e,47,HI({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),QS(e,627)}(r),function(e,t){QS(e,617,vC(t.length)),t.forEach(function(t){QS(e,47,HI(t,0))}),QS(e,618)}(r,t.cellXfs),KI(r),function(e){QS(e,505,vC(0)),QS(e,506)}(r),qI(r),QS(r,279),r.end()}var ZI=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function $I(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(h_)||[]).forEach(function(e){var i=p_(e);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(t.themeElements.clrScheme[ZI.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function QI(){}function JI(){}var ex=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,tx=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,rx=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var nx=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function ix(e,t){var r;e&&0!==e.length||(e=ox());var n={};if(!(r=e.match(nx)))throw new Error("themeElements not found in theme");return function(e,t,r){var n;t.themeElements={},[["clrScheme",ex,$I],["fontScheme",tx,QI],["fmtScheme",rx,JI]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}(r[0],n,t),n.raw=e,n}function ox(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[c_];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ax(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return qS(e,t)}(e,4);break;case 2:t.xclrValue=oT(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function sx(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=ax(e);break;case 6:n[1]=function(e,t){return qS(e,t)}(e,r);break;case 14:case 15:n[1]=e.read_shift(1===r?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function cx(e,t){t.forEach(function(e){e[0]})}function lx(){var e=$S();return QS(e,332),QS(e,334,vC(1)),QS(e,335,function(e){var t=YS(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),wC(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),QS(e,336),QS(e,339,function(e,t){var r=YS(8+2*t.length);return r.write_shift(4,e),wC(t,r),r.slice(0,r.l)}(1,"XLDAPR")),QS(e,52),QS(e,35,vC(514)),QS(e,4096,vC(0)),QS(e,4097,GA(1)),QS(e,36),QS(e,53),QS(e,340),QS(e,337,function(e,t){var r=YS(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}(1,!0)),QS(e,51,function(e){var t=YS(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),QS(e,338),QS(e,333),e.end()}function ux(){var e=[c_];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var hx=1024;function fx(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[z_("xml",null,{"xmlns:v":hS,"xmlns:o":aS,"xmlns:x":sS,"xmlns:mv":uS}).replace(/\/>/,">"),z_("o:shapelayout",z_("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),z_("v:shapetype",[z_("v:stroke",null,{joinstyle:"miter"}),z_("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];hx<1e3*e;)hx+=1e3;return t.forEach(function(e){var t=sC(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?z_("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=z_("v:fill",n,r);++hx,i=i.concat(["<v:shape"+V_({id:"_x0000_s"+hx,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,z_("v:shadow",null,{on:"t",obscured:"t"}),z_("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",U_("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),U_("x:AutoFill","False"),U_("x:Row",String(t.r)),U_("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function dx(e,t,r,n){var i,o=Array.isArray(e);t.forEach(function(t){var a=sC(t.ref);if(o?(e[a.r]||(e[a.r]=[]),i=e[a.r][a.c]):i=e[t.ref],!i){i={t:"z"},o?e[a.r][a.c]=i:e[t.ref]=i;var s=hC(e["!ref"]||"BDWGO1000001:A1");s.s.r>a.r&&(s.s.r=a.r),s.e.r<a.r&&(s.e.r=a.r),s.s.c>a.c&&(s.s.c=a.c),s.e.c<a.c&&(s.e.c=a.c);var c=uC(s);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var l={a:t.author,t:t.t,r:t.r,T:r};t.h&&(l.h=t.h);for(var u=i.c.length-1;u>=0;--u){if(!r&&i.c[u].T)return;r&&!i.c[u].T&&i.c.splice(u,1)}if(r&&n)for(u=0;u<n.length;++u)if(l.a==n[u].id){l.a=n[u].name||l.a;break}i.c.push(l)})}function px(e){var t=[c_,z_("comments",null,{xmlns:oS[0]})],r=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var n=E_(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var n=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(n=r.indexOf(E_(e.a))),i.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(U_("t",E_(i[0]||"")));else{for(var o="Comment:\n    "+i[0]+"\n",a=1;a<i.length;++a)o+="Reply:\n    "+i[a]+"\n";t.push(U_("t",E_(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function gx(e,t,r){var n=[c_,z_("ThreadedComments",null,{xmlns:$_}).replace(/[\/]>/,">")];return e.forEach(function(e){var i="";(e[1]||[]).forEach(function(o,a){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==a?i=s.id:s.parentId=i,o.ID=s.id,o.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(z_("threadedComment",U_("text",o.t||""),s))}else delete o.ID})}),n.push("</ThreadedComments>"),n.join("")}var mx=yC;function vx(e){var t=$S(),r=[];return QS(t,628),QS(t,630),e.forEach(function(e){e[1].forEach(function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),QS(t,632,function(e){return wC(e.slice(0,54))}(e.a)))})}),QS(t,631),QS(t,633),e.forEach(function(e){e[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:sC(e[0]),e:sC(e[0])};QS(t,635,function(e,t){return null==t&&(t=YS(36)),t.write_shift(4,e[1].iauthor),jC(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,n])),n.t&&n.t.length>0&&QS(t,637,SC(n)),QS(t,636),delete n.iauthor})}),QS(t,634),QS(t,629),t.end()}var yx=["xlsb","xlsm","xlam","biff8","xla"];var wx=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,i){var o=!1,a=!1;0==n.length?a=!0:"["==n.charAt(0)&&(a=!0,n=n.slice(1,-1)),0==i.length?o=!0:"["==i.charAt(0)&&(o=!0,i=i.slice(1,-1));var s=n.length>0?0|parseInt(n,10):0,c=i.length>0?0|parseInt(i,10):0;return o?c+=t.c:--c,a?s+=t.r:--s,r+(o?"":"$")+aC(c)+(a?"":"$")+iC(s)}return function(n,i){return t=i,n.replace(e,r)}}(),bx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ex=function(){return function(e,t){return e.replace(bx,function(e,r,n,i,o,a){var s=oC(i)-(n?0:t.c),c=nC(a)-(o?0:t.r);return r+"R"+(0==c?"":o?c+1:"["+c+"]")+"C"+(0==s?"":n?s+1:"["+s+"]")})}}();function _x(e,t){return e.replace(bx,function(e,r,n,i,o,a){return r+("$"==n?n+i:aC(oC(i)+t.c))+("$"==o?o+a:iC(nC(a)+t.r))})}function Sx(e,t,r){var n=lC(t).s,i=sC(r);return _x(e,{r:i.r-n.r,c:i.c-n.c})}function Cx(e){return e.replace(/_xlfn\./g,"")}function Ax(e){e.l+=1}function Tx(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function Ix(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return xx(e);12==r.biff&&(n=4)}var i=e.read_shift(n),o=e.read_shift(n),a=Tx(e,2),s=Tx(e,2);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:s[0],cRel:s[1],rRel:s[2]}}}function xx(e){var t=Tx(e,2),r=Tx(e,2),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function kx(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=Tx(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),i=Tx(e,2);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Nx(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function Ox(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function Rx(e){return[e.read_shift(1),e.read_shift(1)]}function Dx(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=zA(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=QC[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=UC(e);break;case 2:r[1]=JA(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Px(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),i=[],o=0;o!=n;++o)i.push((12==r.biff?BC:hT)(e,8));return i}function Mx(e,t,r){var n=0,i=0;12==r.biff?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--i&&(i=256));for(var o=0,a=[];o!=n&&(a[o]=[]);++o)for(var s=0;s!=i;++s)a[o][s]=Dx(e,r.biff);return a}function Lx(e,t,r){return e.l+=2,[Nx(e)]}function Fx(e){return e.l+=6,[]}function Bx(e){return e.l+=2,[WA(e),1&e.read_shift(2)]}var jx=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var Ux={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:qS},3:{n:"PtgAdd",f:Ax},4:{n:"PtgSub",f:Ax},5:{n:"PtgMul",f:Ax},6:{n:"PtgDiv",f:Ax},7:{n:"PtgPower",f:Ax},8:{n:"PtgConcat",f:Ax},9:{n:"PtgLt",f:Ax},10:{n:"PtgLe",f:Ax},11:{n:"PtgEq",f:Ax},12:{n:"PtgGe",f:Ax},13:{n:"PtgGt",f:Ax},14:{n:"PtgNe",f:Ax},15:{n:"PtgIsect",f:Ax},16:{n:"PtgUnion",f:Ax},17:{n:"PtgRange",f:Ax},18:{n:"PtgUplus",f:Ax},19:{n:"PtgUminus",f:Ax},20:{n:"PtgPercent",f:Ax},21:{n:"PtgParen",f:Ax},22:{n:"PtgMissArg",f:Ax},23:{n:"PtgStr",f:function(e,t,r){return e.l++,qA(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,QC[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,UC(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[ck[i],sk[i],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],i=e.read_shift(1),o=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===o[0]?sk:ak)[o[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,o=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,o]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,kx(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,Ix(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:qS},40:{n:"PtgMemNoMem",f:qS},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==i&&r>=128&&(r-=256),{r:t,c:r,cRel:i,rRel:n}}(e);var i=e.read_shift(n>=12?4:2),o=e.read_shift(2),a=(16384&o)>>14,s=(32768&o)>>15;if(o&=16383,1==s)for(;i>524287;)i-=1048576;if(1==a)for(;o>8191;)o-=16384;return{r:i,c:o,cRel:a,rRel:s}}(e,0,r);return[n,i]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=function(e,t,r){if(r.biff<8)return xx(e);var n=e.read_shift(12==r.biff?4:2),i=e.read_shift(12==r.biff?4:2),o=Tx(e,2),a=Tx(e,2);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}(e,0,r);return[n,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,i,kx(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,i,Ix(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=e.read_shift(2),o=4;if(r)switch(r.biff){case 5:o=15;break;case 12:o=6}return e.l+=o,[n,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=e.read_shift(2),o=8;if(r)switch(r.biff){case 5:e.l+=12,o=6;break;case 12:o=12}return e.l+=o,[n,i]}},255:{}},Vx={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zx={1:{n:"PtgElfLel",f:Bx},2:{n:"PtgElfRw",f:Lx},3:{n:"PtgElfCol",f:Lx},6:{n:"PtgElfRwV",f:Lx},7:{n:"PtgElfColV",f:Lx},10:{n:"PtgElfRadical",f:Lx},11:{n:"PtgElfRadicalS",f:Fx},13:{n:"PtgElfColS",f:Fx},15:{n:"PtgElfColSV",f:Fx},16:{n:"PtgElfRadicalLel",f:Bx},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),o=e.read_shift(2);return{ixti:t,coltype:3&r,rt:jx[r>>2&31],idx:n,c:i,C:o}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Hx={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),i=[],o=0;o<=n;++o)i.push(e.read_shift(r&&2==r.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Ox},33:{n:"PtgAttrBaxcel",f:Ox},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),Rx(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),Rx(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Wx(e,t,r,n){if(n.biff<8)return qS(e,t);for(var i=e.l+t,o=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=Mx(e,0,n),o.push(r[a][1]);break;case"PtgMemArea":r[a][2]=Px(e,r[a][1],n),o.push(r[a][2]);break;case"PtgExp":n&&12==n.biff&&(r[a][1][1]=e.read_shift(4),o.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return 0!==(t=i-e.l)&&o.push(qS(e,t)),o}function Gx(e,t,r){for(var n,i,o=e.l+t,a=[];o!=e.l;)t=o-e.l,i=e[e.l],n=Ux[i]||Ux[Vx[i]],24!==i&&25!==i||(n=(24===i?zx:Hx)[e[e.l+1]]),n&&n.f?a.push([n.n,n.f(e,t,r)]):qS(e,t);return a}function Xx(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],o=0;o<n.length;++o){var a=n[o];if(a)if(2===a[0])i.push('"'+a[1].replace(/"/g,'""')+'"');else i.push(a[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var Kx={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function qx(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[n[0]][0][3]?(i=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Yx(e,t,r){var n=qx(e,t,r);return"#REF"==n?n:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function Zx(e,t,r,n,i){var o,a,s,c,l=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],f=0,d=0,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,m="",v=0,y=e[0].length;v<y;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(o=h.pop(),a=h.pop(),g>=0){switch(e[0][g][1][0]){case 0:m=GE(" ",e[0][g][1][1]);break;case 1:m=GE("\r",e[0][g][1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}a+=m,g=-1}h.push(a+Kx[w[0]]+o);break;case"PtgIsect":o=h.pop(),a=h.pop(),h.push(a+" "+o);break;case"PtgUnion":o=h.pop(),a=h.pop(),h.push(a+","+o);break;case"PtgRange":o=h.pop(),a=h.pop(),h.push(a+":"+o);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=JS(w[1][1],u,i),h.push(tC(s,l));break;case"PtgRefN":s=r?JS(w[1][1],r,i):w[1][1],h.push(tC(s,l));break;case"PtgRef3d":f=w[1][1],s=JS(w[1][2],u,i);p=Yx(n,f,i);h.push(p+"!"+tC(s,l));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],E=w[1][1];b||(b=0);var _=0==(b&=127)?[]:h.slice(-b);h.length-=b,"User"===E&&(E=_.shift()),h.push(E+"("+_.join(",")+")");break;case"PtgBool":h.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(w[1]);break;case"PtgNum":h.push(String(w[1]));break;case"PtgStr":h.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":c=eC(w[1][1],r?{s:r}:u,i),h.push(rC(c,i));break;case"PtgArea":c=eC(w[1][1],u,i),h.push(rC(c,i));break;case"PtgArea3d":f=w[1][1],c=w[1][2],p=Yx(n,f,i),h.push(p+"!"+rC(c,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":d=w[1][2];var S=(n.names||[])[d-1]||(n[0]||[])[d],C=S?S.Name:"SH33TJSNAME"+String(d);C&&"_xlfn."==C.slice(0,6)&&!i.xlfn&&(C=C.slice(6)),h.push(C);break;case"PtgNameX":var A,T=w[1][1];if(d=w[1][2],!(i.biff<=5)){var I="";if(14849==((n[T]||[])[0]||[])[0]||(1025==((n[T]||[])[0]||[])[0]?n[T][d]&&n[T][d].itab>0&&(I=n.SheetNames[n[T][d].itab-1]+"!"):I=n.SheetNames[d-1]+"!"),n[T]&&n[T][d])I+=n[T][d].Name;else if(n[0]&&n[0][d])I+=n[0][d].Name;else{var x=(qx(n,T,i)||"").split(";;");x[d-1]?I=x[d-1]:I+="SH33TJSERRX"}h.push(I);break}T<0&&(T=-T),n[T]&&(A=n[T][d]),A||(A={Name:"SH33TJSERRY"}),h.push(A.Name);break;case"PtgParen":var k="(",N=")";if(g>=0){switch(m="",e[0][g][1][0]){case 2:k=GE(" ",e[0][g][1][1])+k;break;case 3:k=GE("\r",e[0][g][1][1])+k;break;case 4:N=GE(" ",e[0][g][1][1])+N;break;case 5:N=GE("\r",e[0][g][1][1])+N;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}h.push(k+h.pop()+N);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":s={c:w[1][1],r:w[1][0]};var O={c:r.c,r:r.r};if(n.sharedf[cC(s)]){var R=n.sharedf[cC(s)];h.push(Zx(R,u,O,n,i))}else{var D=!1;for(o=0;o!=n.arrayf.length;++o)if(a=n.arrayf[o],!(s.c<a[0].s.c||s.c>a[0].e.c)&&!(s.r<a[0].s.r||s.r>a[0].e.r)){h.push(Zx(a[1],u,O,n,i)),D=!0;break}D||h.push(w[1])}break;case"PtgArray":h.push("{"+Xx(w[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(w))}if(3!=i.biff&&g>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var P=!0;switch((w=e[0][g])[1][0]){case 4:P=!1;case 0:m=GE(" ",w[1][1]);break;case 5:P=!1;case 1:m=GE("\r",w[1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}h.push((P?m:"")+h.pop()+(P?"":m)),g=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function $x(e,t,r){var n,i=e.l+t,o=2==r.biff?1:2,a=e.read_shift(o);if(65535==a)return[[],qS(e,t-2)];var s=Gx(e,a,r);return t!==a+o&&(n=Wx(e,t-a-o,s,r)),e.l=i,[s,n]}function Qx(e,t,r){var n,i=e.l+t,o=e.read_shift(2),a=Gx(e,o,r);return 65535==o?[[],qS(e,t-2)]:(t!==o+2&&(n=Wx(e,i-o-2,a,r)),[a,n])}function Jx(e,t,r){var n=e.l+t,i=sT(e);2==r.biff&&++e.l;var o=function(e){var t;if(65535!==LS(e,e.l+6))return[UC(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),a=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=function(e,t,r){var n,i=e.l+t,o=2==r.biff?1:2,a=e.read_shift(o);if(65535==a)return[[],qS(e,t-2)];var s=Gx(e,a,r);return t!==a+o&&(n=Wx(e,t-a-o,s,r)),e.l=i,[s,n]}(e,n-e.l,r);return{cell:i,val:o[0],formula:s,shared:a>>3&1,tt:o[1]}}function ek(e,t,r,n,i){var o=cT(t,r,i),a=function(e){if(null==e){var t=YS(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return VC("number"==typeof e?e:0)}(e.v),s=YS(6);s.write_shift(2,33),s.write_shift(4,0);for(var c=YS(e.bf.length),l=0;l<e.bf.length;++l)c[l]=e.bf[l];return Ib([o,a,s,c])}function tk(e,t,r){var n=e.read_shift(4),i=Gx(e,n,r),o=e.read_shift(4);return[i,o>0?Wx(e,o,i,r):null]}var rk=tk,nk=tk,ik=tk,ok=tk,ak={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ck={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function lk(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function uk(e){return("of:="+e.replace(bx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function hk(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function fk(e){return e.replace(/\./,"!")}var dk={},pk={},gk="undefined"!==typeof Map;function mk(e,t,r){var n=0,i=e.length;if(r){if(gk?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var o=gk?r.get(t):r[t];n<o.length;++n)if(e[o[n]].t===t)return e.Count++,o[n]}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t:t},e.Count++,e.Unique++,r&&(gk?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function vk(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(_I=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=CI(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=AI(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function yk(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function wk(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],i=60,o=e.length;if(null==n&&r.ssf)for(;i<392;++i)if(null==r.ssf[i]){yE(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}for(i=0;i!=o;++i)if(e[i].numFmtId===n)return i;return e[o]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function bk(e,t,r,n,i,o){try{n.cellNF&&(e.z=jb[t])}catch(s){if(n.WTF)throw s}if("z"!==e.t||n.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=zE(e.v)),(!n||!1!==n.cellText)&&"z"!==e.t)try{if(null==jb[t]&&yE(EE[t]||"General",t),"e"===e.t)e.w=e.w||QC[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Yb(e.v);else if("d"===e.t){var a=DE(e.v);e.w=(0|a)===a?a.toString(10):Yb(a)}else{if(void 0===e.v)return"";e.w=Zb(e.v,pk)}else"d"===e.t?e.w=vE(t,DE(e.v),pk):e.w=vE(t,e.v,pk)}catch(s){if(n.WTF)throw s}if(n.cellStyles&&null!=r)try{e.s=o.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=EI(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=EI(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(n.WTF&&o.Fills)throw s}}}function Ek(e,t,r){if(e&&e["!ref"]){var n=hC(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var _k=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Sk=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Ck=/<(?:\w:)?hyperlink [^>]*>/gm,Ak=/"(\w*:\w*)"/,Tk=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ik=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,xk=/<(?:\w:)?pageMargins[^>]*\/>/g,kk=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Nk=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Ok=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Rk(e,t,r,n,i,o,a){if(!e)return e;n||(n={"!id":{}});var s=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",h=e.match(Sk);h?(l=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):l=u=e;var f=l.match(kk);f?Dk(f[0],s,i,r):(f=l.match(Nk))&&function(e,t,r,n,i){Dk(e.slice(0,e.indexOf(">")),r,n,i)}(f[0],f[1],s,i,r);var d=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var p=l.slice(d,d+50).match(Ak);p&&function(e,t){var r=hC(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=uC(r))}(s,p[1])}var g=l.match(Ok);g&&g[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(Lk)||[]).forEach(function(e,r){var n=p_(e);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),T_(n.rightToLeft)&&(t.Views[r].RTL=!0)})}(g[1],i);var m=[];if(t.cellStyles){var v=l.match(Tk);v&&function(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=p_(t[n],!0);i.hidden&&(i.hidden=T_(i.hidden));var o=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,II(i.width)),xI(i);o<=a;)e[o++]=WE(i)}}(m,v)}h&&Bk(h[1],s,t,c,o,a);var y=u.match(Ik);y&&(s["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(y[0]));var w=[],b=u.match(_k);if(b)for(d=0;d!=b.length;++d)w[d]=hC(b[d].slice(b[d].indexOf('"')+1));var E=u.match(Ck);E&&function(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var o=p_(O_(t[i]),!0);if(!o.ref)return;var a=((r||{})["!id"]||[])[o.id];a?(o.Target=a.Target,o.location&&(o.Target+="#"+y_(o.location))):(o.Target="#"+y_(o.location),a={Target:o.Target,TargetMode:"Internal"}),o.Rel=a,o.tooltip&&(o.Tooltip=o.tooltip,delete o.tooltip);for(var s=hC(o.ref),c=s.s.r;c<=s.e.r;++c)for(var l=s.s.c;l<=s.e.c;++l){var u=cC({c:l,r:c});n?(e[c]||(e[c]=[]),e[c][l]||(e[c][l]={t:"z",v:void 0}),e[c][l].l=o):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=o)}}}(s,E,n);var _=u.match(xk);if(_&&(s["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}(p_(_[0]))),!s["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(s["!ref"]=uC(c)),t.sheetRows>0&&s["!ref"]){var S=hC(s["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),s["!fullref"]=s["!ref"],s["!ref"]=uC(S))}return m.length>0&&(s["!cols"]=m),w.length>0&&(s["!merges"]=w),s}function Dk(e,t,r,n){var i=p_(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=y_(O_(i.codeName)))}var Pk=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Mk=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var Lk=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Fk(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var i="",o=e.t,a=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=QC[e.v];break;case"d":n&&n.cellDates?i=zE(e.v,-1).toISOString():((e=WE(e)).t="n",i=""+(e.v=DE(zE(e.v)))),"undefined"===typeof e.z&&(e.z=jb[14]);break;default:i=e.v}var s=U_("v",E_(i)),c={r:t},l=wk(n.cellXfs,e,n);switch(0!==l&&(c.s=l),e.t){case"n":case"z":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=U_("v",""+mk(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str"}if(e.t!=o&&(e.t=o,e.v=a),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=z_("f",E_(e.f),u)+(null!=e.v?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),z_("c",s,c)}var Bk=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,o=D_("v"),a=D_("f");return function(s,c,l,u,h,f){for(var d,p,g,m,v,y=0,w="",b=[],E=[],_=0,S=0,C=0,A="",T=0,I=0,x=0,k=0,N=Array.isArray(f.CellXf),O=[],R=[],D=Array.isArray(c),P=[],M={},L=!1,F=!!l.sheetStubs,B=s.split(t),j=0,U=B.length;j!=U;++j){var V=(w=B[j].trim()).length;if(0!==V){var z=0;e:for(y=0;y<V;++y)switch(w[y]){case">":if("/"!=w[y-1]){++y;break e}if(l&&l.cellStyles){if(T=null!=(p=p_(w.slice(z,y),!0)).r?parseInt(p.r,10):T+1,I=-1,l.sheetRows&&l.sheetRows<T)continue;M={},L=!1,p.ht&&(L=!0,M.hpt=parseFloat(p.ht),M.hpx=OI(M.hpt)),"1"==p.hidden&&(L=!0,M.hidden=!0),null!=p.outlineLevel&&(L=!0,M.level=+p.outlineLevel),L&&(P[T-1]=M)}break;case"<":z=y}if(z>=y)break;if(T=null!=(p=p_(w.slice(z,y),!0)).r?parseInt(p.r,10):T+1,I=-1,!(l.sheetRows&&l.sheetRows<T)){u.s.r>T-1&&(u.s.r=T-1),u.e.r<T-1&&(u.e.r=T-1),l&&l.cellStyles&&(M={},L=!1,p.ht&&(L=!0,M.hpt=parseFloat(p.ht),M.hpx=OI(M.hpt)),"1"==p.hidden&&(L=!0,M.hidden=!0),null!=p.outlineLevel&&(L=!0,M.level=+p.outlineLevel),L&&(P[T-1]=M)),b=w.slice(y).split(e);for(var H=0;H!=b.length&&"<"==b[H].trim().charAt(0);++H);for(b=b.slice(H),y=0;y!=b.length;++y)if(0!==(w=b[y].trim()).length){if(E=w.match(r),_=y,S=0,C=0,w="<c "+("<"==w.slice(0,1)?">":"")+w,null!=E&&2===E.length){for(_=0,A=E[1],S=0;S!=A.length&&!((C=A.charCodeAt(S)-64)<1||C>26);++S)_=26*_+C;I=--_}else++I;for(S=0;S!=w.length&&62!==w.charCodeAt(S);++S);if(++S,(p=p_(w.slice(0,S),!0)).r||(p.r=cC({r:T-1,c:I})),d={t:""},null!=(E=(A=w.slice(S)).match(o))&&""!==E[1]&&(d.v=y_(E[1])),l.cellFormula){if(null!=(E=A.match(a))&&""!==E[1]){if(d.f=y_(O_(E[1])).replace(/\r\n/g,"\n"),l.xlfn||(d.f=Cx(d.f)),E[0].indexOf('t="array"')>-1)d.F=(A.match(i)||[])[1],d.F.indexOf(":")>-1&&O.push([hC(d.F),d.F]);else if(E[0].indexOf('t="shared"')>-1){m=p_(E[0]);var W=y_(O_(E[1]));l.xlfn||(W=Cx(W)),R[parseInt(m.si,10)]=[m,W,p.r]}}else(E=A.match(/<f[^>]*\/>/))&&R[(m=p_(E[0])).si]&&(d.f=Sx(R[m.si][1],R[m.si][2],p.r));var G=sC(p.r);for(S=0;S<O.length;++S)G.r>=O[S][0].s.r&&G.r<=O[S][0].e.r&&G.c>=O[S][0].s.c&&G.c<=O[S][0].e.c&&(d.F=O[S][1])}if(null==p.t&&void 0===d.v)if(d.f||d.F)d.v=0,d.t="n";else{if(!F)continue;d.t="z"}else d.t=p.t||"n";switch(u.s.c>I&&(u.s.c=I),u.e.c<I&&(u.e.c=I),d.t){case"n":if(""==d.v||null==d.v){if(!F)continue;d.t="z"}else d.v=parseFloat(d.v);break;case"s":if("undefined"==typeof d.v){if(!F)continue;d.t="z"}else g=dk[parseInt(d.v,10)],d.v=g.t,d.r=g.r,l.cellHTML&&(d.h=g.h);break;case"str":d.t="s",d.v=null!=d.v?O_(d.v):"",l.cellHTML&&(d.h=C_(d.v));break;case"inlineStr":E=A.match(n),d.t="s",null!=E&&(g=QT(E[1]))?(d.v=g.t,l.cellHTML&&(d.h=g.h)):d.v="";break;case"b":d.v=T_(d.v);break;case"d":l.cellDates?d.v=zE(d.v,1):(d.v=DE(zE(d.v,1)),d.t="n");break;case"e":l&&!1===l.cellText||(d.w=d.v),d.v=JC[d.v]}if(x=k=0,v=null,N&&void 0!==p.s&&null!=(v=f.CellXf[p.s])&&(null!=v.numFmtId&&(x=v.numFmtId),l.cellStyles&&null!=v.fillId&&(k=v.fillId)),bk(d,x,k,l,h,f),l.cellDates&&N&&"n"==d.t&&dE(jb[x])&&(d.t="d",d.v=FE(d.v)),p.cm&&l.xlmeta){var X=(l.xlmeta.Cell||[])[+p.cm-1];X&&"XLDAPR"==X.type&&(d.D=!0)}if(D){var K=sC(p.r);c[K.r]||(c[K.r]=[]),c[K.r][K.c]=d}else c[p.r]=d}}}}P.length>0&&(c["!rows"]=P)}}();function jk(e,t,r,n){var i,o=[c_,z_("worksheet",null,{xmlns:oS[0],"xmlns:r":tS})],a=r.SheetNames[e],s="",c=r.Sheets[a];null==c&&(c={});var l=c["!ref"]||"A1",u=hC(l);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=uC(u)}n||(n={}),c["!comments"]=[];var h=[];!function(e,t,r,n,i){var o=!1,a={},s=null;if("xlsx"!==n.bookType&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch(u){}o=!0,a.codeName=R_(E_(c))}if(e&&e["!outline"]){var l={summaryBelow:1,summaryRight:1};e["!outline"].above&&(l.summaryBelow=0),e["!outline"].left&&(l.summaryRight=0),s=(s||"")+z_("outlinePr",null,l)}(o||s)&&(i[i.length]=z_("sheetPr",s,a))}(c,r,e,t,o),o[o.length]=z_("dimension",null,{ref:l}),o[o.length]=function(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),z_("sheetViews",z_("sheetView",null,i),{})}(0,0,0,r),t.sheetFormat&&(o[o.length]=z_("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=c["!cols"]&&c["!cols"].length>0&&(o[o.length]=function(e,t){for(var r,n=["<cols>"],i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=z_("col",null,vk(i,r)));return n[n.length]="</cols>",n.join("")}(0,c["!cols"])),o[i=o.length]="<sheetData/>",c["!links"]=[],null!=c["!ref"]&&(s=function(e,t){var r,n,i=[],o=[],a=hC(e["!ref"]),s="",c="",l=[],u=0,h=0,f=e["!rows"],d=Array.isArray(e),p={r:c},g=-1;for(h=a.s.c;h<=a.e.c;++h)l[h]=aC(h);for(u=a.s.r;u<=a.e.r;++u){for(o=[],c=iC(u),h=a.s.c;h<=a.e.c;++h){r=l[h]+c;var m=d?(e[u]||[])[h]:e[r];void 0!==m&&null!=(s=Fk(m,r,e,t))&&o.push(s)}(o.length>0||f&&f[u])&&(p={r:c},f&&f[u]&&((n=f[u]).hidden&&(p.hidden=1),g=-1,n.hpx?g=NI(n.hpx):n.hpt&&(g=n.hpt),g>-1&&(p.ht=g,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),i[i.length]=z_("row",o.join(""),p))}if(f)for(;u<f.length;++u)f&&f[u]&&(p={r:u+1},(n=f[u]).hidden&&(p.hidden=1),g=-1,n.hpx?g=NI(n.hpx):n.hpt&&(g=n.hpt),g>-1&&(p.ht=g,p.customHeight=1),n.level&&(p.outlineLevel=n.level),i[i.length]=z_("row","",p));return i.join("")}(c,t,0,0),s.length>0&&(o[o.length]=s)),o.length>i+1&&(o[o.length]="</sheetData>",o[i]=o[i].replace("/>",">")),c["!protect"]&&(o[o.length]=function(e){var t={sheet:1};return Pk.forEach(function(r){null!=e[r]&&e[r]&&(t[r]="1")}),Mk.forEach(function(r){null==e[r]||e[r]||(t[r]="0")}),e.password&&(t.password=gI(e.password).toString(16).toUpperCase()),z_("sheetProtection",null,t)}(c["!protect"])),null!=c["!autofilter"]&&(o[o.length]=function(e,t,r,n){var i="string"==typeof e.ref?e.ref:uC(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,a=lC(i);a.s.r==a.e.r&&(a.e.r=lC(t["!ref"]).e.r,i=uC(a));for(var s=0;s<o.length;++s){var c=o[s];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return s==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),z_("autoFilter",null,{ref:i})}(c["!autofilter"],c,r,e)),null!=c["!merges"]&&c["!merges"].length>0&&(o[o.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+uC(e[r])+'"/>';return t+"</mergeCells>"}(c["!merges"]));var f,d,p=-1,g=-1;return c["!links"].length>0&&(o[o.length]="<hyperlinks>",c["!links"].forEach(function(e){e[1].Target&&(f={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(g=sA(n,-1,E_(e[1].Target).replace(/#.*$/,""),nA.HLINK),f["r:id"]="rId"+g),(p=e[1].Target.indexOf("#"))>-1&&(f.location=E_(e[1].Target.slice(p+1))),e[1].Tooltip&&(f.tooltip=E_(e[1].Tooltip)),o[o.length]=z_("hyperlink",null,f))}),o[o.length]="</hyperlinks>"),delete c["!links"],null!=c["!margins"]&&(o[o.length]=(yk(d=c["!margins"]),z_("pageMargins",null,d))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(o[o.length]=U_("ignoredErrors",z_("ignoredError",null,{numberStoredAsText:1,sqref:l}))),h.length>0&&(g=sA(n,-1,"../drawings/drawing"+(e+1)+".xml",nA.DRAW),o[o.length]=z_("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=h),c["!comments"].length>0&&(g=sA(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",nA.VML),o[o.length]=z_("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),o.length>1&&(o[o.length]="</worksheet>",o[1]=o[1].replace("/>",">")),o.join("")}function Uk(e,t,r,n){var i=function(e,t,r){var n=YS(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var o=320;i.hpx?o=20*NI(i.hpx):i.hpt&&(o=20*i.hpt),n.write_shift(2,o),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var s=0,c=n.l;n.l+=4;for(var l={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,f=-1,d=u<<10;d<u+1<<10;++d)l.c=d,(Array.isArray(r)?(r[l.r]||[])[l.c]:r[cC(l)])&&(h<0&&(h=d),f=d);h<0||(++s,n.write_shift(4,h),n.write_shift(4,f))}var p=n.l;return n.l=c,n.write_shift(4,s),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&QS(e,0,i)}var Vk=BC,zk=jC;function Hk(e){return[TC(e),UC(e),"n"]}var Wk=BC,Gk=jC;var Xk=["left","right","top","bottom","header","footer"];function Kk(e,t,r,n,i,o,a){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=WE(t)).z=t.z||jb[14],t.v=DE(zE(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var c={r:r,c:n};switch(c.s=wk(i.cellXfs,t,i),t.l&&o["!links"].push([cC(c),t.l]),t.c&&o["!comments"].push([cC(c),t.c]),t.t){case"s":case"str":return i.bookSST?(s=mk(i.Strings,t.v,i.revStrings),c.t="s",c.v=s,a?QS(e,18,function(e,t,r){return null==r&&(r=YS(8)),IC(t,r),r.write_shift(4,t.v),r}(0,c)):QS(e,7,function(e,t,r){return null==r&&(r=YS(12)),AC(t,r),r.write_shift(4,t.v),r}(0,c))):(c.t="str",a?QS(e,17,function(e,t,r){return null==r&&(r=YS(8+4*e.v.length)),IC(t,r),wC(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,c)):QS(e,6,function(e,t,r){return null==r&&(r=YS(12+4*e.v.length)),AC(t,r),wC(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,c))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?QS(e,13,function(e,t,r){return null==r&&(r=YS(8)),IC(t,r),LC(e.v,r),r}(t,c)):QS(e,2,function(e,t,r){return null==r&&(r=YS(12)),AC(t,r),LC(e.v,r),r}(t,c)):a?QS(e,16,function(e,t,r){return null==r&&(r=YS(12)),IC(t,r),VC(e.v,r),r}(t,c)):QS(e,5,function(e,t,r){return null==r&&(r=YS(16)),AC(t,r),VC(e.v,r),r}(t,c)),!0;case"b":return c.t="b",a?QS(e,15,function(e,t,r){return null==r&&(r=YS(5)),IC(t,r),r.write_shift(1,e.v?1:0),r}(t,c)):QS(e,4,function(e,t,r){return null==r&&(r=YS(9)),AC(t,r),r.write_shift(1,e.v?1:0),r}(t,c)),!0;case"e":return c.t="e",a?QS(e,14,function(e,t,r){return null==r&&(r=YS(8)),IC(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,c)):QS(e,3,function(e,t,r){return null==r&&(r=YS(9)),AC(t,r),r.write_shift(1,e.v),r}(t,c)),!0}return a?QS(e,12,function(e,t,r){return null==r&&(r=YS(4)),IC(t,r)}(0,c)):QS(e,1,function(e,t,r){return null==r&&(r=YS(8)),AC(t,r)}(0,c)),!0}function qk(e,t){var r,n;t&&t["!merges"]&&(QS(e,177,(r=t["!merges"].length,null==n&&(n=YS(4)),n.write_shift(4,r),n)),t["!merges"].forEach(function(t){QS(e,176,Gk(t))}),QS(e,178))}function Yk(e,t){t&&t["!cols"]&&(QS(e,390),t["!cols"].forEach(function(t,r){t&&QS(e,60,function(e,t,r){null==r&&(r=YS(18));var n=vk(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof n.width&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}(r,t))}),QS(e,391))}function Zk(e,t){t&&t["!ref"]&&(QS(e,648),QS(e,649,function(e){var t=YS(24);return t.write_shift(4,4),t.write_shift(4,1),jC(e,t),t}(hC(t["!ref"]))),QS(e,650))}function $k(e,t,r){t["!links"].forEach(function(t){if(t[1].Target){var n=sA(r,-1,t[1].Target.replace(/#.*$/,""),nA.HLINK);QS(e,494,function(e,t){var r=YS(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));jC({s:sC(e[0]),e:sC(e[0])},r),PC("rId"+t,r);var n=e[1].Target.indexOf("#");return wC((-1==n?"":e[1].Target.slice(n+1))||"",r),wC(e[1].Tooltip||"",r),wC("",r),r.slice(0,r.l)}(t,n))}}),delete t["!links"]}function Qk(e,t,r){QS(e,133),QS(e,137,function(e,t,r){null==r&&(r=YS(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),QS(e,138),QS(e,134)}function Jk(e,t){var r,n;t["!protect"]&&QS(e,535,(r=t["!protect"],null==n&&(n=YS(66)),n.write_shift(2,r.password?gI(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)}),n))}function eN(e,t,r,n){var i=$S(),o=r.SheetNames[e],a=r.Sheets[o]||{},s=o;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch(h){}var c,l,u=hC(a["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],QS(i,129),(r.vbaraw||a["!outline"])&&QS(i,147,function(e,t,r){null==r&&(r=YS(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return zC({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),kC(e,r),r.slice(0,r.l)}(s,a["!outline"])),QS(i,148,zk(u)),Qk(i,0,r.Workbook),Yk(i,a),function(e,t,r,n){var i,o=hC(t["!ref"]||"A1"),a="",s=[];QS(e,145);var c=Array.isArray(t),l=o.e.r;t["!rows"]&&(l=Math.max(o.e.r,t["!rows"].length-1));for(var u=o.s.r;u<=l;++u){a=iC(u),Uk(e,t,o,u);var h=!1;if(u<=o.e.r)for(var f=o.s.c;f<=o.e.c;++f){u===o.s.r&&(s[f]=aC(f)),i=s[f]+a;var d=c?(t[u]||[])[f]:t[i];h=!!d&&Kk(e,d,u,f,n,t,h)}}QS(e,146)}(i,a,0,t),Jk(i,a),function(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],o="string"===typeof i.ref?i.ref:uC(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=lC(o);s.s.r==s.e.r&&(s.e.r=lC(t["!ref"]).e.r,o=uC(s));for(var c=0;c<a.length;++c){var l=a[c];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+o;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+o}),QS(e,161,jC(hC(o))),QS(e,162)}}(i,a,r,e),qk(i,a),$k(i,a,n),a["!margins"]&&QS(i,476,(c=a["!margins"],null==l&&(l=YS(48)),yk(c),Xk.forEach(function(e){VC(c[e],l)}),l)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||Zk(i,a),function(e,t,r,n){if(t["!comments"].length>0){var i=sA(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",nA.VML);QS(e,551,PC("rId"+i)),t["!legacy"]=i}}(i,a,e,n),QS(i,130),i.end()}function tN(e,t,r,n,i,o){var a=o||{"!type":"chart"};if(!e)return o;var s=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var t=function(e){var t,r=[],n=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=n?+t[2]:t[2])});var i=y_((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(e){t=e.replace(/<.*?>/g,"")}),[r,i,t]}(e);u.s.r=u.s.c=0,u.e.c=s,l=aC(s),t[0].forEach(function(e,r){a[l+iC(r)]={t:"n",v:e,z:t[1]},c=r}),u.e.r<c&&(u.e.r=c),++s}),s>0&&(a["!ref"]=uC(u)),a}var rN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],nN=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],iN=[],oN=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function aN(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var o=t[i];if(null==n[o[0]])n[o[0]]=o[1];else switch(o[2]){case"bool":"string"==typeof n[o[0]]&&(n[o[0]]=T_(n[o[0]]));break;case"int":"string"==typeof n[o[0]]&&(n[o[0]]=parseInt(n[o[0]],10))}}}function sN(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(null==e[n[0]])e[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof e[n[0]]&&(e[n[0]]=T_(e[n[0]]));break;case"int":"string"==typeof e[n[0]]&&(e[n[0]]=parseInt(e[n[0]],10))}}}function cN(e){sN(e.WBProps,rN),sN(e.CalcPr,oN),aN(e.WBView,nN),aN(e.Sheets,iN),pk.date1904=T_(e.WBProps.date1904)}var lN="][*?/\\".split("");function uN(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return lN.forEach(function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function hN(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,r){e.forEach(function(n,i){uN(n);for(var o=0;o<i;++o)if(n==e[o])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=t&&t[i]&&t[i].CodeName||n;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Ek(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var fN=/<\w+:workbook/;function dN(e){var t=[c_];t[t.length]=z_("workbook",null,{xmlns:oS[0],"xmlns:r":tS});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(rN.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=z_("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length&&i[o]&&i[o].Hidden;++o);o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var a={name:E_(e.SheetNames[o].slice(0,31))};if(a.sheetId=""+(o+1),a["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden"}t[t.length]=z_("sheet",null,a)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=z_("definedName",E_(e.Ref),r))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function pN(e,t){return t||(t=YS(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),PC(e.strRelID,t),wC(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function gN(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function mN(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,i=t.Workbook.Sheets,o=0,a=-1,s=-1;o<i.length;++o)!i[o]||!i[o].Hidden&&-1==a?a=o:1==i[o].Hidden&&-1==s&&(s=o);if(!(s>a))QS(e,135),QS(e,158,(r=a,n||(n=YS(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),QS(e,136)}}function vN(e,t){var r=$S();return QS(r,131),QS(r,128,function(e,t){t||(t=YS(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return wC("SheetJS",t),wC(rb.version,t),wC(rb.version,t),wC("7262",t),t.length>t.l?t.slice(0,t.l):t}()),QS(r,153,function(e,t){t||(t=YS(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),kC(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),mN(r,e),function(e,t){QS(e,143);for(var r=0;r!=t.SheetNames.length;++r)QS(e,156,pN({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));QS(e,144)}(r,e),QS(r,132),r.end()}function yN(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var o=[],a=[[]];return a.SheetNames=[],a.XTI=[],iO[16]={n:"BrtFRTArchID$",f:gN},ZS(e,function(e,s,c){switch(c){case 156:a.SheetNames.push(e.name),r.Sheets.push(e);break;case 153:r.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=Zx(e.Ptg,0,null,a,t),delete t.SID,delete e.Ptg,o.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:a[0].length?a.push([c,e]):a[0]=[c,e],a[a.length-1].XTI=[];break;case 362:0===a.length&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(e),a.XTI=a.XTI.concat(e);break;case 35:case 37:n.push(c),i=!0;break;case 36:case 38:n.pop(),i=!1;break;default:if(s.T);else if(!i||t.WTF&&37!=n[n.length-1]&&35!=n[n.length-1])throw new Error("Unexpected record 0x"+c.toString(16))}},t),cN(r),r.Names=o,r.supbooks=a,r}(e,r):function(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",o={},a=0;if(e.replace(h_,function(s,c){var l=p_(s);switch(g_(l[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":s.match(fN)&&(i="xmlns"+s.match(/<(\w+):/)[1]),r.xmlns=l[i];break;case"<fileVersion":delete l[0],r.AppVersion=l;break;case"<workbookPr":case"<workbookPr/>":rN.forEach(function(e){if(null!=l[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=T_(l[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(l[e[0]],10);break;default:r.WBProps[e[0]]=l[e[0]]}}),l.codeName&&(r.WBProps.CodeName=O_(l.codeName));break;case"<workbookView":case"<workbookView/>":delete l[0],r.WBView.push(l);break;case"<sheet":switch(l.state){case"hidden":l.Hidden=1;break;case"veryHidden":l.Hidden=2;break;default:l.Hidden=0}delete l.state,l.name=y_(O_(l.name)),delete l[0],r.Sheets.push(l);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":n=!1;break;case"<definedName":(o={}).Name=O_(l.name),l.comment&&(o.Comment=l.comment),l.localSheetId&&(o.Sheet=+l.localSheetId),T_(l.hidden||"0")&&(o.Hidden=!0),a=c+s.length;break;case"</definedName>":o.Ref=y_(O_(e.slice(a,c))),r.Names.push(o);break;case"<calcPr":case"<calcPr/>":delete l[0],r.CalcPr=l;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in workbook")}return s}),-1===oS.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return cN(r),r}(e,r)}function wN(e,t,r,n,i,o,a,s){return".bin"===t.slice(-4)?function(e,t,r,n,i,o,a){if(!e)return e;var s=t||{};n||(n={"!id":{}});var c,l,u,h,f,d,p,g,m,v,y=s.dense?[]:{},w={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=[],E=!1,_=!1,S=[];s.biff=12,s["!row"]=0;var C=0,A=!1,T=[],I={},x=s.supbooks||i.supbooks||[[]];if(x.sharedf=I,x.arrayf=T,x.SheetNames=i.SheetNames||i.Sheets.map(function(e){return e.name}),!s.supbooks&&(s.supbooks=x,i.Names))for(var k=0;k<i.Names.length;++k)x[0][k+1]=i.Names[k];var N,O,R=[],D=[],P=!1;if(iO[16]={n:"BrtShortReal",f:Hk},ZS(e,function(e,t,k){if(!_)switch(k){case 148:c=e;break;case 0:l=e,s.sheetRows&&s.sheetRows<=l.r&&(_=!0),m=iC(f=l.r),s["!row"]=l.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=OI(e.hpt)),D[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":g=dk[e[1]],u.v=g.t,u.r=g.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==s.cellText&&(u.w=QC[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((h=a.CellXf[e[0].iStyleRef])&&bk(u,h.numFmtId,null,s,o,a),d=-1==e[0].c?d+1:e[0].c,s.dense?(y[f]||(y[f]=[]),y[f][d]=u):y[aC(d)+m]=u,s.cellFormula){for(A=!1,C=0;C<T.length;++C){var M=T[C];l.r>=M[0].s.r&&l.r<=M[0].e.r&&d>=M[0].s.c&&d<=M[0].e.c&&(u.F=uC(M[0]),A=!0)}!A&&e.length>3&&(u.f=e[3])}if(w.s.r>l.r&&(w.s.r=l.r),w.s.c>d&&(w.s.c=d),w.e.r<l.r&&(w.e.r=l.r),w.e.c<d&&(w.e.c=d),s.cellDates&&h&&"n"==u.t&&dE(jb[h.numFmtId])){var L=Hb(u.v);L&&(u.t="d",u.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}N&&("XLDAPR"==N.type&&(u.D=!0),N=void 0),O&&(O=void 0);break;case 1:case 12:if(!s.sheetStubs||E)break;u={t:"z",v:void 0},d=-1==e[0].c?d+1:e[0].c,s.dense?(y[f]||(y[f]=[]),y[f][d]=u):y[aC(d)+m]=u,w.s.r>l.r&&(w.s.r=l.r),w.s.c>d&&(w.s.c=d),w.e.r<l.r&&(w.e.r=l.r),w.e.c<d&&(w.e.c=d),N&&("XLDAPR"==N.type&&(u.D=!0),N=void 0),O&&(O=void 0);break;case 176:S.push(e);break;case 49:N=((s.xlmeta||{}).Cell||[])[e-1];break;case 494:var F=n["!id"][e.relId];for(F?(e.Target=F.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=F):""==e.relId&&(e.Target="#"+e.loc),f=e.rfx.s.r;f<=e.rfx.e.r;++f)for(d=e.rfx.s.c;d<=e.rfx.e.c;++d)s.dense?(y[f]||(y[f]=[]),y[f][d]||(y[f][d]={t:"z",v:void 0}),y[f][d].l=e):(p=cC({c:d,r:f}),y[p]||(y[p]={t:"z",v:void 0}),y[p].l=e);break;case 426:if(!s.cellFormula)break;T.push(e),(v=s.dense?y[f][d]:y[aC(d)+m]).f=Zx(e[1],0,{r:l.r,c:d},x,s),v.F=uC(e[0]);break;case 427:if(!s.cellFormula)break;I[cC(e[0].s)]=e[1],(v=s.dense?y[f][d]:y[aC(d)+m]).f=Zx(e[1],0,{r:l.r,c:d},x,s);break;case 60:if(!s.cellStyles)break;for(;e.e>=e.s;)R[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},P||(P=!0,II(e.w/256)),xI(R[e.e+1]);break;case 161:y["!autofilter"]={ref:uC(e)};break;case 476:y["!margins"]=e;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),e.name&&(i.Sheets[r].CodeName=e.name),(e.above||e.left)&&(y["!outline"]={above:e.above,left:e.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:E=!0;break;case 36:E=!1;break;case 37:b.push(k),E=!0;break;case 38:b.pop(),E=!1;break;default:if(t.T);else if(!E||s.WTF)throw new Error("Unexpected record 0x"+k.toString(16))}},s),delete s.supbooks,delete s["!row"],!y["!ref"]&&(w.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(y["!ref"]=uC(c||w)),s.sheetRows&&y["!ref"]){var M=hC(y["!ref"]);s.sheetRows<=+M.e.r&&(M.e.r=s.sheetRows-1,M.e.r>w.e.r&&(M.e.r=w.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>w.e.c&&(M.e.c=w.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),y["!fullref"]=y["!ref"],y["!ref"]=uC(M))}return S.length>0&&(y["!merges"]=S),R.length>0&&(y["!cols"]=R),D.length>0&&(y["!rows"]=D),y}(e,n,r,i,o,a,s):Rk(e,n,r,i,o,a,s)}function bN(e,t,r,n,i,o,a,s){return".bin"===t.slice(-4)?function(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},a=[],s=!1;return ZS(e,function(e,n,c){switch(c){case 550:o["!rel"]=e;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),e.name&&(i.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(c);break;case 38:a.pop();break;default:if(n.T>0)a.push(c);else if(n.T<0)a.pop();else if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}},t),n["!id"][o["!rel"]]&&(o["!drawel"]=n["!id"][o["!rel"]]),o}(e,n,r,i,o):function(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var o,a={"!type":"chart","!drawel":null,"!rel":""},s=e.match(kk);return s&&Dk(s[0],0,i,r),(o=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=o[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}(e,0,r,i,o)}function EN(e,t,r,n){return".bin"===t.slice(-4)?function(e,t,r){var n={NumberFmt:[]};for(var i in jb)n.NumberFmt[i]=jb[i];n.CellXf=[],n.Fonts=[];var o=[],a=!1;return ZS(e,function(e,i,s){switch(s){case 44:n.NumberFmt[e[0]]=e[1],yE(e[1],e[0]);break;case 43:n.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=EI(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==o[o.length-1]&&n.CellXf.push(e);break;case 35:a=!0;break;case 36:a=!1;break;case 37:o.push(s),a=!0;break;case 38:o.pop(),a=!1;break;default:if(i.T>0)o.push(s);else if(i.T<0)o.pop();else if(!a||r.WTF&&37!=o[o.length-1])throw new Error("Unexpected record 0x"+s.toString(16))}}),n}(e,r,n):MI(e,r,n)}function _N(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=!1;return ZS(e,function(e,i,o){switch(o){case 159:r.Count=e[0],r.Unique=e[1];break;case 19:r.push(e);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}(e,r):function(e,t){var r=[],n="";if(!e)return r;var i=e.match(JT);if(i){n=i[2].replace(eI,"").split(tI);for(var o=0;o!=n.length;++o){var a=QT(n[o].trim(),t);null!=a&&(r[r.length]=a)}i=p_(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}(e,r)}function SN(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=[],i={},o=!1;return ZS(e,function(e,a,s){switch(s){case 632:n.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:case 37:case 38:break;case 35:o=!0;break;case 36:o=!1;break;default:if(a.T);else if(!o||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}(e,r):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&r.push(t[1])}});var o=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return o&&o[1]&&o[1].split(/<\/\w*:?comment>/).forEach(function(e){if(""!==e&&""!==e.trim()){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var o=p_(i[0]),a={author:o.authorId&&r[o.authorId]||"sheetjsghost",ref:o.ref,guid:o.guid},s=sC(o.ref);if(!(t.sheetRows&&t.sheetRows<=s.r)){var c=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),l=!!c&&!!c[1]&&QT(c[1])||{r:"",t:"",h:""};a.r=l.r,"<t></t>"==l.r&&(l.t=l.h=""),a.t=(l.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(a.h=l.h),n.push(a)}}}}),n}(e,r)}function CN(e,t,r){return".bin"===t.slice(-4)?function(e){var t=[];return ZS(e,function(e,r,n){if(63===n)t.push(e);else if(!r.T)throw new Error("Unexpected record 0x"+n.toString(16))}),t}(e):function(e){var t=[];if(!e)return t;var r=1;return(e.match(h_)||[]).forEach(function(e){var n=p_(e);switch(n[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n)}}),t}(e)}function AN(e,t,r,n){if(".bin"===r.slice(-4))return function(e,t,r,n){if(!e)return e;var i=n||{},o=!1;ZS(e,function(e,t,r){switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:o=!0;break;case 36:o=!1;break;default:if(t.T);else if(!o||i.WTF)throw new Error("Unexpected record 0x"+r.toString(16))}},i)}(e,0,0,n)}function TN(e,t,r){return".bin"===t.slice(-4)?function(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},o=[],a=!1,s=2;return ZS(e,function(e,t,r){switch(r){case 335:n.Types.push({name:e.name});break;case 51:e.forEach(function(e){1==s?n.Cell.push({type:n.Types[e[0]-1].name,index:e[1]}):0==s&&n.Value.push({type:n.Types[e[0]-1].name,index:e[1]})});break;case 337:s=e?1:0;break;case 338:s=2;break;case 35:o.push(r),a=!0;break;case 36:o.pop(),a=!1;break;default:if(t.T);else if(!a||i.WTF&&35!=o[o.length-1])throw new Error("Unexpected record 0x"+r.toString(16))}}),n}(e,0,r):function(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i,o=!1,a=2;return e.replace(h_,function(e){var t=p_(e);switch(g_(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":n.Types.push({name:t.name});break;case"<futureMetadata":for(var s=0;s<n.Types.length;++s)n.Types[s].name==t.name&&(i=n.Types[s]);break;case"<rc":1==a?n.Cell.push({type:n.Types[t.t-1].name,index:+t.v}):0==a&&n.Value.push({type:n.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":a=1;break;case"</cellMetadata>":case"</valueMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"<ext":o=!0;break;case"</ext>":o=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+t.i);break;default:if(!o&&r.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e}),n}(e,0,r)}function IN(e,t,r,n,i){return(".bin"===t.slice(-4)?eN:jk)(e,r,n,i)}function xN(e,t,r){return(".bin"===t.slice(-4)?vx:px)(e,r)}var kN,NN=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ON=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function RN(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),1===r.length)return n;var i,o,a,s=e.match(NN);if(s)for(a=0;a!=s.length;++a)-1===(o=(i=s[a].match(ON))[1].indexOf(":"))?n[i[1]]=i[2].slice(1,i[2].length-1):n["xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(o+1)]=i[2].slice(1,i[2].length-1);return n}function DN(e){var t={};if(1===e.split(/\s+/).length)return t;var r,n,i,o=e.match(NN);if(o)for(i=0;i!=o.length;++i)-1===(n=(r=o[i].match(ON))[1].indexOf(":"))?t[r[1]]=r[2].slice(1,r[2].length-1):t["xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(n+1)]=r[2].slice(1,r[2].length-1);return t}function PN(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=T_(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=zE(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[y_(t)]=i}function MN(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{"e"===e.t?e.w=e.w||QC[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Yb(e.v):e.w=Zb(e.v):e.w=function(e,t){var r=kN[e]||y_(e);return"General"===r?Zb(t):vE(r,t)}(t||"General",e.v)}catch(o){if(r.WTF)throw o}try{var n=kN[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&"n"==e.t&&dE(n)){var i=Hb(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(o){if(r.WTF)throw o}}}function LN(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=RI[n.Pattern]||n.Pattern)}e[t.ID]=t}function FN(e,t,r,n,i,o,a,s,c,l){var u="General",h=n.StyleID,f={};l=l||{};var d=[],p=0;for(void 0===h&&s&&(h=s.StyleID),void 0===h&&a&&(h=a.StyleID);void 0!==o[h]&&(o[h].nf&&(u=o[h].nf),o[h].Interior&&d.push(o[h].Interior),o[h].Parent);)h=o[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=T_(e);break;case"String":n.t="s",n.r=A_(y_(e)),n.v=e.indexOf("<")>-1?y_(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),n.v=(zE(e)-new Date(Date.UTC(1899,11,30)))/864e5,n.v!==n.v?n.v=y_(e):n.v<60&&(n.v=n.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===n.v&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=JC[e],!1!==l.cellText&&(n.w=e);break;default:""==e&&""==t?n.t="z":(n.t="s",n.v=A_(t||e))}if(MN(n,u,l),!1!==l.cellFormula)if(n.Formula){var g=y_(n.Formula);61==g.charCodeAt(0)&&(g=g.slice(1)),n.f=wx(g,i),delete n.Formula,"RC"==n.ArrayRange?n.F=wx("RC:RC",i):n.ArrayRange&&(n.F=wx(n.ArrayRange,i),c.push([hC(n.F),n.F]))}else for(p=0;p<c.length;++p)i.r>=c[p][0].s.r&&i.r<=c[p][0].e.r&&i.c>=c[p][0].s.c&&i.c<=c[p][0].e.c&&(n.F=c[p][1]);l.cellStyles&&(d.forEach(function(e){!f.patternType&&e.patternType&&(f.patternType=e.patternType)}),n.s=f),void 0!==n.StyleID&&(n.ixfe=n.StyleID)}function BN(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function jN(e,t){var r=t||{};bE();var n=db(W_(e));"binary"!=r.type&&"array"!=r.type&&"base64"!=r.type||(n="undefined"!==typeof fb?fb.utils.decode(65001,ub(n)):O_(n));var i,o=n.slice(0,1024).toLowerCase(),a=!1;if((1023&(o=o.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&o.indexOf(","),1023&o.indexOf(";"))){var s=WE(r);return s.type="string",GT.to_workbook(n,s)}if(-1==o.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(e){o.indexOf("<"+e)>=0&&(a=!0)}),a)return function(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return pC(mO(r[0],t),t);var n={SheetNames:[],Sheets:{}};return r.forEach(function(e,r){DR(n,mO(e,t),"Sheet"+(r+1))}),n}(n,r);kN={"General Number":"General","General Date":jb[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jb[15],"Short Date":jb[14],"Long Time":jb[19],"Medium Time":jb[18],"Short Time":jb[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jb[2],Standard:jb[4],Percent:jb[10],Scientific:jb[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,l=[];var u,h={},f=[],d=r.dense?[]:{},p="",g={},m={},v=RN('<Data ss:Type="String">'),y=0,w=0,b=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},S={},C="",A=0,T=[],I={},x={},k=0,N=[],O=[],R={},D=[],P=!1,M=[],L=[],F={},B=0,j=0,U={Sheets:[],WBProps:{date1904:!1}},V={};G_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/gm,"");for(var z="";i=G_.exec(n);)switch(i[3]=(z=i[3]).toLowerCase()){case"data":if("data"==z){if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break}if(l[l.length-1][1])break;"/"===i[1]?FN(n.slice(y,i.index),C,v,"comment"==l[l.length-1][0]?R:g,{c:w,r:b},_,D[w],m,M,r):(C="",v=RN(i[0]),y=i.index+i[0].length);break;case"cell":if("/"===i[1])if(O.length>0&&(g.c=O),(!r.sheetRows||r.sheetRows>b)&&void 0!==g.v&&(r.dense?(d[b]||(d[b]=[]),d[b][w]=g):d[aC(w)+iC(b)]=g),g.HRef&&(g.l={Target:y_(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(B=w+(0|parseInt(g.MergeAcross,10)),j=b+(0|parseInt(g.MergeDown,10)),T.push({s:{c:w,r:b},e:{c:B,r:j}})),r.sheetStubs)if(g.MergeAcross||g.MergeDown){for(var H=w;H<=B;++H)for(var W=b;W<=j;++W)(H>w||W>b)&&(r.dense?(d[W]||(d[W]=[]),d[W][H]={t:"z"}):d[aC(H)+iC(W)]={t:"z"});w=B+1}else++w;else g.MergeAcross?w=B+1:++w;else(g=DN(i[0])).Index&&(w=+g.Index-1),w<E.s.c&&(E.s.c=w),w>E.e.c&&(E.e.c=w),"/>"===i[0].slice(-2)&&++w,O=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(b<E.s.r&&(E.s.r=b),b>E.e.r&&(E.e.r=b),"/>"===i[0].slice(-2)&&(m=RN(i[0])).Index&&(b=+m.Index-1),w=0,++b):((m=RN(i[0])).Index&&(b=+m.Index-1),F={},("0"==m.AutoFitHeight||m.Height)&&(F.hpx=parseInt(m.Height,10),F.hpt=NI(F.hpx),L[b]=F),"1"==m.Hidden&&(F.hidden=!0,L[b]=F));break;case"worksheet":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"));f.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(d["!ref"]=uC(E),r.sheetRows&&r.sheetRows<=E.e.r&&(d["!fullref"]=d["!ref"],E.e.r=r.sheetRows-1,d["!ref"]=uC(E))),T.length&&(d["!merges"]=T),D.length>0&&(d["!cols"]=D),L.length>0&&(d["!rows"]=L),h[p]=d}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([i[3],!1]),c=RN(i[0]),p=y_(c.Name),d=r.dense?[]:{},T=[],M=[],L=[],V={name:p,Hidden:0},U.Sheets.push(V);break;case"table":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else{if("/>"==i[0].slice(-2))break;l.push([i[3],!1]),D=[],P=!1}break;case"style":"/"===i[1]?LN(_,S,r):S=RN(i[0]);break;case"numberformat":S.nf=y_(RN(i[0]).Format||"General"),kN[S.nf]&&(S.nf=kN[S.nf]);for(var G=0;392!=G&&jb[G]!=S.nf;++G);if(392==G)for(G=57;392!=G;++G)if(null==jb[G]){yE(S.nf,G);break}break;case"column":if("table"!==l[l.length-1][0])break;if((u=RN(i[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!P&&u.wpx>10){P=!0,_I=6;for(var X=0;X<D.length;++X)D[X]&&xI(D[X])}P&&xI(u),D[u.Index-1||D.length]=u;for(var K=0;K<+u.Span;++K)D[D.length]=WE(u);break;case"namedrange":if("/"===i[1])break;U.Names||(U.Names=[]);var q=p_(i[0]),Y={Name:q.Name,Ref:wx(q.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Y.Sheet=U.Sheets.length-1),U.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?C+=n.slice(A,i.index):A=i.index+i[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=RN(i[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?CA(I,z,n.slice(k,i.index)):k=i.index+i[0].length;break;case"styles":case"workbook":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else l.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"));BN(R),O.push(R)}else l.push([i[3],!1]),R={a:(c=RN(i[0])).Author};break;case"autofilter":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var Z=RN(i[0]);d["!autofilter"]={ref:wx(Z.Range).replace(/\$/g,"")},l.push([i[3],!0])}break;case"datavalidation":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break;default:if(0==l.length&&"document"==i[3])return kO(n,r);if(0==l.length&&"uof"==i[3])return kO(n,r);var $=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:$=!1}break;case"componentoptions":switch(i[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:$=!1}break;case"excelworkbook":switch(i[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:$=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":case"height":case"width":break;default:$=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(n.slice(k,i.index)){case"SheetHidden":V.Hidden=1;break;case"SheetVeryHidden":V.Hidden=2}else k=i.index+i[0].length;break;case"header":d["!margins"]||yk(d["!margins"]={},"xlml"),isNaN(+p_(i[0]).Margin)||(d["!margins"].header=+p_(i[0]).Margin);break;case"footer":d["!margins"]||yk(d["!margins"]={},"xlml"),isNaN(+p_(i[0]).Margin)||(d["!margins"].footer=+p_(i[0]).Margin);break;case"pagemargins":var Q=p_(i[0]);d["!margins"]||yk(d["!margins"]={},"xlml"),isNaN(+Q.Top)||(d["!margins"].top=+Q.Top),isNaN(+Q.Left)||(d["!margins"].left=+Q.Left),isNaN(+Q.Right)||(d["!margins"].right=+Q.Right),isNaN(+Q.Bottom)||(d["!margins"].bottom=+Q.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;default:$=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:$=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:$=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:$=!1}break;case"querytable":switch(i[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:$=!1}break;case"datavalidation":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:$=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:$=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:$=!1}break;case"smarttags":break;default:$=!1}if($)break;if(i[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+l.join("|");if("customdocumentproperties"===l[l.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?PN(x,z,N,n.slice(k,i.index)):(N=i,k=i.index+i[0].length);break}if(r.WTF)throw"Unrecognized tag: "+i[3]+"|"+l.join("|")}var J={};return r.bookSheets||r.bookProps||(J.Sheets=h),J.SheetNames=f,J.Workbook=U,J.SSF=WE(jb),J.Props=I,J.Custprops=x,J}function UN(e,t){switch(sR(t=t||{}),t.type||"base64"){case"base64":return jN(yb(e),t);case"binary":case"buffer":case"file":return jN(e,t);case"array":return jN(Ab(e),t)}}function VN(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return xE(SA).map(function(e){for(var t=0;t<hA.length;++t)if(hA[t][1]==e)return hA[t];for(t=0;t<mA.length;++t)if(mA[t][1]==e)return mA[t];throw e}).forEach(function(n){if(null!=e[n[1]]){var i=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(U_(SA[n[1]]||n[1],i))}}),z_("DocumentProperties",r.join(""),{xmlns:aS})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&xE(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<hA.length;++n)if(t==hA[n][1])return;for(n=0;n<mA.length;++n)if(t==mA[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var o=e[t],a="string";"number"==typeof o?(a="float",o=String(o)):!0===o||!1===o?(a="boolean",o=o?"1":"0"):o=String(o),i.push(z_(__(t),o,{"dt:dt":a}))}}),t&&xE(t).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],o="string";"number"==typeof n?(o="float",n=String(n)):!0===n||!1===n?(o="boolean",n=n?"1":"0"):n instanceof Date?(o="dateTime.tz",n=n.toISOString()):n=String(n),i.push(z_(__(r),n,{"dt:dt":o}))}}),"<"+n+' xmlns="'+aS+'">'+i.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function zN(e){return z_("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Ex(e.Ref,{r:0,c:0})})}function HN(e,t,r,n,i,o,a){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+E_(Ex(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var c=sC(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=E_(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=E_(e.l.Tooltip))),r["!merges"])for(var l=r["!merges"],u=0;u!=l.length;++u)l[u].s.c==a.c&&l[u].s.r==a.r&&(l[u].e.c>l[u].s.c&&(s["ss:MergeAcross"]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(s["ss:MergeDown"]=l[u].e.r-l[u].s.r));var h="",f="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=QC[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||jb[14]);break;case"s":h="String",f=((e.v||"")+"").replace(w_,function(e){return v_[e]}).replace(S_,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var d=wk(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+d),s["ss:Index"]=a.c+1;var p=null!=e.v?f:"",g="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=e.c.map(function(e){var t=z_("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return z_("Comment",t,{"ss:Author":e.a})}).join("")),z_("Cell",g,s)}function WN(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=OI(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function GN(e,t,r){var n=[],i=r.SheetNames[e],o=r.Sheets[i],a=o?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,o=[],a=0;a<i.length;++a){var s=i[a];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||o.push(zN(s)))}return o.join("")}(o,0,e,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=o?function(e,t){if(!e["!ref"])return"";var r=hC(e["!ref"]),n=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(e,t){xI(e);var r=!!e.width,n=vk(t,e),i={"ss:Index":t+1};r&&(i["ss:Width"]=SI(n.width)),e.hidden&&(i["ss:Hidden"]="1"),o.push(z_("Column",null,i))});for(var a=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var c=[WN(s,(e["!rows"]||[])[s])],l=r.s.c;l<=r.e.c;++l){var u=!1;for(i=0;i!=n.length;++i)if(!(n[i].s.c>l)&&!(n[i].s.r>s)&&!(n[i].e.c<l)&&!(n[i].e.r<s)){n[i].s.c==l&&n[i].s.r==s||(u=!0);break}if(!u){var h={r:s,c:l},f=cC(h),d=a?(e[s]||[])[l]:e[f];c.push(HN(d,f,e,t,0,0,h))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}(o,t):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(z_("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(z_("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(z_("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(z_("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<r&&(!n.Workbook.Sheets[o]||n.Workbook.Sheets[o].Hidden);++o);o==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(U_("ProtectContents","True")),e["!protect"].objects&&i.push(U_("ProtectObjects","True")),e["!protect"].scenarios&&i.push(U_("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(U_("EnableSelection","UnlockedCells")):i.push(U_("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")})),0==i.length?"":z_("WorksheetOptions",i.join(""),{xmlns:sS})}(o,0,e,r)),n.join("")}function XN(e,t){t||(t={}),e.SSF||(e.SSF=WE(jb)),e.SSF&&(bE(),wE(e.SSF),t.revssf=OE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],wk(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(VN(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(z_("Worksheet",GN(n,t,e),{"ss:Name":E_(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var n=[];n.push(z_("NumberFormat",null,{"ss:Format":E_(jb[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};r.push(z_("Style",n.join(""),i))}),z_("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||r.push(zN(i)))}return z_("Names",r.join(""))}(e),c_+z_("Workbook",r.join(""),{xmlns:cS,"xmlns:o":aS,"xmlns:x":sS,"xmlns:ss":cS,"xmlns:dt":lS,"xmlns:html":fS})}function KN(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return HC(e,1)}(r),r.length-r.l<=4)return t;var n=r.read_shift(4);return 0==n||n>40?t:(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4||1907505652!==(n=r.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return HC(e,2)}(r),0==(n=r.read_shift(4))||n>40?t:(r.l-=4,void(t.Reserved2=r.read_shift(0,"lpwstr")))))}var qN=[60,1084,2066,2165,2175];function YN(e,t,r,n,i){var o=n,a=[],s=r.slice(r.l,r.l+o);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:i.enc.insitu(s)}a.push(s),r.l+=o;for(var c=LS(r,r.l),l=oO[c],u=0;null!=l&&qN.indexOf(c)>-1;)o=LS(r,r.l+2),u=r.l+4,2066==c?u+=4:2165!=c&&2175!=c||(u+=12),s=r.slice(u,r.l+4+o),a.push(s),r.l+=4+o,l=oO[c=LS(r,r.l)];var h=Ib(a);KS(h,0);var f=0;h.lens=[];for(var d=0;d<a.length;++d)h.lens.push(f),f+=a[d].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,i)}function ZN(e,t,r){if("z"!==e.t&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jb[n])}catch(o){if(t.WTF)throw o}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||QC[e.v]:0===n||"General"==n?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Yb(e.v):e.w=Zb(e.v):e.w=vE(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(o){if(t.WTF)throw o}if(t.cellDates&&n&&"n"==e.t&&dE(jb[n]||String(n))){var i=Hb(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function $N(e,t,r){return{v:e,ixfe:t,t:r}}function QN(e,t){var r={opts:{}},n={};var i,o,a,s,c,l,u,h,f=t.dense?[]:{},d={},p={},g=null,m=[],v="",y={},w="",b={},E=[],_=[],S=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},T=function(e){return e<8?$C[e]:e<64&&S[e-8]||$C[e]},I=function(e,t,r){if(!(F>1)&&!(r.sheetRows&&e.r>=r.sheetRows)){if(r.cellStyles&&t.XF&&t.XF.data&&function(e,t,r){var n,i=t.XF.data;i&&i.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=i.patternType,(n=bI(T(i.icvFore)))&&(t.s.fgColor={rgb:n}),(n=bI(T(i.icvBack)))&&(t.s.bgColor={rgb:n}))}(0,t,r),delete t.ixfe,delete t.XF,i=e,w=cC(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),r.cellFormula&&t.f)for(var n=0;n<E.length;++n)if(!(E[n][0].s.c>e.c||E[n][0].s.r>e.r)&&!(E[n][0].e.c<e.c||E[n][0].e.r<e.r)){t.F=uC(E[n][0]),E[n][0].s.c==e.c&&E[n][0].s.r==e.r||delete t.f,t.f&&(t.f=""+Zx(E[n][1],0,e,P,x));break}r.dense?(f[e.r]||(f[e.r]=[]),f[e.r][e.c]=t):f[w]=t}},x={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(x.password=t.password);var k=[],N=[],O=[],R=[],D=!1,P=[];P.SheetNames=x.snames,P.sharedf=x.sharedf,P.arrayf=x.arrayf,P.names=[],P.XTI=[];var M,L=0,F=0,B=0,j=[],U=[];x.codepage=1200,cb(1200);for(var V=!1;e.l<e.length-1;){var z=e.l,H=e.read_shift(2);if(0===H&&10===L)break;var W=e.l===e.length?0:e.read_shift(2),G=oO[H];if(G&&G.f){if(t.bookSheets&&133===L&&133!==H)break;if(L=H,2===G.r||12==G.r){var X=e.read_shift(2);if(W-=2,!x.enc&&X!==H&&((255&X)<<8|X>>8)!==H)throw new Error("rt mismatch: "+X+"!="+H);12==G.r&&(e.l+=10,W-=10)}var K={};if(K=10===H?G.f(e,W,x):YN(H,G,e,W,x),0==F&&-1===[9,521,1033,2057].indexOf(L))continue;switch(H){case 34:r.opts.Date1904=C.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(x.enc||(e.l=0),x.enc=K,!t.password)throw new Error("File is password-protected");if(null==K.valid)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:x.lastuser=K;break;case 66:var q=Number(K);switch(q){case 21010:q=1200;break;case 32768:q=1e4;break;case 32769:q=1252}cb(x.codepage=q),V=!0;break;case 317:x.rrtabid=K;break;case 25:x.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:x.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(f["!type"]="dialog"),K.fBelow||((f["!outline"]||(f["!outline"]={})).above=!0),K.fRight||((f["!outline"]||(f["!outline"]={})).left=!0);break;case 224:_.push(K);break;case 430:P.push([K]),P[P.length-1].XTI=[];break;case 35:case 547:P[P.length-1].push(K);break;case 24:case 536:M={Name:K.Name,Ref:Zx(K.rgce,0,null,P,x)},K.itab>0&&(M.Sheet=K.itab-1),P.names.push(M),P[0]||(P[0]=[],P[0].XTI=[]),P[P.length-1].push(K),"_xlnm._FilterDatabase"==K.Name&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&"PtgArea3d"==K.rgce[0][0][0]&&(U[K.itab-1]={ref:uC(K.rgce[0][0][1][2])});break;case 22:x.ExternCount=K;break;case 23:0==P.length&&(P[0]=[],P[0].XTI=[]),P[P.length-1].XTI=P[P.length-1].XTI.concat(K),P.XTI=P.XTI.concat(K);break;case 2196:if(x.biff<8)break;null!=M&&(M.Comment=K[1]);break;case 18:f["!protect"]=K;break;case 19:0!==K&&x.WTF&&console.error("Password verifier: "+K);break;case 133:d[K.pos]=K,x.snames.push(K.name);break;case 10:if(--F)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,f["!ref"]=uC(p),t.sheetRows&&t.sheetRows<=p.e.r){var Y=p.e.r;p.e.r=t.sheetRows-1,f["!fullref"]=f["!ref"],f["!ref"]=uC(p),p.e.r=Y}p.e.r++,p.e.c++}k.length>0&&(f["!merges"]=k),N.length>0&&(f["!objects"]=N),O.length>0&&(f["!cols"]=O),R.length>0&&(f["!rows"]=R),C.Sheets.push(A)}""===v?y=f:n[v]=f,f=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===x.biff&&(x.biff={9:2,521:3,1033:4}[H]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),x.biffguess=0==K.BIFFVer,0==K.BIFFVer&&4096==K.dt&&(x.biff=5,V=!0,cb(x.codepage=28591)),8==x.biff&&0==K.BIFFVer&&16==K.dt&&(x.biff=2),F++)break;if(f=t.dense?[]:{},x.biff<8&&!V&&(V=!0,cb(x.codepage=t.codepage||1252)),x.biff<5||0==K.BIFFVer&&4096==K.dt){""===v&&(v="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var Z={pos:e.l-W,name:v};d[Z.pos]=Z,x.snames.push(v)}else v=(d[z]||{name:""}).name;32==K.dt&&(f["!type"]="chart"),64==K.dt&&(f["!type"]="macro"),k=[],N=[],x.arrayf=E=[],O=[],R=[],D=!1,A={Hidden:(d[z]||{hs:0}).hs,name:v};break;case 515:case 3:case 2:"chart"==f["!type"]&&(t.dense?(f[K.r]||[])[K.c]:f[cC({c:K.c,r:K.r})])&&++K.c,l={ixfe:K.ixfe,XF:_[K.ixfe]||{},v:K.val,t:"n"},B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:K.c,r:K.r},l,t);break;case 5:case 517:l={ixfe:K.ixfe,XF:_[K.ixfe],v:K.val,t:K.t},B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:K.c,r:K.r},l,t);break;case 638:l={ixfe:K.ixfe,XF:_[K.ixfe],v:K.rknum,t:"n"},B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:K.c,r:K.r},l,t);break;case 189:for(var $=K.c;$<=K.C;++$){var Q=K.rkrec[$-K.c][0];l={ixfe:Q,XF:_[Q],v:K.rkrec[$-K.c][1],t:"n"},B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:$,r:K.r},l,t)}break;case 6:case 518:case 1030:if("String"==K.val){g=K;break}if((l=$N(K.val,K.cell.ixfe,K.tt)).XF=_[l.ixfe],t.cellFormula){var J=K.formula;if(J&&J[0]&&J[0][0]&&"PtgExp"==J[0][0][0]){var ee=J[0][0][1][0],te=J[0][0][1][1],re=cC({r:ee,c:te});b[re]?l.f=""+Zx(K.formula,0,K.cell,P,x):l.F=((t.dense?(f[ee]||[])[te]:f[re])||{}).F}else l.f=""+Zx(K.formula,0,K.cell,P,x)}B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I(K.cell,l,t),g=K;break;case 7:case 519:if(!g)throw new Error("String record expects Formula");g.val=K,(l=$N(K,g.cell.ixfe,"s")).XF=_[l.ixfe],t.cellFormula&&(l.f=""+Zx(g.formula,0,g.cell,P,x)),B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I(g.cell,l,t),g=null;break;case 33:case 545:E.push(K);var ne=cC(K[0].s);if(o=t.dense?(f[K[0].s.r]||[])[K[0].s.c]:f[ne],t.cellFormula&&o){if(!g)break;if(!ne||!o)break;o.f=""+Zx(K[1],0,K[0],P,x),o.F=uC(K[0])}break;case 1212:if(!t.cellFormula)break;if(w){if(!g)break;b[cC(g.cell)]=K[0],((o=t.dense?(f[g.cell.r]||[])[g.cell.c]:f[cC(g.cell)])||{}).f=""+Zx(K[0],0,i,P,x)}break;case 253:l=$N(m[K.isst].t,K.ixfe,"s"),m[K.isst].h&&(l.h=m[K.isst].h),l.XF=_[l.ixfe],B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:K.c,r:K.r},l,t);break;case 513:t.sheetStubs&&(l={ixfe:K.ixfe,XF:_[K.ixfe],t:"z"},B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:K.c,r:K.r},l,t));break;case 190:if(t.sheetStubs)for(var ie=K.c;ie<=K.C;++ie){var oe=K.ixfe[ie-K.c];l={ixfe:oe,XF:_[oe],t:"z"},B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:ie,r:K.r},l,t)}break;case 214:case 516:case 4:(l=$N(K.val,K.ixfe,"s")).XF=_[l.ixfe],B>0&&(l.z=j[l.ixfe>>8&63]),ZN(l,t,r.opts.Date1904),I({c:K.c,r:K.r},l,t);break;case 0:case 512:1===F&&(p=K);break;case 252:m=K;break;case 1054:if(4==x.biff){j[B++]=K[1];for(var ae=0;ae<B+163&&jb[ae]!=K[1];++ae);ae>=163&&yE(K[1],B+163)}else yE(K[1],K[0]);break;case 30:j[B++]=K;for(var se=0;se<B+163&&jb[se]!=K;++se);se>=163&&yE(K,B+163);break;case 229:k=k.concat(K);break;case 93:N[K.cmo[0]]=x.lastobj=K;break;case 438:x.lastobj.TxO=K;break;case 127:x.lastobj.ImData=K;break;case 440:for(c=K[0].s.r;c<=K[0].e.r;++c)for(s=K[0].s.c;s<=K[0].e.c;++s)(o=t.dense?(f[c]||[])[s]:f[cC({c:s,r:c})])&&(o.l=K[1]);break;case 2048:for(c=K[0].s.r;c<=K[0].e.r;++c)for(s=K[0].s.c;s<=K[0].e.c;++s)(o=t.dense?(f[c]||[])[s]:f[cC({c:s,r:c})])&&o.l&&(o.l.Tooltip=K[1]);break;case 28:if(x.biff<=5&&x.biff>=2)break;o=t.dense?(f[K[0].r]||[])[K[0].c]:f[cC(K[0])];var ce=N[K[2]];o||(t.dense?(f[K[0].r]||(f[K[0].r]=[]),o=f[K[0].r][K[0].c]={t:"z"}):o=f[cC(K[0])]={t:"z"},p.e.r=Math.max(p.e.r,K[0].r),p.s.r=Math.min(p.s.r,K[0].r),p.e.c=Math.max(p.e.c,K[0].c),p.s.c=Math.min(p.s.c,K[0].c)),o.c||(o.c=[]),a={a:K[1],t:ce.TxO.t},o.c.push(a);break;case 2173:cx(_[K.ixfe],K.ext);break;case 125:if(!x.cellStyles)break;for(;K.e>=K.s;)O[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(1&K.flags)},D||(D=!0,II(K.w/256)),xI(O[K.e+1]);break;case 520:var le={};null!=K.level&&(R[K.r]=le,le.level=K.level),K.hidden&&(R[K.r]=le,le.hidden=!0),K.hpt&&(R[K.r]=le,le.hpt=K.hpt,le.hpx=OI(K.hpt));break;case 38:case 39:case 40:case 41:f["!margins"]||yk(f["!margins"]={}),f["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[H]]=K;break;case 161:f["!margins"]||yk(f["!margins"]={}),f["!margins"].header=K.header,f["!margins"].footer=K.footer;break;case 574:K.RTL&&(C.Views[0].RTL=!0);break;case 146:S=K;break;case 2198:h=K;break;case 140:u=K;break;case 442:v?A.CodeName=K||A.name:C.WBProps.CodeName=K||"ThisWorkbook"}}else G||console.error("Missing Info for XLS Record 0x"+H.toString(16)),e.l+=W}return r.SheetNames=xE(d).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return d[e].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&y["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=y)):r.Preamble=y,r.Sheets&&U.forEach(function(e,t){r.Sheets[r.SheetNames[t]]["!autofilter"]=e}),r.Strings=m,r.SSF=WE(jb),x.enc&&(r.Encryption=x.enc),h&&(r.Themes=h),r.Metadata={},void 0!==u&&(r.Metadata.Country=u),P.names.length>0&&(C.Names=P.names),r.Workbook=C,r}var JN="e0859ff2f94f6810ab9108002b27b3d9",eO="02d5cdd59c2e1b10939708002b2cf9ae",tO="05d5cdd59c2e1b10939708002b2cf9ae";function rO(e,t){var r,n,i,o;if(t||(t={}),sR(t),lb(),t.codepage&&sb(t.codepage),e.FullPaths){if(CE.find(e,"/encryption"))throw new Error("File is password-protected");r=CE.find(e,"!CompObj"),n=CE.find(e,"/Workbook")||CE.find(e,"/Book")}else{switch(t.type){case"base64":e=Sb(yb(e));break;case"binary":e=Sb(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}KS(e,0),n={content:e}}if(r&&KN(r),t.bookProps&&!t.bookSheets)i={};else{var a=wb?"buffer":"array";if(n&&n.content)i=QN(n.content,t);else if((o=CE.find(e,"PerfectOffice_MAIN"))&&o.content)i=XT.to_workbook(o.content,(t.type=a,t));else{if(!(o=CE.find(e,"NativeContent_MAIN"))||!o.content)throw(o=CE.find(e,"MN0"))&&o.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=XT.to_workbook(o.content,(t.type=a,t))}t.bookVBA&&e.FullPaths&&CE.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=function(e){var t=CE.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if("/"!==r.slice(-1)&&r.match(/_VBA_PROJECT_CUR/)){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");CE.utils.cfb_add(t,i,e.FileIndex[n].content)}}),CE.write(t)}(e))}var s={};return e.FullPaths&&function(e,t,r){var n=CE.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=jA(n,XC,eO);for(var o in i)t[o]=i[o]}catch(l){if(r.WTF)throw l}var a=CE.find(e,"/!SummaryInformation");if(a&&a.size>0)try{var s=jA(a,KC,JN);for(var c in s)null==t[c]&&(t[c]=s[c])}catch(l){if(r.WTF)throw l}t.HeadingPairs&&t.TitlesOfParts&&(yA(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,s,t),i.Props=i.Custprops=s,t.bookFiles&&(i.cfb=e),i}function nO(e,t){var r=t||{},n=CE.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return CE.utils.cfb_add(n,i,gO(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],i=[],o=[],a=0,s=kE(XC,"n"),c=kE(KC,"n");if(e.Props)for(r=xE(e.Props),a=0;a<r.length;++a)(Object.prototype.hasOwnProperty.call(s,r[a])?n:Object.prototype.hasOwnProperty.call(c,r[a])?i:o).push([r[a],e.Props[r[a]]]);if(e.Custprops)for(r=xE(e.Custprops),a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},r[a])||(Object.prototype.hasOwnProperty.call(s,r[a])?n:Object.prototype.hasOwnProperty.call(c,r[a])?i:o).push([r[a],e.Custprops[r[a]]]);var l=[];for(a=0;a<o.length;++a)LA.indexOf(o[a][0])>-1||vA.indexOf(o[a][0])>-1||null!=o[a][1]&&l.push(o[a]);i.length&&CE.utils.cfb_add(t,"/\x05SummaryInformation",UA(i,JN,c,KC)),(n.length||l.length)&&CE.utils.cfb_add(t,"/\x05DocumentSummaryInformation",UA(n,eO,s,XC,l.length?l:null,tO))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(r,n){if(0!=n){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&CE.utils.cfb_add(e,i,t.FileIndex[n].content)}})}(n,CE.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var iO={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=n,7&o&&(r.level=7&o),16&o&&(r.hidden=!0),32&o&&(r.hpt=i/20),r}},1:{f:function(e){return[CC(e)]}},2:{f:function(e){return[CC(e),MC(e),"n"]}},3:{f:function(e){return[CC(e),e.read_shift(1),"e"]}},4:{f:function(e){return[CC(e),e.read_shift(1),"b"]}},5:{f:function(e){return[CC(e),UC(e),"n"]}},6:{f:function(e){return[CC(e),yC(e),"str"]}},7:{f:function(e){return[CC(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,i=CC(e);i.r=r["!row"];var o=[i,yC(e),"str"];if(r.cellFormula){e.l+=2;var a=nk(e,n-e.l,r);o[3]=Zx(a,0,i,r.supbooks,r)}else e.l=n;return o}},9:{f:function(e,t,r){var n=e.l+t,i=CC(e);i.r=r["!row"];var o=[i,UC(e),"n"];if(r.cellFormula){e.l+=2;var a=nk(e,n-e.l,r);o[3]=Zx(a,0,i,r.supbooks,r)}else e.l=n;return o}},10:{f:function(e,t,r){var n=e.l+t,i=CC(e);i.r=r["!row"];var o=[i,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var a=nk(e,n-e.l,r);o[3]=Zx(a,0,i,r.supbooks,r)}else e.l=n;return o}},11:{f:function(e,t,r){var n=e.l+t,i=CC(e);i.r=r["!row"];var o=[i,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var a=nk(e,n-e.l,r);o[3]=Zx(a,0,i,r.supbooks,r)}else e.l=n;return o}},12:{f:function(e){return[TC(e)]}},13:{f:function(e){return[TC(e),MC(e),"n"]}},14:{f:function(e){return[TC(e),e.read_shift(1),"e"]}},15:{f:function(e){return[TC(e),e.read_shift(1),"b"]}},16:{f:Hk},17:{f:function(e){return[TC(e),yC(e),"str"]}},18:{f:function(e){return[TC(e),e.read_shift(4),"s"]}},19:{f:EC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),o=RC(e),a=ik(e,0,r),s=NC(e);e.l=n;var c={Name:o,Ptg:a};return i<268435455&&(c.Sheet=i),s&&(c.Comment=s),c}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(n.underline=o);var a=e.read_shift(1);a>0&&(n.family=a);var s=e.read_shift(1);switch(s>0&&(n.charset=s),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var c=$C[n];c&&(t.rgb=bI(c));break;case 2:t.rgb=bI([o,a,s]);break;case 3:t.theme=n}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=yC(e),n}},44:{f:function(e,t){return[e.read_shift(2),yC(e)]}},45:{f:VI},46:{f:GI},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:LT},62:{f:function(e){return[CC(e),EC(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=cC(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qS,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=xC(e,t-19),r}},148:{f:Vk,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?yC(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=DC(e,t-8),r.name=yC(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:BC},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Wk},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:yC(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:DC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:OT},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,i=FC(e),o=e.read_shift(1),a=[i];if(a[2]=o,r.cellFormula){var s=rk(e,n-e.l,r);a[1]=s}else e.l=n;return a}},427:{f:function(e,t,r){var n=e.l+t,i=[BC(e,16)];if(r.cellFormula){var o=ok(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return Xk.forEach(function(r){t[r]=UC(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=BC(e,16),i=NC(e),o=yC(e),a=yC(e),s=yC(e);e.l=r;var c={rfx:n,relId:i,loc:o,display:s};return a&&(c.Tooltip=a),c}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:DC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mx},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=BC(e,16);return t.rfx=r.s,t.ref=cC(r.s),e.l+=16,t}},636:{T:-1},637:{f:_C},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:yC(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},oO={6:{f:Jx},10:{f:VA},12:{f:WA},13:{f:WA},14:{f:zA},15:{f:zA},16:{f:UC},17:{f:zA},18:{f:zA},19:{f:WA},20:{f:IT},21:{f:IT},23:{f:OT},24:{f:NT},25:{f:zA},26:{},27:{},28:{f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),s=JA(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},s,a,o]}}(e,0,r)}},29:{},34:{f:zA},35:{f:xT},38:{f:UC},39:{f:UC},40:{f:UC},41:{f:UC},42:{f:zA},43:{f:zA},47:{f:function(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?yI(e,t-2,n):function(e,t,r,n){var i={key:WA(e),verificationBytes:WA(e)};r.password&&(i.verifier=gI(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=vI(r.password))}(e,r.biff,r,n),n}},49:{f:function(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return n.name=qA(e,0,r),n}},51:{f:WA},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:zA},65:{f:function(){}},66:{f:WA},77:{},80:{},81:{},82:{},85:{f:WA},89:{},90:{},91:{},92:{f:function(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=JA(e,0,r);return e.read_shift(t+n-e.l),i}},93:{f:function(e,t,r){if(r&&r.biff<8)return function(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((DT[n]||qS)(e,t,r)),{cmo:[i,n,o],ft:a}}(e,t,r);var n=gT(e),i=function(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(vT[i](e,r-e.l))}catch(o){return e.l=r,n}}return e.l!=r&&(e.l=r),n}(e,t-22,n[1]);return{cmo:n,ft:i}}},94:{},95:{f:zA},96:{},97:{},99:{f:zA},125:{f:LT},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,r){var n=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&n,fBelow:64&n,fRight:128&n}}},130:{f:WA},131:{f:zA},132:{f:zA},133:{f:function(e,t,r){var n=e.read_shift(4),i=3&e.read_shift(1),o=e.read_shift(1);switch(o){case 0:o="Worksheet";break;case 1:o="Macrosheet";break;case 2:o="Chartsheet";break;case 6:o="VBAModule"}var a=qA(e,0,r);return 0===a.length&&(a="Sheet1"),{pos:n,hs:i,dt:o,name:a}}},134:{},140:{f:function(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=qC[t]||t,t=e.read_shift(2),r[1]=qC[t]||t,r}},141:{f:WA},144:{},146:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(aT(e));return r}},151:{},152:{},153:{},154:{},155:{},156:{f:WA},157:{},158:{},160:{f:BT},161:{f:function(e,t){var r={};return t<32||(e.l+=16,r.header=UC(e),r.footer=UC(e),e.l+=2),r}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),o=[];e.l<r;)o.push(uT(e));if(e.l!==r)throw new Error("MulRK read error");var a=e.read_shift(2);if(o.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:o}}},190:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),o=[];e.l<r;)o.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var a=e.read_shift(2);if(o.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:o}}},193:{f:VA},197:{},198:{},199:{},200:{},201:{},202:{f:zA},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:WA},220:{},221:{f:zA},222:{},224:{f:function(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,n.data=function(e,t,r,n){var i={},o=e.read_shift(4),a=e.read_shift(4),s=e.read_shift(4),c=e.read_shift(2);return i.patternType=YC[s>>26],n.cellStyles?(i.alc=7&o,i.fWrap=o>>3&1,i.alcV=o>>4&7,i.fJustLast=o>>7&1,i.trot=o>>8&255,i.cIndent=o>>16&15,i.fShrinkToFit=o>>20&1,i.iReadOrder=o>>22&2,i.fAtrNum=o>>26&1,i.fAtrFnt=o>>27&1,i.fAtrAlc=o>>28&1,i.fAtrBdr=o>>29&1,i.fAtrPat=o>>30&1,i.fAtrProt=o>>31&1,i.dgLeft=15&a,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=127&s,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=127&c,i.icvBack=c>>7&127,i.fsxButton=c>>14&1,i):i}(e,0,n.fStyle,r),n}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:VA},227:{},229:{f:function(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(hT(e));return r}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),o=[],a=0;a!=i&&e.l<r;++a)o.push(YA(e));return o.Count=n,o.Unique=i,o}},253:{f:function(e){var t=sT(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:XA},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zA},353:{f:VA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,r){var n=e.l+t,i=e.read_shift(2),o=e.read_shift(2);if(r.sbcch=o,1025==o||14849==o)return[o,i];if(o<1||o>255)throw new Error("Unexpected SupBook type: "+o);for(var a=$A(e,o),s=[];n>e.l;)s.push(QA(e));return[o,i,a,s]}},431:{f:zA},432:{},433:{},434:{},437:{},438:{f:function(e,t,r){var n=e.l,i="";try{e.l+=4;var o=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(o)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}(e);var a=e.read_shift(2);e.read_shift(2),WA(e);var s=e.read_shift(2);e.l+=s;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var l=e[e.l];if((i+=$A(e,e.lens[c+1]-e.lens[c]-1)).length>=(l?a:2*a))break}if(i.length!==a&&i.length!==2*a)throw new Error("cchText: "+a+" != "+i.length);return e.l=n+t,{t:i}}catch(u){return e.l=n+t,{t:i}}}},439:{f:zA},440:{f:function(e,t){var r=hT(e);e.l+=16;var n=function(e,t){var r=e.l+t,n=e.read_shift(4);if(2!==n)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var o,a,s,c,l,u,h="";16&i&&(o=rT(e,e.l)),128&i&&(a=rT(e,e.l)),257===(257&i)&&(s=rT(e,e.l)),1===(257&i)&&(c=tT(e,e.l)),8&i&&(h=rT(e,e.l)),32&i&&(l=e.read_shift(16)),64&i&&(u=AA(e)),e.l=r;var f=a||s||c||"";f&&h&&(f+="#"+h),f||(f="#"+h),2&i&&"/"==f.charAt(0)&&"/"!=f.charAt(1)&&(f="file://"+f);var d={Target:f};return l&&(d.guid=l),u&&(d.time=u),o&&(d.Tooltip=o),d}(e,t-24);return[r,n]}},441:{},442:{f:QA},443:{},444:{f:WA},445:{},446:{},448:{f:VA},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:VA},512:{f:CT},513:{f:FT},515:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var n=sT(e),i=UC(e);return n.val=i,n}},516:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5),e.l;var n=sT(e);2==r.biff&&e.l++;var i=QA(e,e.l,r);return n.val=i,n}},517:{f:TT},519:{f:jT},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,7&n&&(t.level=7&n),32&n&&(t.hidden=!0),64&n&&(t.hpt=r/20),t}},523:{},545:{f:RT},549:{f:ET},566:{},574:{f:function(e,t,r){return r&&r.biff>=2&&r.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=uT(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}},659:{},1048:{},1054:{f:function(e,t,r){return[e.read_shift(2),JA(e,0,r)]}},1084:{},1212:{f:function(e,t,r){var n=dT(e);e.l++;var i=e.read_shift(1);return[Qx(e,t-=8,r),i,n]}},2048:{f:function(e,t){e.read_shift(2);var r=hT(e),n=e.read_shift((t-10)/2,"dbcs-cont");return[r,n=n.replace(xb,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:yT},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:VA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(sx(e,e.l));return{ixfe:r,ext:i}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zA,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2);return[$A(e,n,r),$A(e,i,r)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,r){var n=e.l+t;if(124226!==e.read_shift(4))if(r.cellStyles){var i,o=e.slice(e.l);e.l=n;try{i=a_(o,{type:"array"})}catch(s){return}var a=t_(i,"theme/theme/theme1.xml",!0);if(a)return ix(a,r)}else e.l=n},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:VA},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:WA},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,r){var n={area:!1};if(5!=r.biff)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,16&i&&(n.area=!0),n}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(aT(e));return r}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:CT},1:{},2:{f:function(e){var t=sT(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}},3:{f:function(e){var t=sT(e);++e.l;var r=UC(e);return t.t="n",t.val=r,t}},4:{f:function(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var n=sT(e);++e.l;var i=JA(e,0,r);return n.t="str",n.val=i,n}},5:{f:TT},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:yT},11:{},22:{f:WA},30:{f:ST},31:{},32:{},33:{f:RT},36:{},37:{f:ET},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:WA},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,r){var n=e.l+t,i=sT(e),o=e.read_shift(2),a=$A(e,o,r);return e.l=n,i.t="str",i.val=a,i}},223:{},234:{},354:{},421:{},518:{f:Jx},521:{f:yT},536:{f:NT},547:{f:xT},561:{},579:{},1030:{f:Jx},1033:{f:yT},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function aO(e,t,r,n){var i=t;if(!isNaN(i)){var o=n||(r||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,o),o>0&&DS(r)&&e.push(r)}}function sO(e,t,r){return e||(e=YS(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function cO(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?DE(zE(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?aO(e,2,function(e,t,r){var n=YS(9);return sO(n,e,t),n.write_shift(2,r),n}(r,n,i)):aO(e,3,function(e,t,r){var n=YS(15);return sO(n,e,t),n.write_shift(8,r,"f"),n}(r,n,i)));case"b":case"e":return void aO(e,5,function(e,t,r,n){var i=YS(9);return sO(i,e,t),KA(r,n||"b",i),i}(r,n,t.v,t.t));case"s":case"str":return void aO(e,4,function(e,t,r){var n=YS(8+2*r.length);return sO(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}aO(e,1,sO(null,r,n))}function lO(e,t){var r=t||{};for(var n=$S(),i=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==r.sheet&&(i=o);if(0==i&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return aO(n,4==r.biff?1033:3==r.biff?521:9,wT(0,16,r)),function(e,t,r,n){var i,o=Array.isArray(t),a=hC(t["!ref"]||"A1"),s="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=uC(a)}for(var l=a.s.r;l<=a.e.r;++l){s=iC(l);for(var u=a.s.c;u<=a.e.c;++u){l===a.s.r&&(c[u]=aC(u)),i=c[u]+s;var h=o?(t[l]||[])[u]:t[i];h&&cO(e,h,l,u)}}}(n,e.Sheets[e.SheetNames[i]],0,r),aO(n,10),n.end()}function uO(e,t,r){aO(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,i=YS(n?15+r.length:16+2*r.length);return i.write_shift(2,20*(e.sz||12)),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function hO(e,t){if(t){var r=0;t.forEach(function(t,n){++r<=256&&t&&aO(e,125,function(e,t){var r=YS(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(vk(n,t),n))})}}function fO(e,t,r,n,i){var o=16+wk(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)aO(e,6,ek(t,r,n,0,o));else switch(t.t){case"d":case"n":aO(e,515,function(e,t,r,n){var i=YS(14);return cT(e,t,n,i),VC(r,i),i}(r,n,"d"==t.t?DE(zE(t.v)):t.v,o));break;case"b":case"e":aO(e,517,function(e,t,r,n,i,o){var a=YS(8);return cT(e,t,n,a),KA(r,o,a),a}(r,n,t.v,o,0,t.t));break;case"s":case"str":if(i.bookSST)aO(e,253,function(e,t,r,n){var i=YS(10);return cT(e,t,n,i),i.write_shift(4,r),i}(r,n,mk(i.Strings,t.v,i.revStrings),o));else aO(e,516,function(e,t,r,n,i){var o=!i||8==i.biff,a=YS(+o+8+(1+o)*r.length);return cT(e,t,n,a),a.write_shift(2,r.length),o&&a.write_shift(1,1),a.write_shift((1+o)*r.length,r,o?"utf16le":"sbcs"),a}(r,n,(t.v||"").slice(0,255),o,i));break;default:aO(e,513,cT(r,n,o))}else aO(e,513,cT(r,n,o))}function dO(e,t,r){var n,i=$S(),o=r.SheetNames[e],a=r.Sheets[o]||{},s=(r||{}).Workbook||{},c=(s.Sheets||[])[e]||{},l=Array.isArray(a),u=8==t.biff,h="",f=[],d=hC(a["!ref"]||"A1"),p=u?65536:16384;if(d.e.c>255||d.e.r>=p){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,p-1)}aO(i,2057,wT(0,16,t)),aO(i,13,GA(1)),aO(i,12,GA(100)),aO(i,15,HA(!0)),aO(i,17,HA(!1)),aO(i,16,VC(.001)),aO(i,95,HA(!0)),aO(i,42,HA(!1)),aO(i,43,HA(!1)),aO(i,130,GA(1)),aO(i,128,function(e){var t=YS(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),aO(i,131,HA(!1)),aO(i,132,HA(!1)),u&&hO(i,a["!cols"]),aO(i,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=YS(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(d,t)),u&&(a["!links"]=[]);for(var g=d.s.r;g<=d.e.r;++g){h=iC(g);for(var m=d.s.c;m<=d.e.c;++m){g===d.s.r&&(f[m]=aC(m)),n=f[m]+h;var v=l?(a[g]||[])[m]:a[n];v&&(fO(i,v,g,m,t),u&&v.l&&a["!links"].push([n,v.l]))}}var y=c.CodeName||c.name||o;return u&&aO(i,574,function(e){var t=YS(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&aO(i,229,function(e){var t=YS(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)fT(e[r],t);return t}(a["!merges"])),u&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];aO(e,440,PT(n)),n[1].Tooltip&&aO(e,2048,MT(n))}delete t["!links"]}(i,a),aO(i,442,eT(y)),u&&function(e,t){var r=YS(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),aO(e,2151,r),(r=YS(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),fT(hC(t["!ref"]||"A1"),r),r.write_shift(4,4),aO(e,2152,r)}(i,a),aO(i,10),i.end()}function pO(e,t,r){var n=$S(),i=(e||{}).Workbook||{},o=i.Sheets||[],a=i.WBProps||{},s=8==r.biff,c=5==r.biff;(aO(n,2057,wT(0,5,r)),"xla"==r.bookType&&aO(n,135),aO(n,225,s?GA(1200):null),aO(n,193,function(e,t){t||(t=YS(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),c&&aO(n,191),c&&aO(n,192),aO(n,226),aO(n,92,function(e,t){var r=!t||8==t.biff,n=YS(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),aO(n,66,GA(s?1200:1252)),s&&aO(n,353,GA(0)),s&&aO(n,448),aO(n,317,function(e){for(var t=YS(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),s&&e.vbaraw&&aO(n,211),s&&e.vbaraw)&&aO(n,442,eT(a.CodeName||"ThisWorkbook"));aO(n,156,GA(17)),aO(n,25,HA(!1)),aO(n,18,HA(!1)),aO(n,19,GA(0)),s&&aO(n,431,HA(!1)),s&&aO(n,444,GA(0)),aO(n,61,function(){var e=YS(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),aO(n,64,HA(!1)),aO(n,141,GA(0)),aO(n,34,HA("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&T_(e.Workbook.WBProps.date1904)?"true":"false"}(e))),aO(n,14,HA(!0)),s&&aO(n,439,HA(!1)),aO(n,218,GA(0)),uO(n,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)null!=t[i]&&aO(e,1054,_T(i,t[i],r))})}(n,e.SSF,r),function(e,t){for(var r=0;r<16;++r)aO(e,224,AT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){aO(e,224,AT(r,0,t))})}(n,r),s&&aO(n,352,HA(!1));var l,u=n.end(),h=$S();s&&aO(h,140,(l||(l=YS(4)),l.write_shift(2,1),l.write_shift(2,1),l)),s&&r.Strings&&function(e,t,r,n){var i=n||(r||[]).length||0;if(i<=8224)return aO(e,t,r,i);var o=t;if(!isNaN(o)){for(var a=r.parts||[],s=0,c=0,l=0;l+(a[s]||8224)<=8224;)l+=a[s]||8224,s++;var u=e.next(4);for(u.write_shift(2,o),u.write_shift(2,l),e.push(r.slice(c,c+l)),c+=l;c<i;){for((u=e.next(4)).write_shift(2,60),l=0;l+(a[s]||8224)<=8224;)l+=a[s]||8224,s++;u.write_shift(2,l),e.push(r.slice(c,c+l)),c+=l}}}(h,252,function(e){var t=YS(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=ZA(e[n]);var i=Ib([t].concat(r));return i.parts=[t.length].concat(r.map(function(e){return e.length})),i}(r.Strings)),aO(h,10);var f=h.end(),d=$S(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var m=u.length+p+f.length;for(g=0;g<e.SheetNames.length;++g){aO(d,133,bT({pos:m,hs:(o[g]||{}).Hidden||0,dt:0,name:e.SheetNames[g]},r)),m+=t[g].length}var v=d.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),f.length&&y.push(f),Ib(y)}function gO(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])lC(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=WE(jb)),e&&e.SSF&&(bE(),wE(e.SSF),r.revssf=OE(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,cR(r),r.cellXfs=[],wk(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=dO(i,r,e);return n.unshift(pO(e,n,r)),Ib(n)}(e,t);case 4:case 3:case 2:return lO(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function mO(e,t){var r=t||{};var n=r.dense?[]:{},i=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var o=e.match(/<\/table/i),a=i.index,s=o&&o.index||e.length,c=YE(e.slice(a,s),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,u=0,h=0,f=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(a=0;a<c.length;++a){var g=c[a].trim(),m=g.slice(0,3).toLowerCase();if("<tr"!=m){if("<td"==m||"<th"==m){var v=g.split(/<\/t[dh]>/i);for(s=0;s<v.length;++s){var y=v[s].trim();if(y.match(/<t[dh]/i)){for(var w=y,b=0;"<"==w.charAt(0)&&(b=w.indexOf(">"))>-1;)w=w.slice(b+1);for(var E=0;E<p.length;++E){var _=p[E];_.s.c==u&&_.s.r<l&&l<=_.e.r&&(u=_.e.c+1,E=-1)}var S=p_(y.slice(0,y.indexOf(">")));f=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||f>1)&&p.push({s:{r:l,c:u},e:{r:l+(h||1)-1,c:u+f-1}});var C=S.t||S["data-t"]||"";if(w.length)if(w=P_(w),d.s.r>l&&(d.s.r=l),d.e.r<l&&(d.e.r=l),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),w.length){var A={t:"s",v:w};r.raw||!w.trim().length||"s"==C||("TRUE"===w?A={t:"b",v:!0}:"FALSE"===w?A={t:"b",v:!1}:isNaN(XE(w))?isNaN(qE(w).getDate())||(A={t:"d",v:zE(w)},r.cellDates||(A={t:"n",v:DE(A.v)}),A.z=r.dateNF||jb[14]):A={t:"n",v:XE(w)}),r.dense?(n[l]||(n[l]=[]),n[l][u]=A):n[cC({r:l,c:u})]=A,u+=f}else u+=f;else u+=f}}}}else{if(++l,r.sheetRows&&r.sheetRows<=l){--l;break}u=0}}return n["!ref"]=uC(d),p.length&&(n["!merges"]=p),n}function vO(e,t,r,n){for(var i=e["!merges"]||[],o=[],a=t.s.c;a<=t.e.c;++a){for(var s=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>r||i[l].s.c>a)&&!(i[l].e.r<r||i[l].e.c<a)){if(i[l].s.r<r||i[l].s.c<a){s=-1;break}s=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(s<0)){var u=cC({r:r,c:a}),h=n.dense?(e[r]||[])[a]:e[u],f=h&&null!=h.v&&(h.h||C_(h.w||(dC(h),h.w)||""))||"",d={};s>1&&(d.rowspan=s),c>1&&(d.colspan=c),n.editable?f='<span contenteditable="true">'+f+"</span>":h&&(d["data-t"]=h&&h.t||"z",null!=h.v&&(d["data-v"]=h.v),null!=h.z&&(d["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),d.id=(n.id||"sjs")+"-"+u,o.push(z_("td",f,d))}}return"<tr>"+o.join("")+"</tr>"}var yO='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wO="</body></html>";function bO(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function EO(e,t){var r=t||{},n=null!=r.header?r.header:yO,i=null!=r.footer?r.footer:wO,o=[n],a=lC(e["!ref"]);r.dense=Array.isArray(e),o.push(bO(0,0,r));for(var s=a.s.r;s<=a.e.r;++s)o.push(vO(e,a,s,r));return o.push("</table>"+i),o.join("")}function _O(e,t,r){var n=r||{};var i=0,o=0;if(null!=n.origin)if("number"==typeof n.origin)i=n.origin;else{var a="string"==typeof n.origin?sC(n.origin):n.origin;i=a.r,o=a.c}var s=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,s.length),l={s:{r:0,c:0},e:{r:i,c:o}};if(e["!ref"]){var u=lC(e["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),-1==i&&(l.e.r=i=u.e.r+1)}var h=[],f=0,d=e["!rows"]||(e["!rows"]=[]),p=0,g=0,m=0,v=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&g<c;++p){var b=s[p];if(CO(b)){if(n.display)continue;d[g]={hidden:!0}}var E=b.children;for(m=v=0;m<E.length;++m){var _=E[m];if(!n.display||!CO(_)){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):P_(_.innerHTML),C=_.getAttribute("data-z")||_.getAttribute("z");for(f=0;f<h.length;++f){var A=h[f];A.s.c==v+o&&A.s.r<g+i&&g+i<=A.e.r&&(v=A.e.c+1-o,f=-1)}w=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:g+i,c:v+o},e:{r:g+i+(y||1)-1,c:v+o+(w||1)-1}});var T={t:"s",v:S},I=_.getAttribute("data-t")||_.getAttribute("t")||"";null!=S&&(0==S.length?T.t=I||"z":n.raw||0==S.trim().length||"s"==I||("TRUE"===S?T={t:"b",v:!0}:"FALSE"===S?T={t:"b",v:!1}:isNaN(XE(S))?isNaN(qE(S).getDate())||(T={t:"d",v:zE(S)},n.cellDates||(T={t:"n",v:DE(T.v)}),T.z=n.dateNF||jb[14]):T={t:"n",v:XE(S)})),void 0===T.z&&null!=C&&(T.z=C);var x="",k=_.getElementsByTagName("A");if(k&&k.length)for(var N=0;N<k.length&&(!k[N].hasAttribute("href")||"#"==(x=k[N].getAttribute("href")).charAt(0));++N);x&&"#"!=x.charAt(0)&&(T.l={Target:x}),n.dense?(e[g+i]||(e[g+i]=[]),e[g+i][v+o]=T):e[cC({c:v+o,r:g+i})]=T,l.e.c<v+o&&(l.e.c=v+o),v+=w}}++g}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),l.e.r=Math.max(l.e.r,g-1+i),e["!ref"]=uC(l),g>=c&&(e["!fullref"]=uC((l.e.r=s.length-p+g-1+i,l))),e}function SO(e,t){return _O((t||{}).dense?[]:{},e,t)}function CO(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function AO(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,t){return Array(parseInt(t,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[y_(t.replace(/<[^>]*>/g,""))]}var TO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function IO(e,t){var r=t||{};var n,i,o,a,s,c,l=W_(e),u=[],h={name:""},f="",d=0,p={},g=[],m=r.dense?[]:{},v={value:""},y="",w=0,b=[],E=-1,_=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,A={},T=[],I={},x=[],k=1,N=1,O=[],R={Names:[]},D={},P=["",""],M=[],L={},F="",B=0,j=!1,U=!1,V=0;for(G_.lastIndex=0,l=l.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");s=G_.exec(l);)switch(s[3]=s[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===s[1]?(S.e.c>=S.s.c&&S.e.r>=S.s.r?m["!ref"]=uC(S):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=r.sheetRows-1,m["!ref"]=uC(S)),T.length&&(m["!merges"]=T),x.length&&(m["!rows"]=x),o.name=o["\u540d\u79f0"]||o.name,"undefined"!==typeof JSON&&JSON.stringify(o),g.push(o.name),p[o.name]=m,U=!1):"/"!==s[0].charAt(s[0].length-2)&&(o=p_(s[0],!1),E=_=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,m=r.dense?[]:{},T=[],x=[],U=!0);break;case"table-row-group":"/"===s[1]?--C:++C;break;case"table-row":case"\u884c":if("/"===s[1]){E+=k,k=1;break}if((a=p_(s[0],!1))["\u884c\u53f7"]?E=a["\u884c\u53f7"]-1:-1==E&&(E=0),(k=+a["number-rows-repeated"]||1)<10)for(V=0;V<k;++V)C>0&&(x[E+V]={level:C});_=-1;break;case"covered-table-cell":"/"!==s[1]&&++_,r.sheetStubs&&(r.dense?(m[E]||(m[E]=[]),m[E][_]={t:"z"}):m[cC({r:E,c:_})]={t:"z"}),y="",b=[];break;case"table-cell":case"\u6570\u636e":if("/"===s[0].charAt(s[0].length-2))++_,v=p_(s[0],!1),N=parseInt(v["number-columns-repeated"]||"1",10),c={t:"z",v:null},v.formula&&0!=r.cellFormula&&(c.f=lk(y_(v.formula))),"string"==(v["\u6570\u636e\u7c7b\u578b"]||v["value-type"])&&(c.t="s",c.v=y_(v["string-value"]||""),r.dense?(m[E]||(m[E]=[]),m[E][_]=c):m[cC({r:E,c:_})]=c),_+=N-1;else if("/"!==s[1]){y="",w=0,b=[],N=1;var z=k?E+k-1:E;if(++_>S.e.c&&(S.e.c=_),_<S.s.c&&(S.s.c=_),E<S.s.r&&(S.s.r=E),z>S.e.r&&(S.e.r=z),M=[],L={},c={t:(v=p_(s[0],!1))["\u6570\u636e\u7c7b\u578b"]||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=y_(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(I={s:{r:E,c:_},e:{r:E+(parseInt(v["number-matrix-rows-spanned"],10)||0)-1,c:_+(parseInt(v["number-matrix-columns-spanned"],10)||0)-1}},c.F=uC(I),O.push([I,c.F])),v.formula)c.f=lk(v.formula);else for(V=0;V<O.length;++V)E>=O[V][0].s.r&&E<=O[V][0].e.r&&_>=O[V][0].s.c&&_<=O[V][0].e.c&&(c.F=O[V][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(I={s:{r:E,c:_},e:{r:E+(parseInt(v["number-rows-spanned"],10)||0)-1,c:_+(parseInt(v["number-columns-spanned"],10)||0)-1}},T.push(I)),v["number-columns-repeated"]&&(N=parseInt(v["number-columns-repeated"],10)),c.t){case"boolean":c.t="b",c.v=T_(v["boolean-value"]);break;case"float":case"percentage":case"currency":c.t="n",c.v=parseFloat(v.value);break;case"date":c.t="d",c.v=zE(v["date-value"]),r.cellDates||(c.t="n",c.v=DE(c.v)),c.z="m/d/yy";break;case"time":c.t="n",c.v=BE(v["time-value"])/86400,r.cellDates&&(c.t="d",c.v=FE(c.v)),c.z="HH:MM:SS";break;case"number":c.t="n",c.v=parseFloat(v["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==c.t&&"text"!==c.t&&c.t)throw new Error("Unsupported value type "+c.t);c.t="s",null!=v["string-value"]&&(y=y_(v["string-value"]),b=[])}}else{if(j=!1,"s"===c.t&&(c.v=y||"",b.length&&(c.R=b),j=0==w),D.Target&&(c.l=D),M.length>0&&(c.c=M,M=[]),y&&!1!==r.cellText&&(c.w=y),j&&(c.t="z",delete c.v),(!j||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var H=0;H<k;++H){if(N=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(m[E+H]||(m[E+H]=[]),m[E+H][_]=0==H?c:WE(c);--N>0;)m[E+H][_+N]=WE(c);else for(m[cC({r:E+H,c:_})]=c;--N>0;)m[cC({r:E+H,c:_+N})]=WE(c);S.e.c<=_&&(S.e.c=_)}_+=(N=parseInt(v["number-columns-repeated"]||"1",10))-1,N=0,c={},y="",b=[]}D={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===s[1]){if((n=u.pop())[0]!==s[3])throw"Bad state: "+n}else"/"!==s[0].charAt(s[0].length-2)&&u.push([s[3],!0]);break;case"annotation":if("/"===s[1]){if((n=u.pop())[0]!==s[3])throw"Bad state: "+n;L.t=y,b.length&&(L.R=b),L.a=F,M.push(L)}else"/"!==s[0].charAt(s[0].length-2)&&u.push([s[3],!1]);F="",B=0,y="",w=0,b=[];break;case"creator":"/"===s[1]?F=l.slice(B,s.index):B=s.index+s[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===s[1]){if((n=u.pop())[0]!==s[3])throw"Bad state: "+n}else"/"!==s[0].charAt(s[0].length-2)&&u.push([s[3],!1]);y="",w=0,b=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===s[1]){if(A[h.name]=f,(n=u.pop())[0]!==s[3])throw"Bad state: "+n}else"/"!==s[0].charAt(s[0].length-2)&&(f="",h=p_(s[0],!1),u.push([s[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":i=p_(s[0],!1),f+=TO[s[3]]["long"===i.style?1:0]}break;case"text":if("/>"===s[0].slice(-2))break;if("/"===s[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":f+=l.slice(d,s.index)}else d=s.index+s[0].length;break;case"named-range":P=hk((i=p_(s[0],!1))["cell-range-address"]);var W={Name:i.name,Ref:P[0]+"!"+P[1]};U&&(W.Sheet=g.length),R.Names.push(W);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==s[1]||v&&v["string-value"])p_(s[0],!1),w=s.index+s[0].length;else{var G=AO(l.slice(w,s.index));y=(y.length>0?y+"\n":"")+G[0]}break;case"database-range":if("/"===s[1])break;try{p[(P=hk(p_(s[0])["target-range-address"]))[0]]["!autofilter"]={ref:P[1]}}catch(K){}break;case"a":if("/"!==s[1]){if(!(D=p_(s[0],!1)).href)break;D.Target=y_(D.href),delete D.href,"#"==D.Target.charAt(0)&&D.Target.indexOf(".")>-1?(P=hk(D.Target.slice(1)),D.Target="#"+P[0]+"!"+P[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;default:switch(s[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(r.WTF)throw new Error(s)}}var X={Sheets:p,SheetNames:g,Workbook:R};return r.bookSheets&&delete X.Sheets,X}function xO(e,t){t=t||{},QE(e,"META-INF/manifest.xml")&&function(e,t){for(var r,n,i=W_(e);r=G_.exec(i);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(n=p_(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==n.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(e_(e,"META-INF/manifest.xml"),t);var r=t_(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=IO(O_(r),t);return QE(e,"meta.xml")&&(n.Props=dA(e_(e,"meta.xml"))),n}function kO(e,t){return IO(e,t)}var NO=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+V_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return c_+t}}(),OO=function(){var e=function(e){return E_(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(r,n,i){var o=[];o.push('      <table:table table:name="'+E_(n.SheetNames[i])+'" table:style-name="ta1">\n');var a=0,s=0,c=lC(r["!ref"]||"A1"),l=r["!merges"]||[],u=0,h=Array.isArray(r);if(r["!cols"])for(s=0;s<=c.e.c;++s)o.push("        <table:table-column"+(r["!cols"][s]?' table:style-name="co'+r["!cols"][s].ods+'"':"")+"></table:table-column>\n");var f="",d=r["!rows"]||[];for(a=0;a<c.s.r;++a)f=d[a]?' table:style-name="ro'+d[a].ods+'"':"",o.push("        <table:table-row"+f+"></table:table-row>\n");for(;a<=c.e.r;++a){for(f=d[a]?' table:style-name="ro'+d[a].ods+'"':"",o.push("        <table:table-row"+f+">\n"),s=0;s<c.s.c;++s)o.push(t);for(;s<=c.e.c;++s){var p=!1,g={},m="";for(u=0;u!=l.length;++u)if(!(l[u].s.c>s)&&!(l[u].s.r>a)&&!(l[u].e.c<s)&&!(l[u].e.r<a)){l[u].s.c==s&&l[u].s.r==a||(p=!0),g["table:number-columns-spanned"]=l[u].e.c-l[u].s.c+1,g["table:number-rows-spanned"]=l[u].e.r-l[u].s.r+1;break}if(p)o.push("          <table:covered-table-cell/>\n");else{var v=cC({r:a,c:s}),y=h?(r[a]||[])[s]:r[v];if(y&&y.f&&(g["table:formula"]=E_(uk(y.f)),y.F&&y.F.slice(0,v.length)==v)){var w=lC(y.F);g["table:number-matrix-columns-spanned"]=w.e.c-w.s.c+1,g["table:number-matrix-rows-spanned"]=w.e.r-w.s.r+1}if(y){switch(y.t){case"b":m=y.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=y.v?"true":"false";break;case"n":m=y.w||String(y.v||0),g["office:value-type"]="float",g["office:value"]=y.v||0;break;case"s":case"str":m=null==y.v?"":y.v,g["office:value-type"]="string";break;case"d":m=y.w||zE(y.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=zE(y.v).toISOString(),g["table:style-name"]="ce1";break;default:o.push(t);continue}var b=e(m);if(y.l&&y.l.Target){var E=y.l.Target;"#"==(E="#"==E.charAt(0)?"#"+fk(E.slice(1)):E).charAt(0)||E.match(/^\w+:/)||(E="../"+E),b=z_("text:a",b,{"xlink:href":E.replace(/&/g,"&amp;")})}o.push("          "+z_("table:table-cell",z_("text:p",b,{}),g)+"\n")}else o.push(t)}}o.push("        </table:table-row>\n")}return o.push("      </table:table>\n"),o.join("")};return function(e,t){var n=[c_],i=V_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),o=V_({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(n.push("<office:document"+i+o+">\n"),n.push(uA().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var i=t["!cols"][n];if(null==i.width&&null==i.wpx&&null==i.wch)continue;xI(i),i.ods=r;var o=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+o+'"/>\n'),e.push("  </style:style>\n"),++r}});var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var i=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++n}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var a=0;a!=e.SheetNames.length;++a)n.push(r(e.Sheets[e.SheetNames[a]],e,a));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==t.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function RO(e,t){if("fods"==t.bookType)return OO(e,t);var r=o_(),n="",i=[],o=[];return i_(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),i_(r,n="content.xml",OO(e,t)),i.push([n,"text/xml"]),o.push([n,"ContentFile"]),i_(r,n="styles.xml",NO(e,t)),i.push([n,"text/xml"]),o.push([n,"StylesFile"]),i_(r,n="meta.xml",c_+uA()),i.push([n,"text/xml"]),o.push([n,"MetadataFile"]),i_(r,n="manifest.rdf",function(e){var t=[c_];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var r=0;r!=e.length;++r)t.push(cA(e[r][0],e[r][1])),t.push(lA("",e[r][0]));return t.push(cA("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(o)),i.push([n,"application/rdf+xml"]),i_(r,n="META-INF/manifest.xml",function(e){var t=[c_];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),r}function DO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function PO(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):O_(Ab(e))}function MO(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Sb(R_(e))}function LO(e){var t=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}function FO(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function BO(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function jO(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function UO(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function VO(e){for(var t=[],r=[0];r[0]<e.length;){var n,i=r[0],o=BO(e,r),a=7&o,s=0;if(0==(o=Math.floor(o/8)))break;switch(a){case 0:for(var c=r[0];e[r[0]++]>=128;);n=e.slice(c,r[0]);break;case 5:s=4,n=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,n=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=BO(e,r),n=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(o," at offset ").concat(i))}var l={data:n,type:a};null==t[o]?t[o]=[l]:t[o].push(l)}return t}function zO(e){var t=[];return e.forEach(function(e,r){e.forEach(function(e){e.data&&(t.push(jO(8*r+e.type)),2==e.type&&t.push(jO(e.data.length)),t.push(e.data))})}),LO(t)}function HO(e,t){return(null==e?void 0:e.map(function(e){return t(e.data)}))||[]}function WO(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=BO(e,n),o=VO(e.slice(n[0],n[0]+i));n[0]+=i;var a={id:UO(o[1][0].data),messages:[]};o[2].forEach(function(t){var r=VO(t.data),i=UO(r[3][0].data);a.messages.push({meta:r,data:e.slice(n[0],n[0]+i)}),n[0]+=i}),(null==(t=o[3])?void 0:t[0])&&(a.merge=UO(o[3][0].data)>>>0>0),r.push(a)}return r}function GO(e){var t=[];return e.forEach(function(e){var r=[];r[1]=[{data:jO(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:jO(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(e){n.push(e.data),e.meta[3]=[{type:0,data:jO(e.data.length)}],r[2].push({data:zO(e.meta),type:2})});var i=zO(r);t.push(jO(i.length)),t.push(i),n.forEach(function(e){return t.push(e)})}),LO(t)}function XO(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=BO(t,r),i=[];r[0]<t.length;){var o=3&t[r[0]];if(0!=o){var a=0,s=0;if(1==o?(s=4+(t[r[0]]>>2&7),a=(224&t[r[0]++])<<3,a|=t[r[0]++]):(s=1+(t[r[0]++]>>2),2==o?(a=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(a=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[LO(i)],0==a)throw new Error("Invalid offset 0");if(a>i[0].length)throw new Error("Invalid offset beyond length");if(s>=a)for(i.push(i[0].slice(-a)),s-=a;s>=i[i.length-1].length;)i.push(i[i.length-1]),s-=i[i.length-1].length;i.push(i[0].slice(-a,-a+s))}else{var c=t[r[0]++]>>2;if(c<60)++c;else{var l=c-59;c=t[r[0]],l>1&&(c|=t[r[0]+1]<<8),l>2&&(c|=t[r[0]+2]<<16),l>3&&(c|=t[r[0]+3]<<24),c>>>=0,c++,r[0]+=l}i.push(t.slice(r[0],r[0]+c)),r[0]+=c}}var u=LO(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function KO(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(XO(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return LO(t)}function qO(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var o=jO(n),a=o.length;t.push(o),n<=60?(a++,t.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),a+=n,i[0]=0,i[1]=255&a,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return LO(t)}function YO(e,t,r){var n,i=DO(e),o=i.getUint32(8,!0),a=12,s=-1,c=-1,l=NaN,u=NaN,h=new Date(2001,0,1);switch(1&o&&(l=function(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,n=1&e[t+14],i=t+13;i>=t;--i)n=256*n+e[i];return(128&e[t+15]?-n:n)*Math.pow(10,r-6176)}(e,a),a+=16),2&o&&(u=i.getFloat64(a,!0),a+=8),4&o&&(h.setTime(h.getTime()+1e3*i.getFloat64(a,!0)),a+=8),8&o&&(c=i.getUint32(a,!0),a+=4),16&o&&(s=i.getUint32(a,!0),a+=4),e[1]){case 0:break;case 2:case 10:n={t:"n",v:l};break;case 3:n={t:"s",v:t[c]};break;case 5:n={t:"d",v:h};break;case 6:n={t:"b",v:u>0};break;case 7:n={t:"n",v:u/86400};break;case 8:n={t:"e",v:0};break;case 9:if(!(s>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&o," : ").concat(e.slice(0,4)));n={t:"s",v:r[s]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&o," : ").concat(e.slice(0,4)))}return n}function ZO(e,t){var r=new Uint8Array(32),n=DO(r),i=12,o=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var o=0;i>=1;++o,i/=256)e[t+o]=255&i;e[t+15]|=r>=0?0:128}(r,i,e.v),o|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),o|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,o,!0),r.slice(0,i)}function $O(e,t){var r=new Uint8Array(32),n=DO(r),i=12,o=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),o|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),o|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,o,!0),r.slice(0,i)}function QO(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,r,n){var i,o=DO(e),a=o.getUint32(4,!0),s=(n>1?12:8)+4*FO(a&(n>1?3470:398)),c=-1,l=-1,u=NaN,h=new Date(2001,0,1);switch(512&a&&(c=o.getUint32(s,!0),s+=4),s+=4*FO(a&(n>1?12288:4096)),16&a&&(l=o.getUint32(s,!0),s+=4),32&a&&(u=o.getFloat64(s,!0),s+=8),64&a&&(h.setTime(h.getTime()+1e3*o.getFloat64(s,!0)),s+=8),e[2]){case 0:break;case 2:i={t:"n",v:u};break;case 3:i={t:"s",v:t[l]};break;case 5:i={t:"d",v:h};break;case 6:i={t:"b",v:u>0};break;case 7:i={t:"n",v:u/86400};break;case 8:i={t:"e",v:0};break;case 9:if(c>-1)i={t:"s",v:r[c]};else if(l>-1)i={t:"s",v:t[l]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));i={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return i}(e,t,r,e[0]);case 5:return YO(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function JO(e){return BO(VO(e)[1][0].data)}function eR(e,t){var r=VO(t.data),n=UO(r[1][0].data),i=r[3],o=[];return(i||[]).forEach(function(t){var r=VO(t.data),i=UO(r[1][0].data)>>>0;switch(n){case 1:o[i]=PO(r[3][0].data);break;case 8:var a=VO(e[JO(r[9][0].data)][0].data),s=e[JO(a[1][0].data)][0],c=UO(s.meta[1][0].data);if(2001!=c)throw new Error("2000 unexpected reference to ".concat(c));var l=VO(s.data);o[i]=l[3].map(function(e){return PO(e.data)}).join("")}}),o}function tR(e,t){var r,n=VO(t.data),i=(null==(r=null==n?void 0:n[7])?void 0:r[0])?UO(n[7][0].data)>>>0>0?1:0:-1,o=HO(n[5],function(e){return function(e,t){var r,n,i,o,a,s,c,l,u,h,f,d,p,g,m,v,y=VO(e),w=UO(y[1][0].data)>>>0,b=UO(y[2][0].data)>>>0,E=(null==(n=null==(r=y[8])?void 0:r[0])?void 0:n.data)&&UO(y[8][0].data)>0||!1;if((null==(o=null==(i=y[7])?void 0:i[0])?void 0:o.data)&&0!=t)m=null==(s=null==(a=y[7])?void 0:a[0])?void 0:s.data,v=null==(l=null==(c=y[6])?void 0:c[0])?void 0:l.data;else{if(!(null==(h=null==(u=y[4])?void 0:u[0])?void 0:h.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");m=null==(d=null==(f=y[4])?void 0:f[0])?void 0:d.data,v=null==(g=null==(p=y[3])?void 0:p[0])?void 0:g.data}for(var _=E?4:1,S=DO(m),C=[],A=0;A<m.length/2;++A){var T=S.getUint16(2*A,!0);T<65535&&C.push([A,T])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var I=[];for(A=0;A<C.length-1;++A)I[C[A][0]]=v.subarray(C[A][1]*_,C[A+1][1]*_);return C.length>=1&&(I[C[C.length-1][0]]=v.subarray(C[C.length-1][1]*_)),{R:w,cells:I}}(e,i)});return{nrows:UO(n[4][0].data)>>>0,data:o.reduce(function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach(function(r,n){if(e[t.R][n])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(n));e[t.R][n]=r}),e},[])}}function rR(e,t){var r={"!ref":"A1"},n=e[JO(VO(t.data)[2][0].data)],i=UO(n[0].meta[1][0].data);if(6001!=i)throw new Error("6000 unexpected reference to ".concat(i));return function(e,t,r){var n,i=VO(t.data),o={s:{r:0,c:0},e:{r:0,c:0}};if(o.e.r=(UO(i[6][0].data)>>>0)-1,o.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(o.e.c=(UO(i[7][0].data)>>>0)-1,o.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=uC(o);var a=VO(i[4][0].data),s=eR(e,e[JO(a[4][0].data)][0]),c=(null==(n=a[17])?void 0:n[0])?eR(e,e[JO(a[17][0].data)][0]):[],l=VO(a[3][0].data),u=0;l[1].forEach(function(t){var n=VO(t.data),i=e[JO(n[2][0].data)][0],o=UO(i.meta[1][0].data);if(6002!=o)throw new Error("6001 unexpected reference to ".concat(o));var a=tR(0,i);a.data.forEach(function(e,t){e.forEach(function(e,n){var i=cC({r:u+t,c:n}),o=QO(e,s,c);o&&(r[i]=o)})}),u+=a.nrows})}(e,n[0],r),r}function nR(e,t){var r={SheetNames:[],Sheets:{}};if(HO(VO(t.data)[1],JO).forEach(function(t){e[t].forEach(function(t){if(2==UO(t.meta[1][0].data)){var n=function(e,t){var r,n=VO(t.data),i={name:(null==(r=n[1])?void 0:r[0])?PO(n[1][0].data):"",sheets:[]};return HO(n[2],JO).forEach(function(t){e[t].forEach(function(t){6e3==UO(t.meta[1][0].data)&&i.sheets.push(rR(e,t))})}),i}(e,t);n.sheets.forEach(function(e,t){DR(r,e,0==t?n.name:n.name+"_"+t,!0)})}})}),0==r.SheetNames.length)throw new Error("Empty NUMBERS file");return r}function iR(e){var t,r,n,i,o={},a=[];if(e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(e){if(e.name.match(/\.iwa$/)){var t,r;try{t=KO(e.content)}catch(n){return console.log("?? "+e.content.length+" "+(n.message||n))}try{r=WO(t)}catch(n){return console.log("## "+(n.message||n))}r.forEach(function(e){o[e.id]=e.messages,a.push(e.id)})}}),!a.length)throw new Error("File has no messages");var s=(null==(i=null==(n=null==(r=null==(t=null==o?void 0:o[1])?void 0:t[0])?void 0:r.meta)?void 0:n[1])?void 0:i[0].data)&&1==UO(o[1][0].meta[1][0].data)&&o[1][0];if(s||a.forEach(function(e){o[e].forEach(function(e){if(1==UO(e.meta[1][0].data)>>>0){if(s)throw new Error("Document has multiple roots");s=e}})}),!s)throw new Error("Cannot find Document root");return nR(o,s)}function oR(e,t,r){var n,i,o,a;if(!(null==(n=e[6])?void 0:n[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(a=null==(o=e[8])?void 0:o[0])?void 0:a.data)&&UO(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,c=DO(e[7][0].data),l=0,u=[],h=DO(e[4][0].data),f=0,d=[],p=0;p<t.length;++p)if(null!=t[p]){var g,m;switch(c.setUint16(2*p,l,!0),h.setUint16(2*p,f,!0),typeof t[p]){case"string":g=ZO({t:"s",v:t[p]},r),m=$O({t:"s",v:t[p]},r);break;case"number":g=ZO({t:"n",v:t[p]},r),m=$O({t:"n",v:t[p]},r);break;case"boolean":g=ZO({t:"b",v:t[p]},r),m=$O({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}u.push(g),l+=g.length,d.push(m),f+=m.length,++s}else c.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=jO(s);p<e[7][0].data.length/2;++p)c.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=LO(u),e[3][0].data=LO(d),s}function aR(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function sR(e){aR([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function cR(e){aR([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function lR(e,t,r,n,i,o,a,s,c,l,u,h){try{o[n]=oA(t_(e,r,!0),t);var f,d=e_(e,t);switch(s){case"sheet":f=wN(d,t,i,c,o[n],l,u,h);break;case"chart":if(!(f=bN(d,t,i,c,o[n],l))||!f["!drawel"])break;var p=s_(f["!drawel"].Target,t),g=iA(p),m=function(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}(t_(e,p,!0),oA(t_(e,g,!0),p)),v=s_(m,p),y=iA(v);f=tN(t_(e,v,!0),0,0,oA(t_(e,y,!0),v),0,f);break;case"macro":b=t,o[n],b.slice(-4),f={"!type":"macro"};break;case"dialog":f=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,o[n]);break;default:throw new Error("Unrecognized sheet type "+s)}a[n]=f;var w=[];o&&o[n]&&xE(o[n]).forEach(function(r){var i="";if(o[n][r].Type==nA.CMNT){i=s_(o[n][r].Target,t);var a=SN(e_(e,i,!0),i,c);if(!a||!a.length)return;dx(f,a,!1)}o[n][r].Type==nA.TCMNT&&(i=s_(o[n][r].Target,t),w=w.concat(function(e,t){var r=[],n=!1,i={},o=0;return e.replace(h_,function(a,s){var c=p_(a);switch(g_(c[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":null!=i.t&&r.push(i);break;case"<text>":case"<text":o=s+a.length;break;case"</text>":i.t=e.slice(o,s).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":n=!0;break;case"</mentions>":case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),r}(e_(e,i,!0),c)))}),w&&w.length&&dx(f,w,!0,c.people||[])}catch(E){if(c.WTF)throw E}var b}function uR(e){return"/"==e.charAt(0)?e.slice(1):e}function hR(e,t){if(bE(),sR(t=t||{}),QE(e,"META-INF/manifest.xml"))return xO(e,t);if(QE(e,"objectdata.xml"))return xO(e,t);if(QE(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return iR(e);var r=CE.utils.cfb_new();return n_(e).forEach(function(t){i_(r,t,r_(e,t))}),iR(r)}if(!QE(e,"[Content_Types].xml")){if(QE(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(QE(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var n,i,o=n_(e),a=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var r={};if((e.match(h_)||[]).forEach(function(e){var n=p_(e);switch(n[0].replace(f_,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":void 0!==t[eA[n.ContentType]]&&t[eA[n.ContentType]].push(n.PartName)}}),t.xmlns!==Y_)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}(t_(e,"[Content_Types].xml")),s=!1;if(0===a.workbooks.length&&e_(e,i="xl/workbook.xml",!0)&&a.workbooks.push(i),0===a.workbooks.length){if(!e_(e,i="xl/workbook.bin",!0))throw new Error("Could not find workbook");a.workbooks.push(i),s=!0}"bin"==a.workbooks[0].slice(-3)&&(s=!0);var c={},l={};if(!t.bookSheets&&!t.bookProps){if(dk=[],a.sst)try{dk=_N(e_(e,uR(a.sst)),a.sst,t)}catch(N){if(t.WTF)throw N}t.cellStyles&&a.themes.length&&(c=function(e,t,r){return ix(e,r)}(t_(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(l=EN(e_(e,uR(a.style)),a.style,c,t))}a.links.map(function(r){try{oA(t_(e,iA(uR(r))),r);return AN(e_(e,uR(r)),0,r,t)}catch(N){}});var u=yN(e_(e,uR(a.workbooks[0])),a.workbooks[0],t),h={},f="";a.coreprops.length&&((f=e_(e,uR(a.coreprops[0]),!0))&&(h=dA(f)),0!==a.extprops.length&&(f=e_(e,uR(a.extprops[0]),!0))&&function(e,t,r){var n={};t||(t={}),e=O_(e),mA.forEach(function(r){var i=(e.match(D_(r[0]))||[])[1];switch(r[2]){case"string":i&&(t[r[1]]=y_(i));break;case"bool":t[r[1]]="true"===i;break;case"raw":var o=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));o&&o.length>0&&(n[r[1]]=o[1])}}),n.HeadingPairs&&n.TitlesOfParts&&yA(n.HeadingPairs,n.TitlesOfParts,t,r)}(f,h,t));var d={};t.bookSheets&&!t.bookProps||0!==a.custprops.length&&(f=t_(e,uR(a.custprops[0]),!0))&&(d=function(e,t){var r={},n="",i=e.match(bA);if(i)for(var o=0;o!=i.length;++o){var a=i[o],s=p_(a);switch(s[0]){case"<?xml":case"<Properties":break;case"<property":n=y_(s.name);break;case"</property>":n=null;break;default:if(0===a.indexOf("<vt:")){var c=a.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":r[n]=y_(u);break;case"bool":r[n]=T_(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=zE(u);break;default:if("/"==l.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",a,l,c)}}else if("</"===a.slice(0,2));else if(t.WTF)throw new Error(a)}}return r}(f,t));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?n=u.Sheets.map(function(e){return e.name}):h.Worksheets&&h.SheetNames.length>0&&(n=h.SheetNames),t.bookProps&&(p.Props=h,p.Custprops=d),t.bookSheets&&"undefined"!==typeof n&&(p.SheetNames=n),t.bookSheets?p.SheetNames:t.bookProps))return p;n={};var g={};t.bookDeps&&a.calcchain&&(g=CN(e_(e,uR(a.calcchain)),a.calcchain));var m,v,y=0,w={},b=u.Sheets;h.Worksheets=b.length,h.SheetNames=[];for(var E=0;E!=b.length;++E)h.SheetNames[E]=b[E].name;var _=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");QE(e,C)||(C="xl/_rels/workbook."+_+".rels");var A=oA(t_(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=TN(e_(e,uR(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=function(e,t){var r=[],n=!1;return e.replace(h_,function(e){var i=p_(e);switch(g_(i[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return e}),r}(e_(e,uR(a.people[0])),t)),A&&(A=function(e,t){if(!e)return 0;try{e=t.map(function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(r=e["!id"][t.id].Type,nA.WS.indexOf(r)>-1?"sheet":nA.CS&&r==nA.CS?"chart":nA.DS&&r==nA.DS?"dialog":nA.MS&&r==nA.MS?"macro":r&&r.length?r:"sheet")];var r})}catch(N){return null}return e&&0!==e.length?e:null}(A,u.Sheets));var T=e_(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var I="sheet";if(A&&A[y]?(m="xl/"+A[y][1].replace(/[\/]?xl\//,""),QE(e,m)||(m=A[y][1]),QE(e,m)||(m=C.replace(/_rels\/.*$/,"")+A[y][1]),I=A[y][2]):m=(m="xl/worksheets/sheet"+(y+1-T)+"."+_).replace(/sheet0\./,"sheet."),v=m.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var x=!1,k=0;k!=t.sheets.length;++k)"number"==typeof t.sheets[k]&&t.sheets[k]==y&&(x=1),"string"==typeof t.sheets[k]&&t.sheets[k].toLowerCase()==h.SheetNames[y].toLowerCase()&&(x=1);if(!x)continue e}}lR(e,m,v,h.SheetNames[y],y,w,n,I,t,u,c,l)}return p={Directory:a,Workbook:u,Props:h,Custprops:d,Deps:g,Sheets:n,SheetNames:h.SheetNames,Strings:dk,Styles:l,Themes:c,SSF:WE(jb)},t&&t.bookFiles&&(e.files?(p.keys=o,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(t,r){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[r]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=e_(e,uR(a.vba[0]),!0):a.defaults&&"application/vnd.ms-office.vbaProject"===a.defaults.bin&&(p.vbaraw=e_(e,"xl/vbaProject.bin",!0))),p}function fR(e,t){var r=t||{},n="Workbook",i=CE.find(e,n);try{if(n="/!DataSpaces/Version",!(i=CE.find(e,n))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=sI(e,4),t.U=sI(e,4),t.W=sI(e,4)}(i.content),n="/!DataSpaces/DataSpaceMap",!(i=CE.find(e,n))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(cI(e));return t}(i.content);if(1!==o.length||1!==o[0].comps.length||0!==o[0].comps[0].t||"StrongEncryptionDataSpace"!==o[0].name||"EncryptedPackage"!==o[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(i=CE.find(e,n))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(i.content);if(1!=a.length||"StrongEncryptionTransform"!=a[0])throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(i=CE.find(e,n))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);lI(i.content)}catch(c){}if(n="/EncryptionInfo",!(i=CE.find(e,n))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=function(e){var t=sI(e);switch(t.Minor){case 2:return[t.Minor,fI(e)];case 3:return[t.Minor,dI()];case 4:return[t.Minor,pI(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(i.content);if(n="/EncryptedPackage",!(i=CE.find(e,n))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(4==s[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(s[1],i.content,r.password||"",r);if(2==s[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(s[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function dR(e,t){return"ods"==t.bookType?RO(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=lC(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(uC(n)));var o=AR(r,{range:n,header:1}),a=["~Sh33tJ5~"];o.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&a.push(e)})});var s={},c=[],l=CE.read(t.numbers,{type:"base64"});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&WO(KO(t.content)).forEach(function(e){c.push(e.id),s[e.id]={deps:[],location:r,type:UO(e.messages[0].meta[1][0].data)}})}),c.sort(function(e,t){return e-t});var u=c.filter(function(e){return e>1}).map(function(e){return[e,jO(e)]});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&WO(KO(t.content)).forEach(function(e){e.messages.forEach(function(t){u.forEach(function(t){e.messages.some(function(e){return 11006!=UO(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])})&&s[t[0]].deps.push(e.id)})})})});for(var h,f=CE.find(l,s[1].location),d=WO(KO(f.content)),p=0;p<d.length;++p){var g=d[p];1==g.id&&(h=g)}var m=JO(VO(h.messages[0].data)[1][0].data);for(d=WO(KO((f=CE.find(l,s[m].location)).content)),p=0;p<d.length;++p)(g=d[p]).id==m&&(h=g);for(m=JO(VO(h.messages[0].data)[2][0].data),d=WO(KO((f=CE.find(l,s[m].location)).content)),p=0;p<d.length;++p)(g=d[p]).id==m&&(h=g);for(m=JO(VO(h.messages[0].data)[2][0].data),d=WO(KO((f=CE.find(l,s[m].location)).content)),p=0;p<d.length;++p)(g=d[p]).id==m&&(h=g);var v=VO(h.messages[0].data);v[6][0].data=jO(n.e.r+1),v[7][0].data=jO(n.e.c+1);for(var y=JO(v[46][0].data),w=CE.find(l,s[y].location),b=WO(KO(w.content)),E=0;E<b.length&&b[E].id!=y;++E);if(b[E].id!=y)throw"Bad ColumnRowUIDMapArchive";var _=VO(b[E].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var S=0;S<=n.e.c;++S){var C=[];C[1]=C[2]=[{type:0,data:jO(S+420690)}],_[1].push({type:2,data:zO(C)}),_[2].push({type:0,data:jO(S)}),_[3].push({type:0,data:jO(S)})}_[4]=[],_[5]=[],_[6]=[];for(var A=0;A<=n.e.r;++A)(C=[])[1]=C[2]=[{type:0,data:jO(A+726270)}],_[4].push({type:2,data:zO(C)}),_[5].push({type:0,data:jO(A)}),_[6].push({type:0,data:jO(A)});b[E].messages[0].data=zO(_),w.content=qO(GO(b)),w.size=w.content.length,delete v[46];var T=VO(v[4][0].data);T[7][0].data=jO(n.e.r+1);var I=JO(VO(T[1][0].data)[2][0].data);if((b=WO(KO((w=CE.find(l,s[I].location)).content)))[0].id!=I)throw"Bad HeaderStorageBucket";var x=VO(b[0].messages[0].data);for(A=0;A<o.length;++A){var k=VO(x[2][0].data);k[1][0].data=jO(A),k[4][0].data=jO(o[A].length),x[2][A]={type:x[2][0].type,data:zO(k)}}b[0].messages[0].data=zO(x),w.content=qO(GO(b)),w.size=w.content.length;var N=JO(T[2][0].data);if((b=WO(KO((w=CE.find(l,s[N].location)).content)))[0].id!=N)throw"Bad HeaderStorageBucket";for(x=VO(b[0].messages[0].data),S=0;S<=n.e.c;++S)(k=VO(x[2][0].data))[1][0].data=jO(S),k[4][0].data=jO(n.e.r+1),x[2][S]={type:x[2][0].type,data:zO(k)};b[0].messages[0].data=zO(x),w.content=qO(GO(b)),w.size=w.content.length;var O=JO(T[4][0].data);!function(){for(var e,t=CE.find(l,s[O].location),r=WO(KO(t.content)),n=0;n<r.length;++n){var i=r[n];i.id==O&&(e=i)}var o=VO(e.messages[0].data);o[3]=[];var c=[];a.forEach(function(e,t){c[1]=[{type:0,data:jO(t)}],c[2]=[{type:0,data:jO(1)}],c[3]=[{type:2,data:MO(e)}],o[3].push({type:2,data:zO(c)})}),e.messages[0].data=zO(o);var u=qO(GO(r));t.content=u,t.size=t.content.length}();var R=VO(T[3][0].data),D=R[1][0];delete R[2];var P=VO(D.data),M=JO(P[2][0].data);!function(){for(var e,t=CE.find(l,s[M].location),r=WO(KO(t.content)),i=0;i<r.length;++i){var c=r[i];c.id==M&&(e=c)}var u=VO(e.messages[0].data);delete u[6],delete R[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var f=0,d=0;d<=n.e.r;++d){var p=VO(h);f+=oR(p,o[d],a),p[1][0].data=jO(d),u[5].push({data:zO(p),type:2})}u[1]=[{type:0,data:jO(n.e.c+1)}],u[2]=[{type:0,data:jO(n.e.r+1)}],u[3]=[{type:0,data:jO(f)}],u[4]=[{type:0,data:jO(n.e.r+1)}],e.messages[0].data=zO(u);var g=qO(GO(r));t.content=g,t.size=t.content.length}(),D.data=zO(P),T[3][0].data=zO(R),v[4][0].data=zO(T),h.messages[0].data=zO(v);var L=qO(GO(d));return f.content=L,f.size=f.content.length,l}(e,t):"xlsb"==t.bookType?function(e,t){hx=1024,e&&!e.SSF&&(e.SSF=WE(jb));e&&e.SSF&&(bE(),wE(e.SSF),t.revssf=OE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gk?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=yx.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};cR(t=t||{});var o=o_(),a="",s=0;t.cellXfs=[],wk(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(i_(o,a="docProps/core.xml",gA(e.Props,t)),i.coreprops.push(a),sA(t.rels,2,a,nA.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var c=[],l=0;l<e.SheetNames.length;++l)2!=(e.Workbook.Sheets[l]||{}).Hidden&&c.push(e.SheetNames[l]);e.Props.SheetNames=c}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,i_(o,a,wA(e.Props)),i.extprops.push(a),sA(t.rels,3,a,nA.EXT_PROPS),e.Custprops!==e.Props&&xE(e.Custprops||{}).length>0&&(i_(o,a="docProps/custom.xml",EA(e.Custprops)),i.custprops.push(a),sA(t.rels,4,a,nA.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(i_(o,a="xl/worksheets/sheet"+s+"."+r,IN(s-1,a,t,e,u)),i.sheets.push(a),sA(t.wbrels,-1,"worksheets/sheet"+s+"."+r,nA.WS[0]),h){var f=h["!comments"],d=!1,p="";f&&f.length>0&&(i_(o,p="xl/comments"+s+"."+r,xN(f,p,t)),i.comments.push(p),sA(u,-1,"../comments"+s+"."+r,nA.CMNT),d=!0),h["!legacy"]&&d&&i_(o,"xl/drawings/vmlDrawing"+s+".vml",fx(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&i_(o,iA(a),aA(u))}null!=t.Strings&&t.Strings.length>0&&(i_(o,a="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?oI:nI)(e,r)}(t.Strings,a,t)),i.strs.push(a),sA(t.wbrels,-1,"sharedStrings."+r,nA.SST));i_(o,a="xl/workbook."+r,function(e,t,r){return(".bin"===t.slice(-4)?vN:dN)(e,r)}(e,a,t)),i.workbooks.push(a),sA(t.rels,1,a,nA.WB),i_(o,a="xl/theme/theme1.xml",ox(e.Themes,t)),i.themes.push(a),sA(t.wbrels,-1,"theme/theme1.xml",nA.THEME),i_(o,a="xl/styles."+r,function(e,t,r){return(".bin"===t.slice(-4)?YI:LI)(e,r)}(e,a,t)),i.styles.push(a),sA(t.wbrels,-1,"styles."+r,nA.STY),e.vbaraw&&n&&(i_(o,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),sA(t.wbrels,-1,"vbaProject.bin",nA.VBA));return i_(o,a="xl/metadata."+r,function(e){return(".bin"===e.slice(-4)?lx:ux)()}(a)),i.metadata.push(a),sA(t.wbrels,-1,"metadata."+r,nA.XLMETA),i_(o,"[Content_Types].xml",rA(i,t)),i_(o,"_rels/.rels",aA(t.rels)),i_(o,"xl/_rels/workbook."+r+".rels",aA(t.wbrels)),delete t.revssf,delete t.ssf,o}(e,t):pR(e,t)}function pR(e,t){hx=1024,e&&!e.SSF&&(e.SSF=WE(jb)),e&&e.SSF&&(bE(),wE(e.SSF),t.revssf=OE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gk?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=yx.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};cR(t=t||{});var o=o_(),a="",s=0;if(t.cellXfs=[],wk(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i_(o,a="docProps/core.xml",gA(e.Props,t)),i.coreprops.push(a),sA(t.rels,2,a,nA.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var c=[],l=0;l<e.SheetNames.length;++l)2!=(e.Workbook.Sheets[l]||{}).Hidden&&c.push(e.SheetNames[l]);e.Props.SheetNames=c}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,i_(o,a,wA(e.Props)),i.extprops.push(a),sA(t.rels,3,a,nA.EXT_PROPS),e.Custprops!==e.Props&&xE(e.Custprops||{}).length>0&&(i_(o,a="docProps/custom.xml",EA(e.Custprops)),i.custprops.push(a),sA(t.rels,4,a,nA.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var h={"!id":{}},f=e.Sheets[e.SheetNames[s-1]];(f||{})["!type"];if(i_(o,a="xl/worksheets/sheet"+s+"."+r,jk(s-1,t,e,h)),i.sheets.push(a),sA(t.wbrels,-1,"worksheets/sheet"+s+"."+r,nA.WS[0]),f){var d=f["!comments"],p=!1,g="";if(d&&d.length>0){var m=!1;d.forEach(function(e){e[1].forEach(function(e){1==e.T&&(m=!0)})}),m&&(i_(o,g="xl/threadedComments/threadedComment"+s+"."+r,gx(d,u,t)),i.threadedcomments.push(g),sA(h,-1,"../threadedComments/threadedComment"+s+"."+r,nA.TCMNT)),i_(o,g="xl/comments"+s+"."+r,px(d)),i.comments.push(g),sA(h,-1,"../comments"+s+"."+r,nA.CMNT),p=!0}f["!legacy"]&&p&&i_(o,"xl/drawings/vmlDrawing"+s+".vml",fx(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&i_(o,iA(a),aA(h))}return null!=t.Strings&&t.Strings.length>0&&(i_(o,a="xl/sharedStrings."+r,nI(t.Strings,t)),i.strs.push(a),sA(t.wbrels,-1,"sharedStrings."+r,nA.SST)),i_(o,a="xl/workbook."+r,dN(e)),i.workbooks.push(a),sA(t.rels,1,a,nA.WB),i_(o,a="xl/theme/theme1.xml",ox(e.Themes,t)),i.themes.push(a),sA(t.wbrels,-1,"theme/theme1.xml",nA.THEME),i_(o,a="xl/styles."+r,LI(e,t)),i.styles.push(a),sA(t.wbrels,-1,"styles."+r,nA.STY),e.vbaraw&&n&&(i_(o,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),sA(t.wbrels,-1,"vbaProject.bin",nA.VBA)),i_(o,a="xl/metadata."+r,ux()),i.metadata.push(a),sA(t.wbrels,-1,"metadata."+r,nA.XLMETA),u.length>1&&(i_(o,a="xl/persons/person.xml",function(e){var t=[c_,z_("personList",null,{xmlns:$_,"xmlns:x":oS[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,r){t.push(z_("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(u)),i.people.push(a),sA(t.wbrels,-1,"persons/person.xml",nA.PEOPLE)),i_(o,"[Content_Types].xml",rA(i,t)),i_(o,"_rels/.rels",aA(t.rels)),i_(o,"xl/_rels/workbook.xml.rels",aA(t.wbrels)),delete t.revssf,delete t.ssf,o}function gR(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=yb(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function mR(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return UN(e.slice(r),t);default:break e}return GT.to_workbook(e,t)}function vR(e,t,r,n){return n?(r.type="string",GT.to_workbook(e,r)):GT.to_workbook(t,r)}function yR(e,t){lb();var r=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return yR(new Uint8Array(e),((r=WE(r)).type="array",r));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!r.type&&(r.type="undefined"!==typeof Deno?"buffer":"array");var n,i=e,o=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),pk={},r.dateNF&&(pk.dateNF=r.dateNF),r.type||(r.type=wb&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==r.type&&(r.type=wb?"buffer":"binary",i=function(e){if("undefined"!==typeof AE)return AE.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||wb||(r.type="array")),"string"==r.type&&(o=!0,r.type="binary",r.codepage=65001,i=function(e){return e.match(/[^\x00-\x7F]/)?R_(e):e}(e)),"array"==r.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var a=new ArrayBuffer(3),s=new Uint8Array(a);if(s.foo="bar",!s.foo)return(r=WE(r)).type="array",yR(Tb(i),r)}switch((n=gR(i,r))[0]){case 208:if(207===n[1]&&17===n[2]&&224===n[3]&&161===n[4]&&177===n[5]&&26===n[6]&&225===n[7])return function(e,t){return CE.find(e,"EncryptedPackage")?fR(e,t):rO(e,t)}(CE.read(i,r),r);break;case 9:if(n[1]<=8)return rO(i,r);break;case 60:return UN(i,r);case 73:if(73===n[1]&&42===n[2]&&0===n[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===n[1])return function(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=zT.to_workbook(e,r);return r.WTF=n,i}catch(o){if(r.WTF=n,!o.message.match(/SYLK bad record ID/)&&n)throw o;return GT.to_workbook(e,t)}}(i,r);break;case 84:if(65===n[1]&&66===n[2]&&76===n[3])return HT.to_workbook(i,r);break;case 80:return 75===n[1]&&n[2]<9&&n[3]<9?function(e,t){var r=e,n=t||{};return n.type||(n.type=wb&&Buffer.isBuffer(e)?"buffer":"base64"),hR(a_(r,n),n)}(i,r):vR(e,i,r,o);case 239:return 60===n[3]?UN(i,r):vR(e,i,r,o);case 255:if(254===n[1])return function(e,t){var r=e;return"base64"==t.type&&(r=yb(r)),r=fb.utils.decode(1200,r.slice(2),"str"),t.type="binary",mR(r,t)}(i,r);if(0===n[1]&&2===n[2]&&0===n[3])return XT.to_workbook(i,r);break;case 0:if(0===n[1]){if(n[2]>=2&&0===n[3])return XT.to_workbook(i,r);if(0===n[2]&&(8===n[3]||9===n[3]))return XT.to_workbook(i,r)}break;case 3:case 131:case 139:case 140:return VT.to_workbook(i,r);case 123:if(92===n[1]&&114===n[2]&&116===n[3])return wI.to_workbook(i,r);break;case 10:case 13:case 32:return function(e,t){var r="",n=gR(e,t);switch(t.type){case"base64":r=yb(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=HE(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]&&(r=O_(r)),t.type="binary",mR(r,t)}(i,r);case 137:if(80===n[1]&&78===n[2]&&71===n[3])throw new Error("PNG Image File is not a spreadsheet")}return UT.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?VT.to_workbook(i,r):vR(e,i,r,o)}function wR(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return IE(t.file,CE.write(e,{type:wb?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return CE.write(e,t)}function bR(e,t){var r={},n=wb?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?CE.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!==typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(Cb(i))}return t.password&&"undefined"!==typeof encrypt_agile?wR(encrypt_agile(i,t.password),t):"file"===t.type?IE(t.file,i):"string"==t.type?O_(i):i}function ER(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return vb(R_(n));case"binary":return R_(n);case"string":return e;case"file":return IE(t.file,n,"utf8");case"buffer":return wb?bb(n,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(n):ER(n,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _R(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?vb(r):"string"==t.type?O_(r):r;case"file":return IE(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function SR(e,t){lb(),hN(e);var r=WE(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=SR(e,r);return r.type="array",Cb(n)}var i=0;if(r.sheet&&(i="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ER(XN(e,r),r);case"slk":case"sylk":return ER(zT.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return ER(EO(e.Sheets[e.SheetNames[i]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return vb(e);case"binary":case"string":return e;case"file":return IE(t.file,e,"binary");case"buffer":return wb?bb(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(kR(e.Sheets[e.SheetNames[i]],r),r);case"csv":return ER(xR(e.Sheets[e.SheetNames[i]],r),r,"\ufeff");case"dif":return ER(HT.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return _R(VT.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return ER(GT.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return ER(wI.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return ER(WT.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return ER(RO(e,r),r);case"wk1":return _R(XT.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return _R(XT.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),_R(gO(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return wR(nO(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r=WE(t||{});return bR(dR(e,r),r)}(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function CR(e,t,r,n,i,o,a,s){var c=iC(r),l=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),h=!0,f=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch(m){f.__rowNum__=r}else f.__rowNum__=r;if(!a||e[r])for(var d=t.s.c;d<=t.e.c;++d){var p=a?e[r][d]:e[n[d]+c];if(void 0!==p&&void 0!==p.t){var g=p.v;switch(p.t){case"z":if(null==g)break;continue;case"e":g=0==g?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=o[d]){if(null==g)if("e"==p.t&&null===g)f[o[d]]=null;else if(void 0!==l)f[o[d]]=l;else{if(!u||null!==g)continue;f[o[d]]=null}else f[o[d]]=u&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?g:dC(p,g,s);null!=g&&(h=!1)}}else{if(void 0===l)continue;null!=o[d]&&(f[o[d]]=l)}}return{row:f,isempty:h}}function AR(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,i=1,o=[],a=0,s="",c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},u=null!=l.range?l.range:e["!ref"];switch(1===l.header?n=1:"A"===l.header?n=2:Array.isArray(l.header)?n=3:null==l.header&&(n=0),typeof u){case"string":c=hC(u);break;case"number":(c=hC(e["!ref"])).s.r=u;break;default:c=u}n>0&&(i=0);var h=iC(c.s.r),f=[],d=[],p=0,g=0,m=Array.isArray(e),v=c.s.r,y=0,w={};m&&!e[v]&&(e[v]=[]);var b=l.skipHidden&&e["!cols"]||[],E=l.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(f[y]=aC(y),r=m?e[v][y]:e[f[y]+h],n){case 1:o[y]=y-c.s.c;break;case 2:o[y]=f[y];break;case 3:o[y]=l.header[y-c.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),s=a=dC(r,null,l),g=w[a]||0){do{s=a+"_"+g++}while(w[s]);w[a]=g,w[s]=1}else w[a]=1;o[y]=s}for(v=c.s.r+i;v<=c.e.r;++v)if(!(E[v]||{}).hidden){var _=CR(e,c,v,f,n,o,m,l);(!1===_.isempty||(1===n?!1!==l.blankrows:l.blankrows))&&(d[p++]=_.row)}return d.length=p,d}var TR=/"/g;function IR(e,t,r,n,i,o,a,s){for(var c=!0,l=[],u="",h=iC(r),f=t.s.c;f<=t.e.c;++f)if(n[f]){var d=s.dense?(e[r]||[])[f]:e[n[f]+h];if(null==d)u="";else if(null!=d.v){c=!1,u=""+(s.rawNumbers&&"n"==d.t?d.v:dC(d,null,s));for(var p=0,g=0;p!==u.length;++p)if((g=u.charCodeAt(p))===i||g===o||34===g||s.forceQuotes){u='"'+u.replace(TR,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==d.f||d.F?u="":(c=!1,(u="="+d.f).indexOf(",")>=0&&(u='"'+u.replace(TR,'""')+'"'));l.push(u)}return!1===s.blankrows&&c?null:l.join(a)}function xR(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=hC(e["!ref"]),o=void 0!==n.FS?n.FS:",",a=o.charCodeAt(0),s=void 0!==n.RS?n.RS:"\n",c=s.charCodeAt(0),l=new RegExp(("|"==o?"\\|":o)+"+$"),u="",h=[];n.dense=Array.isArray(e);for(var f=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(f[p]||{}).hidden||(h[p]=aC(p));for(var g=0,m=i.s.r;m<=i.e.r;++m)(d[m]||{}).hidden||null!=(u=IR(e,i,m,h,a,c,o,n))&&(n.strip&&(u=u.replace(l,"")),(u||!1!==n.blankrows)&&r.push((g++?s:"")+u));return delete n.dense,r.join("")}function kR(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=xR(e,t);if("undefined"==typeof fb||"string"==t.type)return r;var n=fb.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function NR(e,t,r){var n,i=r||{},o=+!i.skipHeader,a=e||{},s=0,c=0;if(a&&null!=i.origin)if("number"==typeof i.origin)s=i.origin;else{var l="string"==typeof i.origin?sC(i.origin):i.origin;s=l.r,c=l.c}var u={s:{c:0,r:0},e:{c:c,r:s+t.length-1+o}};if(a["!ref"]){var h=hC(a["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==s&&(s=h.e.r+1,u.e.r=s+t.length-1+o)}else-1==s&&(s=0,u.e.r=t.length-1+o);var f=i.header||[],d=0;t.forEach(function(e,t){xE(e).forEach(function(r){-1==(d=f.indexOf(r))&&(f[d=f.length]=r);var l=e[r],u="z",h="",p=cC({c:c+d,r:s+t+o});n=OR(a,p),!l||"object"!==typeof l||l instanceof Date?("number"==typeof l?u="n":"boolean"==typeof l?u="b":"string"==typeof l?u="s":l instanceof Date?(u="d",i.cellDates||(u="n",l=DE(l)),h=i.dateNF||jb[14]):null===l&&i.nullError&&(u="e",l=0),n?(n.t=u,n.v=l,delete n.w,delete n.R,h&&(n.z=h)):a[p]=n={t:u,v:l},h&&(n.z=h)):a[p]=l})}),u.e.c=Math.max(u.e.c,c+f.length-1);var p=iC(s);if(o)for(d=0;d<f.length;++d)a[aC(d+c)+p]={t:"s",v:f[d]};return a["!ref"]=uC(u),a}function OR(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=sC(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return OR(e,cC("number"!=typeof t?t:{r:t,c:r||0}))}function RR(){return{SheetNames:[],Sheets:{}}}function DR(e,t,r,n){var i=1;if(!r)for(;i<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+i);++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var o=r.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var a=o&&o[1]||r;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(r=a+i);++i);}if(uN(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function PR(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var MR={encode_col:aC,encode_row:iC,encode_cell:cC,encode_range:uC,decode_col:oC,decode_row:nC,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:sC,decode_range:lC,format_cell:dC,sheet_add_aoa:gC,sheet_add_json:NR,sheet_add_dom:_O,aoa_to_sheet:mC,json_to_sheet:function(e,t){return NR(null,e,t)},table_to_sheet:SO,table_to_book:function(e,t){return pC(SO(e,t),t)},sheet_to_csv:xR,sheet_to_txt:kR,sheet_to_json:AR,sheet_to_html:EO,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var i,o=hC(e["!ref"]),a="",s=[],c=[],l=Array.isArray(e);for(i=o.s.c;i<=o.e.c;++i)s[i]=aC(i);for(var u=o.s.r;u<=o.e.r;++u)for(a=iC(u),i=o.s.c;i<=o.e.c;++i)if(r=s[i]+a,n="",void 0!==(t=l?(e[u]||[])[i]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}c[c.length]=r+"="+n}return c},sheet_to_row_object_array:AR,sheet_get_cell:OR,book_new:RR,book_append_sheet:DR,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:PR,cell_set_internal_link:function(e,t,r){return PR(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var i="string"!=typeof t?t:hC(t),o="string"==typeof t?t:uC(t),a=i.s.r;a<=i.e.r;++a)for(var s=i.s.c;s<=i.e.c;++s){var c=OR(e,a,s);c.t="n",c.F=o,delete c.v,a==i.s.r&&s==i.s.c&&(c.f=r,n&&(c.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};rb.version;const LR=t=>{let{db:r,appId:i,showMessage:o}=t;const[a,s]=(0,e.useState)(!0),[c,l]=(0,e.useState)(!1),[u,h]=(0,e.useState)(""),[f,d]=(0,e.useState)(""),[p,g]=(0,e.useState)(14),[m,v]=(0,e.useState)(14);(0,e.useEffect)(()=>{if(!r||!i)return;(async()=>{s(!0);try{const n=Js(r,"artifacts",i,"settings","appSettings"),o=await tl(n);if(o.exists()){var e,t;const r=o.data();h(r.appName||"My Library"),d(r.logoUrl||"https://placehold.co/60x60/3b82f6/ffffff?text=LIB"),g(null!==(e=r.loanPeriodDays)&&void 0!==e?e:14),v(null!==(t=r.renewPeriodDays)&&void 0!==t?t:14)}}catch(n){o("Failed to load settings: "+n.message,"error")}finally{s(!1)}})()},[r,i,o]);const y=[{label:"Title",key:"title"},{label:"Author",key:"author"},{label:"ISBN",key:"isbn"},{label:"Language",key:"language"},{label:"Description",key:"description"},{label:"CoverUrl",key:"coverUrl"},{label:"Available",key:"available"},{label:"Copies",key:"copies"},{label:"Publisher",key:"publisher"},{label:"PublishDate",key:"publishDate"},{label:"Tags",key:"tags"},{label:"Length",key:"length"},{label:"Added",key:"added"}];return a?(0,Gu.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading settings..."}):(0,Gu.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r&&i){l(!0);try{const e=Js(r,"artifacts",i,"settings","appSettings");await ol(e,{appName:u,logoUrl:f,loanPeriodDays:p,renewPeriodDays:m}),o("App settings updated!","success")}catch(e){o("Failed to update settings: "+e.message,"error")}finally{l(!1)}}},className:"max-w-lg mx-auto bg-white rounded-lg shadow p-8 mt-8 space-y-6",children:[(0,Gu.jsx)("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"App Settings"}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"App Name"}),(0,Gu.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Library Name"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),(0,Gu.jsx)("input",{type:"text",value:f,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Logo image URL"}),(0,Gu.jsx)("div",{className:"mt-2",children:(0,Gu.jsx)("img",{src:f,alt:"Logo preview",className:"h-16 w-16 rounded shadow border inline-block",onError:e=>{e.target.src="https://placehold.co/60x60/3b82f6/ffffff?text=LIB"}})})]}),(0,Gu.jsxs)("div",{className:"flex gap-4",children:[(0,Gu.jsxs)("div",{className:"flex-1",children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Period (days)"}),(0,Gu.jsx)("input",{type:"number",min:1,value:p,onChange:e=>g(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Loan period in days"})]}),(0,Gu.jsxs)("div",{className:"flex-1",children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Renew Period (days)"}),(0,Gu.jsx)("input",{type:"number",min:1,value:m,onChange:e=>v(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Renew period in days"})]})]}),(0,Gu.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Gu.jsx)("button",{type:"button",onClick:async()=>{if(r&&i)try{const e=Qs(r,"artifacts",i,"books"),t=await nl(e),a=[];if(t.forEach(e=>{a.push((0,n.A)({id:e.id},e.data()))}),0===a.length)return void o("No books to export.","info");const s=[y.map(e=>e.label),...a.map(e=>y.map(t=>{var r;return null!==(r=e[t.key])&&void 0!==r?r:""}))],c=MR.aoa_to_sheet(s),l=MR.book_new();MR.book_append_sheet(l,c,"Books");const u=SR(l,{bookType:"xlsx",type:"array"}),h=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),f=URL.createObjectURL(h),d=document.createElement("a");d.href=f,d.download="library-books.xlsx",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(f),o("Books exported as XLSX!","success")}catch(e){o("Failed to export books: "+e.message,"error")}},className:"py-2 px-4 bg-green-700 text-white rounded-lg hover:bg-green-800",children:"Export Books XLSX"}),(0,Gu.jsxs)("label",{className:"py-2 px-4 bg-blue-700 text-white rounded-lg hover:bg-blue-800 cursor-pointer",children:["Import Books XLSX",(0,Gu.jsx)("input",{type:"file",accept:".xlsx",onChange:async e=>{if(!r||!i)return;const t=e.target.files[0];if(t)try{const e=yR(await t.arrayBuffer(),{type:"array"}),n=e.Sheets[e.SheetNames[0]],a=MR.sheet_to_json(n,{header:1});if(a.length<2)return void o("No data found in XLSX file.","error");const s=a[0];for(let t=1;t<a.length;t++){const e=a[t];if(0===e.length||e.every(e=>void 0===e||null===e||""===e))continue;const n={};s.forEach((t,r)=>{var i;const o=null===(i=y.find(e=>e.label===t))||void 0===i?void 0:i.key;o&&(n[o]=e[r])}),Object.keys(n).forEach(e=>{void 0===n[e]&&delete n[e]});const o=n.id;delete n.id,o?await il(Js(r,"artifacts",i,"books",o),n,{merge:!0}):await sl(Qs(r,"artifacts",i,"books"),n)}o("Books imported from XLSX!","success")}catch(e){o("Failed to import books: "+e.message,"error")}},className:"hidden"})]})]}),(0,Gu.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-lg font-semibold disabled:opacity-50",disabled:c,children:c?"Saving...":"Save Changes"})]})};var FR=r(963),BR=r.n(FR);BR().setAppElement("#root");const jR=async e=>{const t=[];try{const r=await fetch("https://openlibrary.org/isbn/".concat(e,".json"));if(r.ok){const e=await r.json();e.covers&&e.covers.length>0&&t.push("https://covers.openlibrary.org/b/id/".concat(e.covers[0],"-L.jpg"))}}catch(s){}try{const i=await fetch("https://www.googleapis.com/books/v1/volumes?q=isbn:".concat(e));if(i.ok){const e=await i.json();if(e.items&&e.items.length>0){var r,n;const i=null===(r=e.items[0].volumeInfo)||void 0===r||null===(n=r.imageLinks)||void 0===n?void 0:n.thumbnail;i&&t.push(i)}}}catch(c){}try{var i;const r="https://covers.librarything.com/devkey/large/isbn/".concat(e),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(i=n.headers.get("content-type"))&&void 0!==i&&i.startsWith("image")&&t.push(r)}catch(l){}try{var o;const r="https://covers.oclc.org/bib/isbn/".concat(e,"-L.jpg"),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(o=n.headers.get("content-type"))&&void 0!==o&&o.startsWith("image")&&t.push(r)}catch(u){}try{var a;const r="https://archive.org/services/img/isbn_".concat(e),n=await fetch(r,{method:"HEAD"});n.ok&&null!==(a=n.headers.get("content-type"))&&void 0!==a&&a.startsWith("image")&&t.push(r)}catch(h){}return Array.from(new Set(t))},UR=()=>{var t,r;console.log("AdminDashboard render");const[i,o]=(0,e.useState)("books"),{db:a,showMessage:s,customAppId:c,currentUser:l,isAuthReady:u}=QR(),[h,f]=(0,e.useState)(!1),[d,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)([]),[v,y]=(0,e.useState)([]),[w,b]=(0,e.useState)(!1),[E,_]=(0,e.useState)(!1),[S,C]=(0,e.useState)(null),[A,T]=(0,e.useState)({name:"",email:"",role:"patron",cardNumber:"",phone:"",address:"",libraryCardId:"",cardPin:"",isLocked:!1}),[I,x]=(0,e.useState)([]),[k,N]=(0,e.useState)([]),[O,R]=(0,e.useState)(!1),[D,P]=(0,e.useState)(""),[M,L]=(0,e.useState)(!1),[F,B]=(0,e.useState)(!1),[j,U]=(0,e.useState)({title:"",author:"",isbn:"",language:"",description:"",coverUrl:"",available:1,copies:1,publisher:"",publishDate:"",tags:"",length:"",added:""}),[V,z]=(0,e.useState)([]),[H,W]=(0,e.useState)(!1),[G,X]=(0,e.useState)(!1),[K,q]=(0,e.useState)(!1),[Y,Z]=(0,e.useState)(null),[$,Q]=(0,e.useState)(!1),J=((0,e.useMemo)(()=>l,[l]),async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a&&c)try{e&&f(!0);const t=Vc(Qs(a,"artifacts",c,"books")),r=await nl(t),i=[];r.forEach(e=>{i.push((0,n.A)({id:e.id},e.data()))}),m(e=>e.map(e=>e.id).join(",")===i.map(e=>e.id).join(",")&&JSON.stringify(e)===JSON.stringify(i)?e:i)}catch(t){s("Error loading books: "+t.message,"error")}finally{e&&f(!1)}}),ee=async()=>{if(a&&c)try{p(!0);const e=Vc(Qs(a,"artifacts",c,"users")),t=await nl(e),r=[];t.forEach(e=>{r.push((0,n.A)({id:e.id},e.data()))}),y(r)}catch(e){s("Error loading users: "+e.message,"error")}finally{p(!1)}},te=e=>{C(e),T({name:e.name||e.displayName||"",email:e.email||"",role:e.role||"patron",cardNumber:e.cardNumber||"",phone:e.phone||"",address:e.address||"",libraryCardId:e.libraryCardId||"",cardPin:e.cardPin||"",isLocked:!!e.isLocked}),_(!0)},re=async()=>{if(a&&c){R(!0);try{const r=Vc(Qs(a,"artifacts",c,"public","data","loans"),Hc("returned","==",!1)),i=await nl(r),o=[];for(const s of i.docs){const r=(0,n.A)({id:s.id},s.data());let i=null;try{const e=Js(a,"artifacts",c,"users",r.userId),t=await tl(e);i=t.exists()?t.data():null}catch(e){}let l=null;try{const e=Js(a,"artifacts",c,"books",r.bookId),t=await tl(e);l=t.exists()?t.data():null}catch(t){}o.push((0,n.A)((0,n.A)({},r),{},{user:i,book:l}))}x(o),N(o)}catch(r){s("Error loading active loans: "+r.message,"error")}finally{R(!1)}}};(0,e.useEffect)(()=>{if("active-loans"!==i)return;const e=D.trim().toLowerCase();N(e?I.filter(t=>{const r=t.user||{};return r.name&&r.name.toLowerCase().includes(e)||r.email&&r.email.toLowerCase().includes(e)||r.cardNumber&&r.cardNumber.toLowerCase().includes(e)}):I)},[D,I,i]),(0,e.useEffect)(()=>{"books"===i&&a&&(0===g.length?J(!0):J(!1))},[i,a,c]),(0,e.useEffect)(()=>{"users"===i&&a&&ee()},[i,a,c]),(0,e.useEffect)(()=>{"active-loans"===i&&a&&c&&!O&&re()},[i,a,c]),(0,e.useEffect)(()=>{"membership-requests"===i&&a&&c&&ce()},[i,a,c]);const ne=(0,e.useCallback)(e=>{Z(e),b(!0)},[]),ie=(0,e.useCallback)(e=>{B(!1),Z(null),setTimeout(()=>{var t,r;Z(e),U({title:e.title||"",author:e.author||"",isbn:e.isbn||"",language:e.language||"",description:e.description||"",coverUrl:e.coverUrl||"",available:null!==(t=e.available)&&void 0!==t?t:1,copies:null!==(r=e.copies)&&void 0!==r?r:1,publisher:e.publisher||"",publishDate:e.publishDate||"",tags:e.tags||"",length:e.length||"",added:e.added||""}),B(!0)},50)},[]),oe=async()=>{},ae=async e=>{if(a&&c&&l&&null!==e&&void 0!==e&&e.id)try{const r=Js(a,"artifacts",c,"public","data","loans",e.id);if(await ol(r,{returned:!0,forceReturnedBy:l.uid,returnDate:ul(),updatedAt:ul(),updatedBy:l.uid}),e.bookId){var t;const r=Js(a,"artifacts",c,"books",e.bookId);await ol(r,{available:((null===(t=e.book)||void 0===t?void 0:t.available)||0)+1,updatedAt:ul(),updatedBy:l.uid})}s("Loan force returned successfully!","success"),re()}catch(r){s("Failed to force return loan: "+r.message,"error")}},se=e=>{let t=e;e&&"object"===typeof e&&(t="function"===typeof e.getText?e.getText():"text"in e?e.text:""),P(t?String(t):""),L(!1)},ce=async()=>{if(a&&c){W(!0);try{const e=Vc(Qs(a,"artifacts",c,"public","data","membershipRequests")),t=await nl(e),r=[];t.forEach(e=>r.push((0,n.A)({id:e.id},e.data()))),z(r)}catch(e){s("Error loading membership requests: "+e.message,"error")}finally{W(!1)}}},le=async e=>{if(e.isLocked)s("Cannot delete a locked account. Unlock the account first.","error");else if(a&&c&&window.confirm("Are you sure you want to delete user ".concat(e.email||e.name||e.id,"? This cannot be undone.")))try{await al(Js(a,"artifacts",c,"users",e.id)),s("User deleted.","success"),ee()}catch(t){s("Failed to delete user: "+t.message,"error")}},ue=async()=>{if(a&&c){Q(!0);try{for(const e of g){if(!e.isbn)continue;const t=await jR(e.isbn);if(t.length>0&&t[0]!==e.coverUrl){const r=Js(a,"artifacts",c,"books",e.id);await ol(r,{coverUrl:t[0]})}}s("Covers updated for all books!","success"),J()}catch(e){s("Failed to update covers: "+e.message,"error")}finally{Q(!1)}}},he=()=>L(!0);(0,e.useEffect)(()=>{G&&ee()},[G]);const fe=async e=>{if(a&&c&&null!==e&&void 0!==e&&e.id)try{const t=Js(a,"artifacts",c,"public","data","loans",e.id);await ol(t,{status:"active",updatedAt:ul(),updatedBy:(null===l||void 0===l?void 0:l.uid)||"admin"}),s("Loan confirmed!","success"),re()}catch(t){s("Failed to confirm loan: "+t.message,"error")}};return(0,Gu.jsxs)("div",{className:"w-full",children:[(0,Gu.jsx)("h2",{className:"text-4xl font-extrabold text-gray-800 mb-8 text-center",children:"Admin Dashboard"}),(0,Gu.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:(0,Gu.jsxs)("p",{className:"text-blue-800",children:["Welcome back, ",(null===l||void 0===l?void 0:l.email)||"Administrator","! Manage your library efficiently."]})}),(0,Gu.jsx)("div",{className:"bg-white rounded-lg shadow-md p-2 mb-6",children:(0,Gu.jsx)("div",{className:"flex flex-wrap justify-center space-x-2",children:[{id:"books",label:"Books",icon:"\ud83d\udcda"},{id:"users",label:"Users",icon:"\ud83d\udc65"},{id:"active-loans",label:"Active Loans",icon:"\ud83d\udd04"},{id:"process-returns",label:"Returns",icon:"\u21a9\ufe0f"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"},{id:"membership-requests",label:"Membership Requests",icon:"\ud83d\udcdd"}].map(e=>(0,Gu.jsxs)("button",{onClick:()=>o(e.id),className:"px-4 py-2 rounded-lg transition-colors ".concat(i===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Gu.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),"books"===i&&(0,Gu.jsxs)("div",{style:{minHeight:"800px",background:"white"},children:[$&&(0,Gu.jsx)("div",{style:{textAlign:"center",padding:16,color:"#3b82f6",fontWeight:600},children:"Fetching covers for all books..."}),(0,Gu.jsx)(ch,{books:g,onBookClick:ne,onEditBook:ie,onFixAvailability:oe,onAddBook:()=>{U({title:"",author:"",isbn:"",language:"",description:"",coverUrl:"",available:1,copies:1}),B(!0)},onFetchAllCovers:ue})]}),"books"!==i&&(0,Gu.jsx)("div",{children:(()=>{switch(i){case"books":return(0,Gu.jsx)(ch,{books:g,loading:h,onBookClick:ne,onEditBook:ie,onFixAvailability:oe,onAddBook:()=>{U({title:"",author:"",isbn:"",language:"",description:"",coverUrl:"",available:1,copies:1}),B(!0)},onFetchAllCovers:ue});case"users":return(0,Gu.jsx)(lh,{users:v,loading:d,onEditUser:te,onDeleteUser:le});case"active-loans":return(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)(Ww,{filteredLoans:k,loadingActiveLoans:O,searchTerm:D,setSearchTerm:P,onRefresh:re,onOpenScanner:he,onScanCard:se,onForceReturn:ae,showScanner:M,setShowScanner:L,onAddLoan:()=>X(!0),onConfirmPending:fe}),(0,Gu.jsx)("div",{className:"flex justify-center mt-8",children:(0,Gu.jsx)("button",{className:"px-8 py-4 bg-black text-white text-2xl rounded-lg shadow-lg hover:bg-gray-900 transition-colors",onClick:()=>q(!0),children:"Location Loan"})})]});case"membership-requests":return(0,Gu.jsxs)("div",{className:"space-y-6",children:[(0,Gu.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Membership Requests"}),H?(0,Gu.jsx)("div",{className:"text-center py-8",children:"Loading requests..."}):0===V.length?(0,Gu.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No pending requests."}):(0,Gu.jsxs)("table",{className:"w-full text-sm",children:[(0,Gu.jsx)("thead",{children:(0,Gu.jsxs)("tr",{className:"border-b",children:[(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Name"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Email"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Phone"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Address"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Library Card"}),(0,Gu.jsx)("th",{className:"py-2 text-left",children:"Actions"})]})}),(0,Gu.jsx)("tbody",{children:V.map(e=>(0,Gu.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Gu.jsx)("td",{className:"py-2",children:e.fullName}),(0,Gu.jsx)("td",{className:"py-2",children:e.email}),(0,Gu.jsx)("td",{className:"py-2",children:e.phone}),(0,Gu.jsx)("td",{className:"py-2",children:e.address}),(0,Gu.jsx)("td",{className:"py-2",children:e.libraryCard}),(0,Gu.jsxs)("td",{className:"py-2",children:[(0,Gu.jsx)("button",{onClick:()=>(async e=>{if(a&&c)try{const t=Qs(a,"artifacts",c,"users");await sl(t,{name:e.fullName,displayName:e.fullName,email:e.email,role:"patron",cardNumber:e.libraryCard,phone:e.phone,address:e.address,createdAt:ul(),isLocked:!1}),await al(Js(a,"artifacts",c,"public","data","membershipRequests",e.id)),s("Membership approved and user created!","success"),ce(),ee()}catch(t){s("Failed to approve membership: "+t.message,"error")}})(e),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-xs",children:"Approve"}),(0,Gu.jsx)("button",{onClick:()=>(async e=>{if(a&&c&&window.confirm("Are you sure you want to reject this membership request?"))try{await al(Js(a,"artifacts",c,"public","data","membershipRequests",e.id)),s("Membership request rejected.","success"),ce()}catch(t){s("Failed to reject membership: "+t.message,"error")}})(e),className:"px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 text-xs ml-2",children:"Reject"})]})]},e.id))})]})]});case"settings":return(0,Gu.jsx)(LR,{db:a,appId:c,showMessage:s});default:return(0,Gu.jsx)("div",{children:"Select a tab to view content"})}})()}),(0,Gu.jsx)(Gw,{show:E,user:S,form:A,setForm:T,onSave:async()=>{if(S&&a&&c)try{await Xw(a,c,S.id,A,l),await ee(),_(!1),C(null),s("User updated successfully!","success")}catch(e){s("Failed to update user. Please try again.","error")}},onClose:()=>_(!1)}),F&&Y&&(0,Gu.jsx)(Qw,{show:!0,book:Y,form:j,setForm:U,onSave:async()=>{if(a&&c)try{if(Y&&Y.id){const e=Js(a,"artifacts",c,"books",Y.id);await ol(e,(0,n.A)((0,n.A)({},j),{},{updatedAt:ul(),updatedBy:(null===l||void 0===l?void 0:l.uid)||"admin"})),s("Book updated successfully!","success")}else{const e=Qs(a,"artifacts",c,"books");await sl(e,(0,n.A)((0,n.A)({},j),{},{createdAt:ul(),updatedAt:ul(),updatedBy:(null===l||void 0===l?void 0:l.uid)||"admin"})),s("Book added successfully!","success")}B(!1),Z(null),setTimeout(()=>J(),1e3)}catch(e){s("Failed to save book. Please try again.","error")}},onClose:()=>B(!1),books:g}),(0,Gu.jsx)(eb,{show:G,onClose:()=>{X(!1),re()},users:v,books:g}),(0,Gu.jsx)(BR(),{isOpen:w&&!!Y,onRequestClose:()=>b(!1),contentLabel:"Book Details",style:{overlay:{zIndex:1e3,backgroundColor:"rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},content:{maxWidth:600,margin:"auto",borderRadius:8,padding:0,background:"#f8fafc",border:"none",boxShadow:"0 2px 8px rgba(59,130,246,0.08)",height:"fit-content",maxHeight:"90vh",overflowY:"auto",display:"block"}},children:Y&&u?(0,Gu.jsxs)("div",{className:"p-0 md:px-6 md:pt-2 md:pb-2",style:{paddingBottom:0,marginBottom:0,height:"auto"},children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-start border-b border-slate-200 px-4 pt-2 pb-1",children:[(0,Gu.jsx)("h3",{className:"text-base font-bold text-slate-800 tracking-tight",children:"Book Details"}),(0,Gu.jsx)("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600 text-xl font-bold",style:{background:"none",border:"none",cursor:"pointer",lineHeight:1},"aria-label":"Close",children:"\xd7"})]}),(0,Gu.jsxs)("div",{className:"flex flex-col md:flex-row gap-x-4 gap-y-1 px-4 py-2",children:[(0,Gu.jsxs)("div",{className:"flex flex-col items-center md:items-start",children:[(0,Gu.jsx)("img",{src:Y.coverUrl||"https://placehold.co/100x150/3b82f6/ffffff?text=\ud83d\udcda",alt:"Cover of ".concat(Y.title||"Book"),className:"w-20 h-28 object-cover border mb-1",onError:e=>{e.target.src="https://placehold.co/100x150/3b82f6/ffffff?text=\ud83d\udcda"},style:{maxHeight:112}}),(0,Gu.jsx)("span",{className:"inline-block px-1 py-0.5 rounded-full text-xs font-semibold mb-0.5 ".concat(Y.available>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:Y.available>0?"Available":"Out of Stock"}),Y.genre&&(0,Gu.jsx)("span",{className:"inline-block bg-indigo-100 text-indigo-700 rounded-full px-1 py-0.5 text-xs font-semibold mb-0.5",children:Y.genre})]}),(0,Gu.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,Gu.jsx)("div",{className:"text-base font-bold text-slate-900 mb-0.5",children:Y.title||"Untitled Book"}),(0,Gu.jsxs)("div",{className:"text-xs text-slate-700 mb-0.5",children:["by ",Y.author||"Unknown Author"]}),(0,Gu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-0.5 text-xs",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"ISBN:"})," ",Y.isbn||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Language:"})," ",Y.language||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Publisher:"})," ",Y.publisher||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Publish Date:"})," ",Y.publishDate||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Available:"})," ",null!==(t=Y.available)&&void 0!==t?t:"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Total Copies:"})," ",null!==(r=Y.copies)&&void 0!==r?r:"N/A"]})]}),(0,Gu.jsxs)("div",{className:"mt-1",children:[(0,Gu.jsx)("div",{className:"font-semibold text-slate-700 mb-0.5",children:"Description"}),(0,Gu.jsx)("div",{className:"text-slate-700 whitespace-pre-line text-xs bg-slate-50 rounded p-1 shadow-inner",children:Y.description||"No description."})]}),Y.tags&&(0,Gu.jsx)("div",{className:"mt-1",style:{marginBottom:0},children:(0,Gu.jsx)("span",{className:"inline-block bg-blue-100 text-blue-700 rounded-full px-1 py-0.5 text-xs font-semibold",style:{marginBottom:0},children:Y.tags})})]})]})]}):(0,Gu.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,Gu.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-2"}),(0,Gu.jsx)("span",{className:"text-gray-500",children:"Loading book info..."})]})}),K&&(0,Gu.jsx)(tb,{onClose:()=>q(!1),users:v,books:g,db:a,appId:c,showMessage:s,fetchActiveLoans:re})]})},VR=zu("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),zR=zu("star-half",[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]]),HR=e=>{let{books:t,isBorrowing:r,onBookClick:n,onBorrowBook:i,gridClassName:o}=e;return(0,Gu.jsx)("div",{className:o||"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:t.length>0?t.map((e,t)=>(0,Gu.jsxs)("div",{className:"group cursor-pointer transition-all duration-300 rounded-2xl overflow-visible fade-up bg-gradient-to-br from-white via-blue-50 to-blue-100 shadow-lg border border-slate-100 hover:scale-105 hover:ring-2 hover:ring-blue-300",style:{boxShadow:"0 6px 24px rgba(59,130,246,0.10)",border:"none","--fade-delay":"".concat(60*t,"ms")},onClick:()=>n(e),children:[(0,Gu.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:18},children:(0,Gu.jsx)("img",{src:e.coverUrl||"https://placehold.co/120x180/3b82f6/ffffff?text=\ud83d\udcda",alt:"Cover of ".concat(e.title||"Book"),style:{width:120,height:180,objectFit:"cover",borderRadius:10,marginBottom:16,boxShadow:"0 2px 8px rgba(59,130,246,0.08)"},onError:e=>{e.target.src="https://placehold.co/120x180/3b82f6/ffffff?text=\ud83d\udcda"}})}),(0,Gu.jsxs)("div",{className:"p-3 pt-0",children:[(0,Gu.jsx)("h4",{className:"font-semibold text-gray-800 text-base leading-tight line-clamp-2 mb-1 text-center",children:e.title||"Untitled Book"}),(0,Gu.jsxs)("p",{className:"text-xs text-gray-600 line-clamp-1 mb-2 text-center",children:["by ",e.author||"Unknown Author"]}),(0,Gu.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Gu.jsx)("div",{className:"flex items-center",children:"number"===typeof e.rating?(0,Gu.jsxs)("span",{className:"flex items-center",children:[[1,2,3,4,5].map(t=>e.rating>=t?(0,Gu.jsx)(VR,{size:12,className:"text-yellow-400 fill-yellow-400 mr-0.5",fill:"#facc15"},t):e.rating>=t-.5?(0,Gu.jsx)(zR,{size:12,className:"text-yellow-400 fill-yellow-400 mr-0.5",fill:"#facc15"},t):(0,Gu.jsx)(VR,{size:12,className:"text-gray-300 mr-0.5"},t)),(0,Gu.jsxs)("span",{className:"text-xs text-gray-600 ml-1",children:[e.rating.toFixed(1),"/5"]})]}):(0,Gu.jsx)("span",{className:"text-sm text-gray-600",children:"No rating"})}),e.genre&&(0,Gu.jsx)("span",{className:"text-xs text-gray-500",children:e.genre})]}),(0,Gu.jsx)("button",{className:"w-full py-2 rounded-lg transition-colors text-xs font-medium ".concat(e.available>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:e.available<=0||r,onClick:t=>{t.stopPropagation(),e.available>0&&i(e)},children:r?"Borrowing...":e.available>0?"Borrow":"Unavailable"})]})]},e.id)):(0,Gu.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,Gu.jsx)("p",{className:"text-gray-500 mb-4",children:"No books available in the library."}),(0,Gu.jsx)("p",{className:"text-sm text-gray-400",children:"Check back later for new additions!"})]})})},WR=e=>{const t=Math.abs(e),r=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),o=Math.floor(t%6e4/1e3);return"".concat(r,"d ").concat(n.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0"))},GR=t=>{let{myLoans:r,onRenewLoan:n,onReturnBook:i,onBrowse:o,loanPeriodDays:a=14,renewPeriodDays:s=14}=t;const c=[...r].sort((e,t)=>e.returned===t.returned?0:e.returned?1:-1),[l,u]=(0,e.useState)(Date.now());return(0,e.useEffect)(()=>{const e=setInterval(()=>u(Date.now()),1e3);return()=>clearInterval(e)},[]),(0,Gu.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:c.length>0?(0,Gu.jsx)("div",{className:"space-y-4",children:c.map(e=>{const t=((e,t,r)=>{var n;const i=null!==(n=e.loanDate)&&void 0!==n&&n.toDate?e.loanDate.toDate():new Date(e.loanDate),o=e.renewed||"renewed"===e.status?r:t;return new Date(i.getTime()+24*o*60*60*1e3)})(e,a,s),r=t-l,i=!e.returned&&"pending"!==e.status&&("active"===e.status||"renewed"===e.status);return(0,Gu.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,Gu.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("h4",{className:"font-semibold text-gray-800",children:e.bookTitle||"Unknown Book"}),(0,Gu.jsxs)("p",{className:"text-sm text-gray-500",children:["Borrowed: ",uh(e.loanDate)]}),e.returnDate&&(0,Gu.jsxs)("p",{className:"text-sm text-gray-500",children:["Returned: ",uh(e.returnDate)]}),i&&(0,Gu.jsx)("p",{className:"text-sm font-semibold mt-1 ".concat(r<0?"text-red-600":"text-blue-700"),title:"Due date: ".concat(t.toLocaleString()),children:r>=0?"Due in ".concat(WR(r)):"Overdue by ".concat(WR(r))}),!e.returned&&"pending"!==e.status&&(0,Gu.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"To return a book, please visit the library desk."})]}),(0,Gu.jsxs)("div",{className:"text-right",children:[(0,Gu.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.returned?"bg-gray-100 text-gray-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.returned?"Returned":"pending"===e.status?"Pending":"active"===e.status?"Active":"renewed"===e.status?"Renewed":"Overdue"}),(0,Gu.jsx)("div",{className:"mt-2",children:!e.returned&&"pending"!==e.status&&(0,Gu.jsx)(Gu.Fragment,{children:(0,Gu.jsx)("button",{className:e.renewed||"renewed"===e.status?"text-gray-400 bg-gray-100 cursor-not-allowed text-sm mr-3 px-2 py-1 rounded":"text-blue-600 hover:text-blue-800 text-sm mr-3",onClick:()=>{e.renewed||"renewed"===e.status||n(e)},disabled:e.renewed||"renewed"===e.status,children:e.renewed||"renewed"===e.status?"Can only be renewed once":"Renew"})})})]})]})},e.id)})}):(0,Gu.jsxs)("div",{className:"text-center py-8",children:[(0,Gu.jsx)("p",{className:"text-gray-500",children:"You don't have any active loans."}),(0,Gu.jsx)("button",{onClick:o,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Books"})]})})},XR=e=>{let{myReviews:t,onBrowse:r}=e;return(0,Gu.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:t.length>0?(0,Gu.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Gu.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Gu.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gu.jsx)("span",{className:"font-medium text-gray-800",children:e.bookTitle||"Unknown Book"}),(0,Gu.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(t=>(0,Gu.jsx)("span",{className:"text-sm ".concat(t<=e.rating?"text-yellow-400":"text-gray-300"),children:"\u2605"},t))})]}),(0,Gu.jsx)("span",{className:"text-xs text-gray-500",children:uh(e.createdAt)})]}),(0,Gu.jsx)("p",{className:"text-gray-700",children:e.reviewText})]},e.id))}):(0,Gu.jsxs)("div",{className:"text-center py-8",children:[(0,Gu.jsx)(VR,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,Gu.jsx)("p",{className:"text-gray-500 mb-4",children:"You haven't written any reviews yet."}),(0,Gu.jsx)("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Books to Review"})]})})},KR=async(e,t,r,n)=>{if(!e||!t||!r)throw new Error("Missing required parameters");const i=Js(e,"artifacts",t,"public","data","loans",n.id);if(await ol(i,{returned:!0,returnDate:new Date,returnedBy:r.uid}),n.bookId){const r=Js(e,"artifacts",t,"books",n.bookId),i=await tl(r),o=i.exists()&&i.data().available||0;await ol(r,{available:o+1})}},qR=()=>{var t,r;const[i,o]=(0,e.useState)("browse"),[a,s]=(0,e.useState)(""),[c,l]=(0,e.useState)([]),[u,h]=(0,e.useState)([]),[f,d]=(0,e.useState)(null),[p,g]=(0,e.useState)(!1),[m,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)([]),[b,E]=(0,e.useState)([]),[_,S]=(0,e.useState)(!1),[C,A]=(0,e.useState)(null),[T,I]=(0,e.useState)(""),[x,k]=(0,e.useState)(0),[N,O]=(0,e.useState)(!1),{currentUser:R,db:D,customAppId:P,loanPeriodDays:M,renewPeriodDays:L}=QR(),[F,B]=(0,e.useState)(null),[j,U]=(0,e.useState)(!1),[V,z]=(0,e.useState)("title"),[H,W]=(0,e.useState)(""),[G,X]=(0,e.useState)(0),[K,q]=(0,e.useState)(!1),[Y,Z]=(0,e.useState)({}),[$,Q]=(0,e.useState)(!1),J=["Terrible","Bad","Okay","Good","Excellent"],[ee,te]=(0,e.useState)(0),re=Array.from(new Set(c.flatMap(e=>e.tags?e.tags.split(",").map(e=>e.trim()).filter(Boolean):[])));function ne(e){return e?e.split(" ")[0].toLowerCase():""}function ie(e){if(!e)return"";const t=e.trim().split(" ");return t.length>1?t[t.length-1].toLowerCase():t[0].toLowerCase()}(0,e.useEffect)(()=>{if("my-loans"===i&&D&&R){nl(Vc(Qs(D,"artifacts",P,"public","data","loans"),Hc("userId","==",R.uid))).then(e=>{const t=[];e.forEach(e=>{t.push((0,n.A)({id:e.id},e.data()))}),h(t)}).catch(()=>{})}},[i,D,P,R]);(0,e.useEffect)(()=>{if(!D||!P||!f)return void E([]);S(!0);(async()=>{try{const e=Vc(Qs(D,"artifacts",P,"public","data","reviews"),Hc("bookId","==",f.id)),t=await nl(e),r=[];t.forEach(e=>r.push((0,n.A)({id:e.id},e.data()))),E(r)}catch(e){E([])}finally{S(!1)}})()},[D,P,f]),(0,e.useEffect)(()=>{if(!D||!P)return;(async()=>{try{const e=Vc(Qs(D,"artifacts",P,"public","data","reviews")),t=await nl(e),r={};t.forEach(e=>{const t=e.data();t.bookId&&"number"===typeof t.rating&&(r[t.bookId]||(r[t.bookId]=[]),r[t.bookId].push(t.rating))});const n={};Object.entries(r).forEach(e=>{let[t,r]=e;const i=r.reduce((e,t)=>e+t,0)/r.length;n[t]=Math.round(10*i)/10}),Z(n)}catch(e){}})()},[D,P]),(0,e.useEffect)(()=>{"browse"===i&&D&&(async()=>{if(D&&P)try{const e=Vc(Qs(D,"artifacts",P,"books")),t=await nl(e),r=[];t.forEach(e=>{r.push((0,n.A)({id:e.id},e.data()))}),l(r)}catch(e){}})()},[i,D,P]),(0,e.useEffect)(()=>{"reviews"===i&&D&&R&&(async()=>{if(D&&P&&R)try{const e=Vc(Qs(D,"artifacts",P,"public","data","reviews"),Hc("userId","==",R.uid)),t=await nl(e),r=[];t.forEach(e=>{r.push((0,n.A)({id:e.id},e.data()))}),w(r)}catch(e){}})()},[i,D,P,R]);let oe=c.filter(e=>{const t=a.trim().toLowerCase(),r=!t||e.title&&e.title.toLowerCase().includes(t)||e.author&&e.author.toLowerCase().includes(t)||e.genre&&e.genre.toLowerCase().includes(t),n=!F||e.tags&&e.tags.split(",").map(e=>e.trim()).includes(F);return r&&n});oe=oe.map(e=>(0,n.A)((0,n.A)({},e),{},{rating:Y[e.id]||null})),oe=[...oe].sort((e,t)=>"title"===V?(e.title||"").localeCompare(t.title||""):"authorFirst"===V?ne(e.author).localeCompare(ne(t.author)):"authorLast"===V?ie(e.author).localeCompare(ie(t.author)):"genre"===V?(e.genre||"").localeCompare(t.genre||""):"available"===V?(t.available||0)-(e.available||0):0);const ae=e=>{d(e),g(!0)},se=async e=>{if(D&&P&&R&&e&&!(e.available<=0)){v(!0);try{const t=Qs(D,"artifacts",P,"public","data","loans");await sl(t,{userId:R.uid,bookId:e.id,bookTitle:e.title||"",loanDate:new Date,returned:!1,status:"pending",createdAt:ul()});const r=Js(D,"artifacts",P,"books",e.id);await ol(r,{available:(e.available||1)-1}),l(t=>t.map(t=>t.id===e.id?(0,n.A)((0,n.A)({},t),{},{available:(t.available||1)-1}):t)),Q(!0)}catch(t){alert("Failed to borrow book: "+(t.message||t))}finally{v(!1)}}},ce=async e=>{try{await KR(D,P,R,e),h(t=>t.map(t=>t.id===e.id?(0,n.A)((0,n.A)({},t),{},{returned:!0,returnDate:new Date}):t)),e.bookId&&l(t=>t.map(t=>t.id===e.bookId?(0,n.A)((0,n.A)({},t),{},{available:(t.available||0)+1}):t))}catch(t){alert("Permission denied. Please contact your administrator. This might be due to incorrect collection paths or security rules.")}},le=async e=>{if(!e.renewed&&"renewed"!==e.status)try{const t=Js(D,"artifacts",P,"public","data","loans",e.id);await ol(t,{status:"renewed",renewed:!0}),h(t=>t.map(t=>t.id===e.id?(0,n.A)((0,n.A)({},t),{},{status:"renewed",renewed:!0}):t))}catch(t){alert("Failed to renew loan: "+(t.message||t))}};return(0,e.useEffect)(()=>{if(!j)return;const e=e=>{e.target.closest(".tag-selector-dropdown")||U(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[j]),(0,Gu.jsxs)("div",{className:"w-full",children:[(0,Gu.jsx)("h2",{className:"text-4xl font-extrabold text-gray-800 mb-8 text-center",children:"Patron Dashboard"}),(0,Gu.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:(0,Gu.jsxs)("p",{className:"text-blue-800",children:["Welcome back, ",(null===R||void 0===R?void 0:R.email)||"Patron","! Ready to discover your next great read?"]})}),(0,Gu.jsx)("div",{className:"bg-white rounded-lg shadow-md p-2 mb-6",children:(0,Gu.jsx)("div",{className:"flex flex-wrap justify-center space-x-2",children:[{id:"browse",label:"Browse Books",icon:"\ud83d\udcda"},{id:"my-loans",label:"My Loans",icon:"\ud83d\udcd6"},{id:"reviews",label:"Reviews",icon:"\u2b50"}].map(e=>(0,Gu.jsxs)("button",{onClick:()=>o(e.id),className:"px-4 py-2 rounded-lg transition-colors ".concat(i===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Gu.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,Gu.jsx)("div",{className:"min-h-96",children:(()=>{switch(i){case"browse":return(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsxs)("div",{style:{maxWidth:700,margin:"0 auto 24px auto",display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[(0,Gu.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search by title, author, or genre...",style:{width:"100%",padding:"10px 16px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16,outline:"none",boxShadow:"0 1px 4px rgba(59,130,246,0.06)",background:"#fff"}}),re.length>0&&(0,Gu.jsx)("div",{style:{position:"relative",minHeight:32},children:j?(0,Gu.jsxs)("div",{className:"tag-selector-dropdown",style:{position:"absolute",zIndex:10,background:"#fff",border:"1px solid #cbd5e1",borderRadius:10,boxShadow:"0 4px 24px rgba(0,0,0,0.10)",padding:12,display:"flex",flexWrap:"wrap",gap:8,minWidth:220},tabIndex:-1,children:[(0,Gu.jsx)("button",{onClick:()=>{B(null),U(!1)},style:{background:F?"#e0e7ff":"#3b82f6",color:F?"#3730a3":"#fff",border:"none",borderRadius:8,padding:"4px 12px",fontWeight:600,cursor:"pointer"},children:"All"}),re.map(e=>(0,Gu.jsx)("button",{onClick:()=>{B(e),U(!1)},style:{background:F===e?"#3b82f6":"#e0e7ff",color:F===e?"#fff":"#3730a3",border:"none",borderRadius:8,padding:"4px 12px",fontWeight:600,cursor:"pointer"},children:e},e))]}):(0,Gu.jsx)("button",{onClick:()=>U(!0),style:{background:"#e0e7ff",color:"#3730a3",border:"none",borderRadius:8,padding:"4px 16px",fontWeight:600,cursor:"pointer",minWidth:120},children:F?"Tag: ".concat(F):"Filter by tag"})}),(0,Gu.jsxs)("select",{value:V,onChange:e=>z(e.target.value),style:{background:"#fff",border:"1px solid #cbd5e1",borderRadius:8,padding:"8px 12px",fontWeight:600,color:"#3730a3",cursor:"pointer",minWidth:120},title:"Sort books by...",children:[(0,Gu.jsx)("option",{value:"title",children:"Title (A-Z)"}),(0,Gu.jsx)("option",{value:"authorFirst",children:"Author Firstname (A-Z)"}),(0,Gu.jsx)("option",{value:"authorLast",children:"Author Lastname (A-Z)"}),(0,Gu.jsx)("option",{value:"genre",children:"Genre (A-Z)"}),(0,Gu.jsx)("option",{value:"available",children:"Available (most first)"})]})]}),(0,Gu.jsx)(HR,{books:oe,isBorrowing:m,onBookClick:ae,onBorrowBook:se,gridClassName:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"})]});case"my-loans":return(0,Gu.jsx)(GR,{myLoans:u,onRenewLoan:le,onReturnBook:ce,onBrowse:()=>o("browse"),loanPeriodDays:M,renewPeriodDays:L});case"reviews":return(0,Gu.jsx)(XR,{myReviews:y,onBrowse:()=>o("browse")});default:return(0,Gu.jsx)("div",{children:"Select a tab to view content"})}})()}),p&&f&&(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",onClick:()=>g(!1),children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg max-w-xl w-full shadow-lg relative",style:{maxHeight:"90vh",width:"100%",overflowY:"visible",overflowX:"visible",display:"flex",flexDirection:"column",wordBreak:"break-word"},onClick:e=>e.stopPropagation(),children:[(0,Gu.jsxs)("div",{className:"flex justify-between items-start border-b border-slate-200 px-4 pt-2 pb-1",children:[(0,Gu.jsx)("h3",{className:"text-base font-bold text-slate-800 tracking-tight",children:"Book Details"}),(0,Gu.jsx)("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-slate-600 text-xl font-bold",style:{background:"none",border:"none",cursor:"pointer",lineHeight:1},"aria-label":"Close",children:"\xd7"})]}),(0,Gu.jsxs)("div",{className:"flex flex-col md:flex-row gap-x-4 gap-y-1 px-4 py-2",children:[(0,Gu.jsxs)("div",{className:"flex flex-col items-center md:items-start",children:[(0,Gu.jsx)("img",{src:f.coverUrl||"https://placehold.co/100x150/3b82f6/ffffff?text=\ud83d\udcda",alt:"Cover of ".concat(f.title||"Book"),className:"w-20 h-28 object-cover border mb-1",onError:e=>{e.target.src="https://placehold.co/100x150/3b82f6/ffffff?text=\ud83d\udcda"},style:{maxHeight:112}}),(0,Gu.jsx)("span",{className:"inline-block px-1 py-0.5 rounded-full text-xs font-semibold mb-0.5 ".concat(f.available>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:f.available>0?"Available":"Out of Stock"}),f.genre&&(0,Gu.jsx)("span",{className:"inline-block bg-indigo-100 text-indigo-700 rounded-full px-1 py-0.5 text-xs font-semibold mb-0.5",children:f.genre})]}),(0,Gu.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,Gu.jsx)("div",{className:"text-base font-bold text-slate-900 mb-0.5",children:f.title||"Untitled Book"}),(0,Gu.jsxs)("div",{className:"text-xs text-slate-700 mb-0.5",children:["by ",f.author||"Unknown Author"]}),(0,Gu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-0.5 text-xs",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"ISBN:"})," ",f.isbn||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Language:"})," ",f.language||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Publisher:"})," ",f.publisher||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Publish Date:"})," ",f.publishDate||"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Available:"})," ",null!==(t=f.available)&&void 0!==t?t:"N/A"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold text-slate-600",children:"Total Copies:"})," ",null!==(r=f.copies)&&void 0!==r?r:"N/A"]})]}),(0,Gu.jsxs)("div",{className:"mt-1",children:[(0,Gu.jsx)("div",{className:"font-semibold text-slate-700 mb-0.5",children:"Description"}),(0,Gu.jsx)("div",{className:"text-slate-700 whitespace-pre-line text-xs bg-slate-50 rounded p-1 shadow-inner",children:f.description||"No description."})]}),(0,Gu.jsx)("div",{className:"flex items-center mb-2",children:"number"===typeof Y[f.id]?(0,Gu.jsxs)("span",{className:"flex items-center",children:[[1,2,3,4,5].map(e=>Y[f.id]>=e?(0,Gu.jsx)(VR,{size:18,className:"text-yellow-400 fill-yellow-400 mr-0.5",fill:"#facc15"},e):Y[f.id]>=e-.5?(0,Gu.jsx)(zR,{size:18,className:"text-yellow-400 fill-yellow-400 mr-0.5",fill:"#facc15"},e):(0,Gu.jsx)(VR,{size:18,className:"text-gray-300 mr-0.5"},e)),(0,Gu.jsxs)("span",{className:"text-xs text-gray-600 ml-1",children:[Y[f.id].toFixed(1),"/5"]})]}):(0,Gu.jsx)("span",{className:"text-sm text-gray-600",children:"No rating"})}),(0,Gu.jsxs)("div",{className:"mt-2",children:[(0,Gu.jsx)("div",{className:"font-semibold text-slate-700 mb-1",children:"Reviews"}),_?(0,Gu.jsx)("div",{className:"text-xs text-gray-400",children:"Loading reviews..."}):0===b.length?(0,Gu.jsx)("div",{className:"text-xs text-gray-400",children:"No reviews yet for this book."}):(0,Gu.jsx)("div",{className:"space-y-2 pr-1",style:{maxWidth:"100%",wordBreak:"break-word"},children:b.map(e=>(0,Gu.jsxs)("div",{className:"bg-slate-50 rounded p-2 shadow-inner",style:{maxWidth:"100%",wordBreak:"break-word"},children:[(0,Gu.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,Gu.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:e.userName||"Anonymous"}),(0,Gu.jsx)("span",{className:"flex flex-row items-center gap-1",style:{maxWidth:"100%"},children:[1,2,3,4,5].map(e=>(0,Gu.jsx)("button",{type:"button",className:"group/star p-0.5 rounded-full focus:outline-none",style:{cursor:N?"not-allowed":"pointer",background:"transparent",border:"none"},onClick:()=>k(e),onMouseEnter:()=>te(e),onMouseLeave:()=>te(0),disabled:N,children:(ee?e<=ee:e<=x)?(0,Gu.jsx)(VR,{size:22,className:"text-yellow-400 transition-colors duration-150"}):(0,Gu.jsx)(VR,{size:22,className:"text-gray-300 transition-colors duration-150"})},e))}),(0,Gu.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleDateString():""}),R&&e.userId===R.uid&&(C===e.id?null:(0,Gu.jsx)("button",{className:"ml-2 text-xs text-blue-600 hover:underline",onClick:()=>{A(e.id),I(e.reviewText||""),k(e.rating||0)},children:"Edit"}))]}),C===e.id?(0,Gu.jsxs)("div",{className:"mt-1 space-y-1 p-2 bg-white rounded shadow max-w-full",style:{boxSizing:"border-box",wordBreak:"break-word"},children:[(0,Gu.jsx)("textarea",{className:"w-full text-xs border rounded p-1 resize-none",style:{minHeight:48,maxHeight:96,maxWidth:"100%"},rows:2,value:T,onChange:e=>I(e.target.value),disabled:N}),(0,Gu.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,Gu.jsx)("span",{className:"text-xs",children:"Rating:"}),(0,Gu.jsxs)("div",{className:"flex flex-row items-center gap-1",style:{maxWidth:"100%"},children:[[1,2,3,4,5].map(e=>(0,Gu.jsx)("button",{type:"button",className:"group/star p-0.5 rounded-full focus:outline-none",style:{cursor:N?"not-allowed":"pointer",background:"transparent",border:"none"},onClick:()=>k(e),onMouseEnter:()=>te(e),onMouseLeave:()=>te(0),disabled:N,children:(ee?e<=ee:e<=x)?(0,Gu.jsx)(VR,{size:22,className:"text-yellow-400 transition-colors duration-150"}):(0,Gu.jsx)(VR,{size:22,className:"text-gray-300 transition-colors duration-150"})},e)),(0,Gu.jsx)("span",{className:"ml-2 text-xs text-gray-500",style:{maxWidth:"100%",wordBreak:"break-word"},children:ee?J[ee-1]:x?J[x-1]:""})]}),(0,Gu.jsx)("button",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",disabled:N||!T.trim(),onClick:async()=>{if(D&&P&&f){O(!0);try{const t=Js(D,"artifacts",P,"public","data","reviews",e.id);await ol(t,{reviewText:T,rating:x,updatedAt:ul()}),E(t=>t.map(t=>t.id===e.id?(0,n.A)((0,n.A)({},t),{},{reviewText:T,rating:x}):t)),A(null)}catch(t){alert("Failed to update review: "+(t.message||t))}finally{O(!1)}}},children:"Save"}),(0,Gu.jsx)("button",{className:"px-2 py-0.5 text-xs bg-gray-200 rounded hover:bg-gray-300 ml-1",onClick:()=>A(null),disabled:N,children:"Cancel"})]})]}):(0,Gu.jsx)("div",{className:"text-xs text-slate-700 whitespace-pre-line",children:e.reviewText})]},e.id))}),R&&!b.some(e=>e.userId===R.uid)&&(0,Gu.jsxs)("div",{className:"mt-3 p-2 bg-slate-50 rounded shadow-inner",children:[(0,Gu.jsx)("div",{className:"font-semibold text-xs mb-1",children:"Add your review"}),(0,Gu.jsx)("textarea",{className:"w-full text-xs border rounded p-1 resize-none mb-2",style:{minHeight:48,maxHeight:96,maxWidth:"100%"},rows:2,value:H,onChange:e=>W(e.target.value),placeholder:"Write your review...",disabled:K}),(0,Gu.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-2",children:[(0,Gu.jsx)("span",{className:"text-xs",children:"Rating:"}),(0,Gu.jsx)("div",{className:"flex flex-row items-center gap-1",children:[1,2,3,4,5].map(e=>(0,Gu.jsx)("button",{type:"button",className:"group/star p-0.5 rounded-full focus:outline-none",style:{cursor:K?"not-allowed":"pointer",background:"transparent",border:"none"},onClick:()=>X(e),disabled:K,children:e<=G?(0,Gu.jsx)(VR,{size:22,className:"text-yellow-400 transition-colors duration-150"}):(0,Gu.jsx)(VR,{size:22,className:"text-gray-300 transition-colors duration-150"})},e))}),(0,Gu.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:G?J[G-1]:""})]}),(0,Gu.jsx)("button",{className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",disabled:K||!H.trim()||!G,onClick:async()=>{if(D&&P&&f){q(!0);try{const e=Qs(D,"artifacts",P,"public","data","reviews"),t=await sl(e,{userId:R.uid,userName:R.displayName||R.email||"Anonymous",bookId:f.id,bookTitle:f.title||"",reviewText:H,rating:G,createdAt:ul()});E(e=>[...e,{id:t.id,userId:R.uid,userName:R.displayName||R.email||"Anonymous",bookId:f.id,bookTitle:f.title||"",reviewText:H,rating:G,createdAt:new Date}]),w(e=>[...e,{id:t.id,userId:R.uid,userName:R.displayName||R.email||"Anonymous",bookId:f.id,bookTitle:f.title||"",reviewText:H,rating:G,createdAt:new Date}]),W(""),X(0)}catch(e){alert("Failed to submit review: "+(e.message||e))}finally{q(!1)}}},children:"Submit Review"})]})]}),f.tags&&(0,Gu.jsx)("div",{className:"mt-1",style:{marginBottom:0},children:(0,Gu.jsx)("span",{className:"inline-block bg-blue-100 text-blue-700 rounded-full px-1 py-0.5 text-xs font-semibold",style:{marginBottom:0},children:f.tags})})]})]})]})}),$&&(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",onClick:()=>Q(!1),children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg max-w-sm w-full shadow-lg relative p-6 flex flex-col items-center",onClick:e=>e.stopPropagation(),children:[(0,Gu.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Book Added to Loans"}),(0,Gu.jsxs)("p",{className:"text-gray-700 text-center mb-4",children:["The book has been added to your loans and is ",(0,Gu.jsx)("b",{children:"awaiting confirmation from the library"}),". This will be granted when the book is handed out to you by a librarian."]}),(0,Gu.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-semibold",onClick:()=>Q(!1),children:"OK"})]})})]})},YR=()=>{const{currentUser:t,db:r,userId:i,customAppId:o,showMessage:a,isAuthReady:s}=QR(),c=!(!t||!t.displayName&&!t.name),[l,u]=(0,e.useState)(!1),[h,f]=(0,e.useState)({name:(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t?void 0:t.name)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",address:(null===t||void 0===t?void 0:t.address)||"",email:(null===t||void 0===t?void 0:t.email)||"",cardPin:(null===t||void 0===t?void 0:t.cardPin)||""}),[d,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(c),v=(0,e.useRef)((null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t?void 0:t.name)||""),y=(0,e.useRef)((null===t||void 0===t?void 0:t.email)||""),w=(0,e.useRef)((null===t||void 0===t?void 0:t.phone)||""),b=(0,e.useRef)((null===t||void 0===t?void 0:t.address)||""),E=(0,e.useRef)((null===t||void 0===t?void 0:t.cardPin)||"");e.useEffect(()=>{t&&(t.displayName||t.name)&&(m(!0),v.current=t.displayName||t.name,y.current=t.email||"",w.current=t.phone||"",b.current=t.address||"",E.current=t.cardPin||"")},[t]),e.useEffect(()=>{console.log("UserAccount currentUser:",t)},[t]);return s?t?g?(0,Gu.jsxs)("div",{className:"max-w-lg mx-auto bg-white rounded-lg shadow p-8 mt-8",children:[(0,Gu.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"My Account"}),l?(0,Gu.jsxs)("div",{className:"space-y-4",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g?(0,Gu.jsx)("input",{type:"text",value:h.name,onChange:e=>f((0,n.A)((0,n.A)({},h),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,Gu.jsx)("span",{className:"inline-block w-full h-10 bg-gray-200 rounded animate-pulse"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g?(0,Gu.jsx)("input",{type:"email",value:h.email,onChange:e=>f((0,n.A)((0,n.A)({},h),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,Gu.jsx)("span",{className:"inline-block w-full h-10 bg-gray-200 rounded animate-pulse"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),g?(0,Gu.jsx)("input",{type:"tel",value:h.phone,onChange:e=>f((0,n.A)((0,n.A)({},h),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,Gu.jsx)("span",{className:"inline-block w-full h-10 bg-gray-200 rounded animate-pulse"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),g?(0,Gu.jsx)("input",{type:"text",value:h.address,onChange:e=>f((0,n.A)((0,n.A)({},h),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,Gu.jsx)("span",{className:"inline-block w-full h-10 bg-gray-200 rounded animate-pulse"})]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code"}),g?(0,Gu.jsx)("input",{type:"password",value:h.cardPin,onChange:e=>f((0,n.A)((0,n.A)({},h),{},{cardPin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"new-password",placeholder:"Enter PIN Code"}):(0,Gu.jsx)("span",{className:"inline-block w-full h-10 bg-gray-200 rounded animate-pulse"})]}),(0,Gu.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,Gu.jsx)("button",{onClick:async()=>{if(r&&o&&i){p(!0);try{const e=Js(r,"artifacts",o,"users",i);await ol(e,{name:h.name,displayName:h.name,phone:h.phone,address:h.address,email:h.email,cardPin:h.cardPin}),a&&a("Account updated!","success"),u(!1)}catch(e){a&&a("Failed to update account: "+e.message,"error")}finally{p(!1)}}},className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:d||!g,children:d?"Saving...":"Save"}),(0,Gu.jsx)("button",{onClick:()=>u(!1),className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:d,children:"Cancel"})]})]}):(0,Gu.jsxs)("div",{className:"space-y-2",children:[(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold",children:"Name:"})," ",v.current]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold",children:"Email:"})," ",y.current]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",w.current]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold",children:"Address:"})," ",b.current]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold",children:"Role:"})," ",t.role||"patron"]}),(0,Gu.jsxs)("div",{children:[(0,Gu.jsx)("span",{className:"font-semibold",children:"UID:"})," ",t.uid]}),(0,Gu.jsx)("button",{onClick:()=>{f({name:v.current,email:y.current,phone:w.current,address:b.current,cardPin:E.current}),u(!0)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit My Info"})]})]}):(0,Gu.jsx)("div",{className:"max-w-lg mx-auto bg-white rounded-lg shadow p-8 mt-8",children:(0,Gu.jsxs)("div",{className:"space-y-4",children:[(0,Gu.jsx)("div",{className:"h-8 w-1/2 bg-gray-200 rounded animate-pulse mb-4"}),(0,Gu.jsx)("div",{className:"h-6 w-1/3 bg-gray-200 rounded animate-pulse mb-2"}),(0,Gu.jsx)("div",{className:"h-6 w-2/3 bg-gray-200 rounded animate-pulse mb-2"}),(0,Gu.jsx)("div",{className:"h-6 w-1/2 bg-gray-200 rounded animate-pulse mb-2"}),(0,Gu.jsx)("div",{className:"h-6 w-1/4 bg-gray-200 rounded animate-pulse mb-2"}),(0,Gu.jsx)("div",{className:"h-6 w-1/4 bg-gray-200 rounded animate-pulse mb-2"}),(0,Gu.jsx)("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse mt-4"})]})}):(0,Gu.jsx)("div",{className:"max-w-lg mx-auto bg-white rounded-lg shadow p-8 mt-8 text-gray-500",children:"No user information available."}):(0,Gu.jsx)("div",{className:"max-w-lg mx-auto bg-white rounded-lg shadow p-8 mt-8 text-gray-500",children:"Loading account..."})},ZR=t=>{let{setCurrentPage:n}=t;const{auth:i,db:o,customAppId:a,showMessage:s}=QR(),[c,l]=(0,e.useState)(""),[u,h]=(0,e.useState)(""),[f,d]=(0,e.useState)(""),[p,g]=(0,e.useState)(""),[m,v]=(0,e.useState)(""),[y,w]=(0,e.useState)(""),[b,E]=(0,e.useState)(!1),[_,S]=(0,e.useState)(!1),[C,A]=(0,e.useState)(!1),[T,I]=(0,e.useState)(!1);return(0,Gu.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[(0,Gu.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Welcome to My Library"}),(0,Gu.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i){I(!0);try{if(C){if(!o||!a)throw new Error("Database not ready");return await sl(Qs(o,"artifacts",a,"public","data","membershipRequests"),{email:c,password:u,fullName:f,phone:p,address:m,libraryCard:b?y:"",hasLibraryCard:b,createdAt:ul(),status:"pending"}),s&&s("Registration request submitted! An admin must approve your membership before you can log in.","success"),A(!1),l(""),h(""),d(""),g(""),v(""),w(""),E(!1),void S(!1)}await Promise.resolve().then(r.bind(r,442)).then(e=>{let{signInWithEmailAndPassword:t}=e;return t(i,c,u)}),s&&s("Login successful!","success"),n&&n("patron")}catch(t){s&&s(t.message,"error")}finally{I(!1)}}},className:"w-full max-w-xs space-y-4",children:[(0,Gu.jsx)("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email",value:c,onChange:e=>l(e.target.value),required:!0}),(0,Gu.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Password",value:u,onChange:e=>h(e.target.value),required:!0}),C&&(0,Gu.jsxs)(Gu.Fragment,{children:[(0,Gu.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full Name",value:f,onChange:e=>d(e.target.value),required:!0}),(0,Gu.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone",value:p,onChange:e=>g(e.target.value),required:!0}),(0,Gu.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Address",value:m,onChange:e=>v(e.target.value),required:!0}),(0,Gu.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gu.jsx)("input",{type:"checkbox",id:"hasLibraryCard",checked:b,onChange:e=>E(e.target.checked)}),(0,Gu.jsx)("label",{htmlFor:"hasLibraryCard",className:"text-sm text-gray-700",children:"I already have a library card"})]}),b&&(0,Gu.jsxs)("div",{className:"space-y-2",children:[(0,Gu.jsx)("button",{type:"button",className:"w-full py-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200",onClick:()=>S(!0),children:_?"Enter Card Number Below":"Click here to scan or enter your card number"}),_&&(0,Gu.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Library Card Number",value:y,onChange:e=>w(e.target.value),required:!0})]})]}),(0,Gu.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:T,children:T?C?"Submitting...":"Logging in...":C?"Request Membership":"Login"})]}),(0,Gu.jsx)("button",{className:"mt-4 text-blue-600 hover:underline",onClick:()=>A(e=>!e),children:C?"Already have an account? Login":"Don't have an account? Register"})]})},$R=(0,e.createContext)(null),QR=()=>(0,e.useContext)($R),JR={apiKey:"AIzaSyAs1Qu5ezH2JY4Anag4Kf-aEIG7uSKBWc8",authDomain:"library-app-2beba.firebaseapp.com",projectId:"library-app-2beba",storageBucket:"library-app-2beba.firebasestorage.app",messagingSenderId:"819248854208",appId:"1:819248854208:web:ffc5055a21624475cbe925",measurementId:"G-QNS8M4YBWP"},eD=JR.projectId,tD=()=>{const[t,r]=(0,e.useState)(null),[o,a]=(0,e.useState)(null),[c,l]=(0,e.useState)(null),[h,f]=(0,e.useState)(null),[d,p]=(0,e.useState)(null),[g,m]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!0),[w,b]=(0,e.useState)("login"),[E,_]=(0,e.useState)(""),[S,C]=(0,e.useState)(""),[A,T]=(0,e.useState)("https://placehold.co/60x60/3b82f6/ffffff?text=LIB"),[I,x]=(0,e.useState)("My Library"),[k,N]=(0,e.useState)("Loading Library..."),[O,R]=(0,e.useState)(!1),[D,P]=(0,e.useState)([]),[M,L]=(0,e.useState)([]),[F,B]=(0,e.useState)(!1),[j,U]=(0,e.useState)([]),[V,z]=(0,e.useState)(!1),[H,W]=(0,e.useState)(null),[G,X]=(0,e.useState)({name:"",email:"",role:"patron",cardNumber:"",phone:""}),[K,q]=(0,e.useState)(14),[Y,Z]=(0,e.useState)(14),$=(0,e.useCallback)((e,t)=>{_(e),C(t),setTimeout(()=>{_(""),C("")},5e3)},[]);(0,e.useEffect)(()=>{const e="quagga-script";let t=document.getElementById(e);return t?window.Quagga&&R(!0):(t=document.createElement("script"),t.id=e,t.src="https://unpkg.com/quagga@0.12.1/dist/quagga.min.js",t.async=!0,t.onload=()=>{console.log("QuaggaJS script loaded successfully."),R(!0)},t.onerror=()=>{console.error("Failed to load QuaggaJS script."),R(!1),$("Failed to load barcode scanner library. Please check your internet connection.","error")},document.body.appendChild(t)),()=>{}},[$]),(0,e.useEffect)(()=>{let e=()=>{},t=()=>{};return(async()=>{try{const o=JR,c=eD;if(!o||0===Object.keys(o).length)return console.error("Firebase config is missing or empty."),$("Firebase configuration is missing. Please ensure the app is running in a valid environment.","error"),void y(!1);const h=(0,i.Wp)(o);Ou(h);const d=oc(h),g=(0,s.getAuth)(h);r(d),a(g);const v=Js(d,"artifacts",c,"settings","appSettings");t=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i,o,a;e=(0,u.Ku)(e);let s={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof r[c]||nc(r[c])||(s=r[c],c++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nc(r[c])){const e=r[c];r[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),r[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),r[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let h,f,d;if(e instanceof Zs)f=Ws(e.firestore,ic),d=kr(e._key.path),h={next:t=>{r[c]&&r[c](ll(f,e,t))},error:r[c+1],complete:r[c+2]};else{const t=Ws(e,Ys);f=Ws(t.firestore,ic),d=t._query;const n=new rl(f);h={next:e=>{r[c]&&r[c](new Jc(f,n,t,e))},error:r[c+1],complete:r[c+2]},Bc(e._query)}return function(e,t,r,n){const i=new Is(n),o=new Ka(t,i,r);return e.asyncQueue.enqueueAndForget(async()=>Ua(await Ms(e),o)),()=>{i.xu(),e.asyncQueue.enqueueAndForget(async()=>Va(await Ms(e),o))}}(ac(f),d,l,h)}(v,async e=>{if(e.exists()){var t,r;const n=e.data();T(n.logoUrl||"https://placehold.co/60x60/3b82f6/ffffff?text=LIB"),N(n.loadingText||"Loading Library..."),x(n.appName||"My Library"),q(null!==(t=n.loanPeriodDays)&&void 0!==t?t:14),Z(null!==(r=n.renewPeriodDays)&&void 0!==r?r:14)}else await il(v,{logoUrl:"https://placehold.co/60x60/3b82f6/ffffff?text=LIB",loadingText:"Loading Library...",appName:"My Library",loanPeriodDays:14,renewPeriodDays:14}),T("https://placehold.co/60x60/3b82f6/ffffff?text=LIB"),N("Loading Library..."),x("My Library"),q(14),Z(14)},e=>{console.error("Error fetching app settings:",e),$("Error loading app settings: ".concat(e.message),"error")}),e=(0,s.onAuthStateChanged)(g,async e=>{if(e){l(e);const r=e.uid;f(r),console.log("App - onAuthStateChanged: User detected, UID:",r);const i=Js(d,"artifacts",c,"users",r);try{const t=await tl(i);if(console.log("App - onAuthStateChanged: User document exists in Firestore?",t.exists()),t.exists()){const r=t.data();p(r.role),l((0,n.A)((0,n.A)({},JSON.parse(JSON.stringify(e))),r)),console.log("Setting currentUser to:",(0,n.A)((0,n.A)({},JSON.parse(JSON.stringify(e))),r)),b(e=>"login"===e||"admin"===e||"patron"===e?"admin"===r.role?"admin":"patron":e),console.log("App - onAuthStateChanged: User data from Firestore:",r),console.log("Current user role (from Firestore):",r.role)}else p("patron"),b("patron"),await il(i,{uid:r,email:e.isAnonymous?"anonymous@example.com":e.email,role:"patron",createdAt:new Date,loans:[]},{merge:!0}),console.log("App - onAuthStateChanged: Created new user document for:",r,"with role: patron"),console.log("Current user role (newly created): patron")}catch(t){return console.error("App - onAuthStateChanged: Error fetching/creating user document:",t),$("Error with user data: ".concat(t.message,". Please check Firestore rules for users collection."),"error"),void y(!1)}}else l(null),f(null),p(null),b("login"),console.log("App - onAuthStateChanged: No user found or user logged out.");m(!0),y(!1)})}catch(o){console.error("App - Initialize Firebase Error:",o),$("Error initializing app: ".concat(o.message),"error"),y(!1)}})(),()=>{e(),t()}},[$,eD,JR]),(0,e.useEffect)(()=>{if(!document.getElementById("google-fonts-playfair-lora")){const e=document.createElement("link");e.id="google-fonts-playfair-lora",e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Playfair+Display:wght@400;700&display=swap",document.head.appendChild(e)}if(!document.querySelector('meta[name="viewport"]')){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0",document.head.appendChild(e)}if(!document.getElementById("global-modern-style")){const e=document.createElement("style");e.id="global-modern-style",e.innerHTML="\n        html, body {\n          font-family: 'Lora', Georgia, 'Times New Roman', Times, serif;\n          background: #f7f7fa;\n          color: #222;\n          font-size: 16px;\n          min-height: 100vh;\n        }\n        h1, h2, h3, h4, h5, h6 {\n          font-family: 'Playfair Display', 'Times New Roman', Times, serif;\n          font-weight: 700;\n          letter-spacing: 0.01em;\n        }\n        .modern-card, .bg-white, .bg-blue-50 {\n          border-radius: 1.25rem !important;\n          box-shadow: 0 2px 16px 0 rgba(60,60,90,0.07), 0 1.5px 4px 0 rgba(60,60,90,0.04);\n          background: #fff;\n        }\n        .modern-btn, button, .btn {\n          border-radius: 0.75rem !important;\n          font-size: 1rem;\n          font-family: 'Lora', Georgia, 'Times New Roman', Times, serif;\n          padding: 0.75rem 1.5rem;\n          min-width: 44px;\n          min-height: 44px;\n          transition: background 0.2s, color 0.2s, box-shadow 0.2s, transform 0.1s;\n        }\n        .modern-btn:active, button:active, .btn:active {\n          transform: scale(0.97);\n        }\n        .modern-btn-primary, .bg-blue-600 {\n          background: #2563eb !important;\n          color: #fff !important;\n          border: none;\n        }\n        .modern-btn-primary:hover, .bg-blue-600:hover {\n          background: #1d4ed8 !important;\n        }\n        .modern-btn-danger, .bg-red-600 {\n          background: #dc2626 !important;\n          color: #fff !important;\n        }\n        .modern-btn-danger:hover, .bg-red-600:hover {\n          background: #b91c1c !important;\n        }\n        .modern-btn-secondary, .bg-gray-800 {\n          background: #22223b !important;\n          color: #fff !important;\n        }\n        .modern-btn-secondary:hover, .bg-gray-900 {\n          background: #1a1a2e !important;\n        }\n        .modern-modal, .fixed.inset-0.bg-black.bg-opacity-50 {\n          z-index: 1000;\n        }\n        .modern-modal .bg-white {\n          border-radius: 1.25rem;\n          max-width: 95vw;\n        }\n        .modern-table, table {\n          width: 100%;\n          border-collapse: separate;\n          border-spacing: 0;\n        }\n        .modern-table th, .modern-table td, table th, table td {\n          padding: 0.75rem 0.5rem;\n          font-size: 1rem;\n        }\n        .modern-table th {\n          background: #f1f5f9;\n          font-weight: 700;\n        }\n        .modern-table-responsive, .overflow-x-auto {\n          overflow-x: auto;\n          -webkit-overflow-scrolling: touch;\n        }\n        @media (max-width: 640px) {\n          html, body {\n            font-size: 15px;\n          }\n          .max-w-4xl, .max-w-2xl, .max-w-md {\n            max-width: 100vw !important;\n            padding-left: 0.5rem !important;\n            padding-right: 0.5rem !important;\n          }\n          .p-6, .p-8, .p-4 {\n            padding: 1rem !important;\n          }\n          .rounded-xl, .rounded-lg {\n            border-radius: 1rem !important;\n          }\n          .modern-table th, .modern-table td, table th, table td {\n            padding: 0.5rem 0.25rem;\n            font-size: 0.95rem;\n          }\n          .modern-modal .bg-white {\n            padding: 1rem !important;\n            max-width: 98vw;\n          }\n        }\n      ",document.head.appendChild(e)}},[]);const Q=async()=>{if(o)try{await(0,s.signOut)(o),$("You have been logged out.","success")}catch(e){console.error("Logout Error:",e),$("Logout failed: ".concat(e.message),"error")}},J=()=>{b("user-account")},ee=()=>{b("admin"===d?"admin":"patron")};return v||!g?(0,Gu.jsx)(Ku,{text:k,logoUrl:A}):(0,Gu.jsx)(Vw,{children:(0,Gu.jsx)($R.Provider,{value:{db:t,auth:o,currentUser:c,userId:h,userRole:d,isAuthReady:g,loading:v,currentPage:w,message:E,messageType:S,logoUrl:A,appName:I,loadingText:k,quaggaScriptLoaded:O,customAppId:eD,showMessage:$,handleLogout:Q,handleViewMyAccount:J,handleGoHome:ee,activeLoans:D,filteredLoans:M,loadingActiveLoans:F,users:j,setActiveLoans:P,setFilteredLoans:L,setLoadingActiveLoans:B,setUsers:U,loanPeriodDays:K,renewPeriodDays:Y},children:(0,Gu.jsxs)("div",{className:"min-h-screen bg-gray-100 font-sans",children:[E&&(0,Gu.jsx)("div",{className:"fixed top-0 left-0 right-0 p-4 text-white text-center z-50 ".concat("success"===S?"bg-green-500":"bg-red-500"),children:E}),"login"!==w&&(0,Gu.jsx)(Xu,{userRole:d,onLogout:Q,onGoHome:ee,onViewAccount:J,logoUrl:A,appName:I}),(0,Gu.jsxs)("main",{className:"w-full max-w-4xl mx-auto p-8",children:["login"===w&&(0,Gu.jsx)(ZR,{setCurrentPage:b}),"admin"===w&&(0,Gu.jsx)(UR,{}),"patron"===w&&(0,Gu.jsx)(qR,{}),"user-account"===w&&(0,Gu.jsx)(YR,{})]})]})})})},rD=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then(t=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:o,getTTFB:a}=t;r(e),n(e),i(e),o(e),a(e)})};t.createRoot(document.getElementById("root")).render((0,Gu.jsx)(e.StrictMode,{children:(0,Gu.jsx)(tD,{})})),rD()})()})();
//# sourceMappingURL=main.bec8be9b.js.map